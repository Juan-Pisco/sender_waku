!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.jswaku=t():e.jswaku=t()}(this,(function(){return(()=>{var e,t={63607:function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.proto=t.StoreCodec=t.WakuStore=t.PageDirection=t.waku_store=t.RelayCodecs=t.WakuRelay=t.waku_relay=t.PushResponse=t.LightPushCodec=t.WakuLightPush=t.waku_light_push=t.getPublicKey=t.generateSymmetricKey=t.generatePrivateKey=t.WakuMessage=t.waku_message=t.DefaultPubSubTopic=t.Waku=t.waku=t.utils=t.enr=t.discovery=t.getNodesFromHostedJson=void 0;var n=r(48994);Object.defineProperty(t,"getNodesFromHostedJson",{enumerable:!0,get:function(){return n.getNodesFromHostedJson}}),t.discovery=s(r(48994)),t.enr=s(r(69460)),t.utils=s(r(61721)),t.waku=s(r(90607));var a=r(90607);Object.defineProperty(t,"Waku",{enumerable:!0,get:function(){return a.Waku}}),Object.defineProperty(t,"DefaultPubSubTopic",{enumerable:!0,get:function(){return a.DefaultPubSubTopic}}),t.waku_message=s(r(92560));var u=r(92560);Object.defineProperty(t,"WakuMessage",{enumerable:!0,get:function(){return u.WakuMessage}});var c=r(48340);Object.defineProperty(t,"generatePrivateKey",{enumerable:!0,get:function(){return c.generatePrivateKey}}),Object.defineProperty(t,"generateSymmetricKey",{enumerable:!0,get:function(){return c.generateSymmetricKey}}),Object.defineProperty(t,"getPublicKey",{enumerable:!0,get:function(){return c.getPublicKey}}),t.waku_light_push=s(r(17087));var d=r(17087);Object.defineProperty(t,"WakuLightPush",{enumerable:!0,get:function(){return d.WakuLightPush}}),Object.defineProperty(t,"LightPushCodec",{enumerable:!0,get:function(){return d.LightPushCodec}}),Object.defineProperty(t,"PushResponse",{enumerable:!0,get:function(){return d.PushResponse}}),t.waku_relay=s(r(22979));var l=r(22979);Object.defineProperty(t,"WakuRelay",{enumerable:!0,get:function(){return l.WakuRelay}}),Object.defineProperty(t,"RelayCodecs",{enumerable:!0,get:function(){return l.RelayCodecs}}),t.waku_store=s(r(95960));var p=r(95960);Object.defineProperty(t,"PageDirection",{enumerable:!0,get:function(){return p.PageDirection}}),Object.defineProperty(t,"WakuStore",{enumerable:!0,get:function(){return p.WakuStore}}),Object.defineProperty(t,"StoreCodec",{enumerable:!0,get:function(){return p.StoreCodec}}),t.proto=s(r(15888))},94134:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Bootstrap=void 0;const i=o(r(11227)),s=r(46584),n=r(66216),a=r(48994),u=i.default("waku:discovery:bootstrap");class c{constructor(e){const t=e.maxPeers??c.DefaultMaxPeers;if(e.default)u("Use hosted list of peers."),this.getBootstrapPeers=a.getNodesFromHostedJson.bind({},void 0,void 0,t);else if(void 0!==e.peers&&e.peers.length>0){u("Use provided list of peers.");const r=e.peers.map((e=>new s.Multiaddr(e))),o=a.getPseudoRandomSubset(r,t);this.getBootstrapPeers=()=>Promise.resolve(o)}else if("function"==typeof e.getPeers){u("Bootstrap: Use provided getPeers function.");const r=e.getPeers;this.getBootstrapPeers=async()=>{const e=await r();return a.getPseudoRandomSubset(e,t).map((e=>new s.Multiaddr(e)))}}else if(e.enrUrl){const r=e.enrUrl;u("Use provided EIP-1459 ENR Tree URL.");const o=n.DnsNodeDiscovery.dnsOverHttp();this.getBootstrapPeers=async()=>{const e=await o.getPeers(t,[r]);return u(`Found ${e.length} peers`),e.map((e=>e.getFullMultiaddrs())).flat()}}else u("No bootstrap method specified, no peer will be returned"),this.getBootstrapPeers=void 0}}t.Bootstrap=c,c.DefaultMaxPeers=1},66216:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DnsNodeDiscovery=void 0;const i=o(r(69282)),s=r(11227),n=r(69460),a=r(31613),u=r(98395),c=s.debug("waku:discovery:dns");class d{constructor(e){this._errorTolerance=10,this._DNSTreeCache={},this.dns=e}static dnsOverHttp(e){const t=new a.DnsOverHttps(e);return new d(t)}async getPeers(e,t){let r=0;const o=[],i=Math.floor(Math.random()*t.length),{publicKey:s,domain:n}=u.ENRTree.parseTree(t[i]);for(;o.length<e&&r<e+this._errorTolerance;){const e={domain:n,publicKey:s,visits:{}},t=await this._search(n,e);t&&l(t,o)&&(o.push(t),c(`got new peer candidate from DNS address=${t.nodeId}@${t.ip}`)),r++}return o}async _search(e,t){const r=await this._getTXTRecord(e,t);let o,i;t.visits[e]=!0;const s=function(e){return e.startsWith(u.ENRTree.ROOT_PREFIX)?u.ENRTree.ROOT_PREFIX:e.startsWith(u.ENRTree.BRANCH_PREFIX)?u.ENRTree.BRANCH_PREFIX:e.startsWith(u.ENRTree.RECORD_PREFIX)?u.ENRTree.RECORD_PREFIX:""}(r);try{switch(s){case u.ENRTree.ROOT_PREFIX:return o=u.ENRTree.parseAndVerifyRoot(r,t.publicKey),await this._search(o,t);case u.ENRTree.BRANCH_PREFIX:return i=u.ENRTree.parseBranch(r),o=function(e,t){const r={};for(const[o,i]of e.entries())t.visits[i]&&(r[o]=!0);if(Object.keys(r).length===e.length)throw new Error("Unresolvable circular path detected");let o;do{o=Math.floor(Math.random()*e.length)}while(r[o]);return e[o]}(i,t),await this._search(o,t);case u.ENRTree.RECORD_PREFIX:return n.ENR.decodeTxt(r);default:return null}}catch(t){return c(`Failed to search DNS tree ${s} at subdomain ${e}: ${t}`),null}}async _getTXTRecord(e,t){if(this._DNSTreeCache[e])return this._DNSTreeCache[e];const r=e!==t.domain?`${e}.${t.domain}`:t.domain,o=await this.dns.resolveTXT(r);i.default(o.length,"Received empty result array while fetching TXT record"),i.default(o[0].length,"Received empty TXT record");const s=o.join("");return this._DNSTreeCache[e]=s,s}}function l(e,t){if(!e||!e.nodeId)return!1;for(const r of t)if(e.nodeId===r.nodeId)return!1;return!0}t.DnsNodeDiscovery=d},31613:(e,t,r)=>{"use strict";var o=r(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.DnsOverHttps=void 0;const i=r(46176),{cloudflare:s,google:n,opendns:a}=i.endpoints;t.DnsOverHttps=class{constructor(e=[s,n,a]){this.endpoints=e}async resolveTXT(e){const t=(await i.query({questions:[{type:"TXT",name:e}]})).answers.map((e=>e.data)),r=[];return t.forEach((e=>{"string"==typeof e?r.push(e):Array.isArray(e)?e.forEach((e=>{"string"==typeof e?r.push(e):r.push(o.from(e).toString("utf-8"))})):r.push(o.from(e).toString("utf-8"))})),r}}},98395:function(e,t,r){"use strict";var o=r(48764).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ENRTree=void 0;const u=a(r(69282)),c=a(r(45772)),d=n(r(89090)),l=r(17221),p=r(69460),f=r(61721);class h{static parseAndVerifyRoot(e,t){u.default(e.startsWith(this.ROOT_PREFIX),`ENRTree root entry must start with '${this.ROOT_PREFIX}'`);const r=h.parseRootValues(e),i=d.decode.asBytes(t),s=e.split(" sig")[0],n=o.from(s),a=c.default.toBuffer(r.signature).slice(0,64),p=o.from(i),y=l.ecdsaVerify(a,f.keccak256Buf(n),p);return u.default(y,"Unable to verify ENRTree root signature"),r.eRoot}static parseRootValues(e){const t=e.match(/^enrtree-root:v1 e=([^ ]+) l=([^ ]+) seq=(\d+) sig=([^ ]+)$/);u.default.ok(Array.isArray(t),"Could not parse ENRTree root entry"),t.shift();const[r,o,i,s]=t;return u.default.ok(r,"Could not parse 'e' value from ENRTree root entry"),u.default.ok(o,"Could not parse 'l' value from ENRTree root entry"),u.default.ok(i,"Could not parse 'seq' value from ENRTree root entry"),u.default.ok(s,"Could not parse 'sig' value from ENRTree root entry"),{eRoot:r,lRoot:o,seq:Number(i),signature:s}}static parseTree(e){u.default(e.startsWith(this.TREE_PREFIX),`ENRTree tree entry must start with '${this.TREE_PREFIX}'`);const t=e.match(/^enrtree:\/\/([^@]+)@(.+)$/);u.default.ok(Array.isArray(t),"Could not parse ENRTree tree entry"),t.shift();const[r,o]=t;return u.default.ok(r,"Could not parse public key from ENRTree tree entry"),u.default.ok(o,"Could not parse domain from ENRTree tree entry"),{publicKey:r,domain:o}}static parseBranch(e){return u.default(e.startsWith(this.BRANCH_PREFIX),`ENRTree branch entry must start with '${this.BRANCH_PREFIX}'`),e.split(this.BRANCH_PREFIX)[1].split(",")}}t.ENRTree=h,h.RECORD_PREFIX=p.ENR.RECORD_PREFIX,h.TREE_PREFIX="enrtree:",h.BRANCH_PREFIX="enrtree-branch:",h.ROOT_PREFIX="enrtree-root:"},77607:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getNodesFromHostedJson=void 0;const i=o(r(9669)),s=o(r(11227)),n=r(46584),a=r(48994),u=s.default("waku:discovery");t.getNodesFromHostedJson=async function(e=["fleets","wakuv2.prod","waku-websocket"],t="https://fleets.status.im/",r=1){if(r<=0)return[];let o=(await i.default.get(t,{headers:{"Content-Type":"application/json"}})).data;for(const t of e){if(void 0===o[t])throw u(`Failed to retrieve bootstrap nodes: ${t} does not exist on `,o),`Failed to retrieve bootstrap nodes: ${t} does not exist on ${JSON.stringify(o)}`;o=o[t]}if(Array.isArray(o))return a.getPseudoRandomSubset(o,r).map((e=>new n.Multiaddr(e)));if("string"==typeof o)return[new n.Multiaddr(o)];if("object"==typeof o)return o=Object.values(o),o=o.map((e=>new n.Multiaddr(e))),a.getPseudoRandomSubset(o,r);throw`Failed to retrieve bootstrap nodes: response format is not supported: ${JSON.stringify(o)}`}},48994:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPseudoRandomSubset=t.ENRTree=t.DnsOverHttps=t.DnsNodeDiscovery=t.Bootstrap=t.getNodesFromHostedJson=void 0;const o=r(60663);var i=r(77607);Object.defineProperty(t,"getNodesFromHostedJson",{enumerable:!0,get:function(){return i.getNodesFromHostedJson}});var s=r(94134);Object.defineProperty(t,"Bootstrap",{enumerable:!0,get:function(){return s.Bootstrap}});var n=r(66216);Object.defineProperty(t,"DnsNodeDiscovery",{enumerable:!0,get:function(){return n.DnsNodeDiscovery}});var a=r(31613);Object.defineProperty(t,"DnsOverHttps",{enumerable:!0,get:function(){return a.DnsOverHttps}});var u=r(98395);Object.defineProperty(t,"ENRTree",{enumerable:!0,get:function(){return u.ENRTree}}),t.getPseudoRandomSubset=function(e,t){return e.length<=t?e:o.shuffle(e).slice(0,t)}},52611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MULTIADDR_LENGTH_SIZE=t.ERR_NO_SIGNATURE=t.ERR_INVALID_ID=t.MAX_RECORD_SIZE=void 0,t.MAX_RECORD_SIZE=300,t.ERR_INVALID_ID="Invalid record id",t.ERR_NO_SIGNATURE="No valid signature found",t.MULTIADDR_LENGTH_SIZE=2},17878:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNodeId=void 0;const o=r(61721);t.createNodeId=function(e){if(32!==e.length)throw new Error("NodeId must be 32 bytes in length");return o.bufToHex(e)}},36995:function(e,t,r){"use strict";var o=r(48764).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ENR=void 0;const u=a(r(45772)),c=r(40475),d=r(46584),l=a(r(99918)),p=n(r(51675)),f=r(94676),h=r(52611),y=r(22569),g=n(r(64670));class b extends Map{constructor(e={},t=1n,r=null){super(Object.entries(e)),this.seq=t,this.signature=r}static createV4(e,t={}){return new b({...t,id:o.from("v4"),secp256k1:e})}static createFromPeerId(e,t={}){const r=y.createKeypairFromPeerId(e);if(r.type===y.KeypairType.secp256k1)return b.createV4(r.publicKey,t);throw new Error}static decodeFromValues(e){if(!Array.isArray(e))throw new Error("Decoded ENR must be an array");if(e.length%2!=0)throw new Error("Decoded ENR must have an even number of elements");const[t,r,...i]=e;if(!t||Array.isArray(t))throw new Error("Decoded ENR invalid signature: must be a byte array");if(!r||Array.isArray(r))throw new Error("Decoded ENR invalid sequence number: must be a byte array");const s={};for(let e=0;e<i.length;e+=2)s[i[e].toString()]=o.from(i[e+1]);const n=new b(s,c.toBigIntBE(r),t);if(!n.verify(p.encode([r,...i]),t))throw new Error("Unable to verify ENR signature");return n}static decode(e){const t=p.decode(e);return b.decodeFromValues(t)}static decodeTxt(e){if(!e.startsWith(this.RECORD_PREFIX))throw new Error(`"string encoded ENR must start with '${this.RECORD_PREFIX}'`);return b.decode(u.default.toBuffer(e.slice(4)))}set(e,t){return this.signature=null,this.seq++,super.set(e,t)}get id(){const e=this.get("id");if(!e)throw new Error("id not found.");return e.toString("utf8")}get keypairType(){if("v4"===this.id)return y.KeypairType.secp256k1;throw new Error(h.ERR_INVALID_ID)}get publicKey(){if("v4"===this.id)return this.get("secp256k1");throw new Error(h.ERR_INVALID_ID)}get keypair(){return y.createKeypair(this.keypairType,void 0,this.publicKey)}get peerId(){return y.createPeerIdFromKeypair(this.keypair)}get nodeId(){if("v4"===this.id)return g.nodeId(this.publicKey);throw new Error(h.ERR_INVALID_ID)}get ip(){const e=this.get("ip");return e?l.default.toString(d.protocols.names.ip4.code,e):void 0}set ip(e){e?this.set("ip",l.default.toBytes(d.protocols.names.ip4.code,e)):this.delete("ip")}get tcp(){const e=this.get("tcp");return e?Number(l.default.toString(d.protocols.names.tcp.code,e)):void 0}set tcp(e){void 0===e?this.delete("tcp"):this.set("tcp",l.default.toBytes(d.protocols.names.tcp.code,e))}get udp(){const e=this.get("udp");return e?Number(l.default.toString(d.protocols.names.udp.code,e)):void 0}set udp(e){void 0===e?this.delete("udp"):this.set("udp",l.default.toBytes(d.protocols.names.udp.code,e))}get ip6(){const e=this.get("ip6");return e?l.default.toString(d.protocols.names.ip6.code,e):void 0}set ip6(e){e?this.set("ip6",l.default.toBytes(d.protocols.names.ip6.code,e)):this.delete("ip6")}get tcp6(){const e=this.get("tcp6");return e?Number(l.default.toString(d.protocols.names.tcp.code,e)):void 0}set tcp6(e){void 0===e?this.delete("tcp6"):this.set("tcp6",l.default.toBytes(d.protocols.names.tcp.code,e))}get udp6(){const e=this.get("udp6");return e?Number(l.default.toString(d.protocols.names.udp.code,e)):void 0}set udp6(e){void 0===e?this.delete("udp6"):this.set("udp6",l.default.toBytes(d.protocols.names.udp.code,e))}get multiaddrs(){const e=this.get("multiaddrs");if(e){const t=[];try{let r=0;for(;r<e.length;){const i=e.slice(r,r+2),s=o.from(i).readUInt16BE(0),n=e.slice(r+h.MULTIADDR_LENGTH_SIZE,r+s+h.MULTIADDR_LENGTH_SIZE),a=new d.Multiaddr(n);t.push(a),r+=s+h.MULTIADDR_LENGTH_SIZE}}catch(e){throw new Error("Invalid value in multiaddrs field")}return t}}set multiaddrs(e){if(void 0===e)this.delete("multiaddrs");else{let t=o.from([]);e.forEach((e=>{if(e.getPeerId())throw new Error("`multiaddr` field MUST not contain peer id");const r=e.bytes;let i=o.alloc(2);if(i.writeUInt16BE(r.length,0)!==h.MULTIADDR_LENGTH_SIZE)throw new Error(`Internal error: unsigned 16-bit integer was not written in ${h.MULTIADDR_LENGTH_SIZE} bytes`);i=o.concat([i,r]),t=o.concat([t,i])})),this.set("multiaddrs",t)}}getLocationMultiaddr(e){if("udp"===e)return this.getLocationMultiaddr("udp4")||this.getLocationMultiaddr("udp6");if("tcp"===e)return this.getLocationMultiaddr("tcp4")||this.getLocationMultiaddr("tcp6");const t=e.endsWith("6"),r=this.get(t?"ip6":"ip");if(!r)return;const o=e.startsWith("udp"),i=e.startsWith("tcp");let s,n;if(o)s="udp",n=t?this.get("udp6"):this.get("udp");else{if(!i)return;s="tcp",n=t?this.get("tcp6"):this.get("tcp")}if(!n)return;const a=d.protocols.names[t?"ip6":"ip4"],u=a.size/8,c=d.protocols.names[s],l=f.encode(c.code),p=new Uint8Array(3+u+l.length);return p[0]=a.code,p.set(r,1),p.set(l,1+u),p.set(n,1+u+l.length),new d.Multiaddr(p)}setLocationMultiaddr(e){const t=e.protoNames();if(2!==t.length&&"udp"!==t[1]&&"tcp"!==t[1])throw new Error("Invalid multiaddr");const r=e.tuples();if(!r[0][1]||!r[1][1])throw new Error("Invalid multiaddr");4===r[0][0]?(this.set("ip",r[0][1]),this.set(t[1],r[1][1])):(this.set("ip6",r[0][1]),this.set(t[1]+"6",r[1][1]))}getFullMultiaddr(e){const t=this.getLocationMultiaddr(e);if(t)return t.encapsulate(`/p2p/${this.peerId.toB58String()}`)}getFullMultiaddrs(){return this.multiaddrs?this.multiaddrs.map((e=>e.encapsulate(`/p2p/${this.peerId.toB58String()}`))):[]}verify(e,t){if(!this.get("id")||"v4"!==this.id)throw new Error(h.ERR_INVALID_ID);if(!this.publicKey)throw new Error("Failed to verify ENR: No public key");return g.verify(this.publicKey,e,t)}sign(e,t){if("v4"!==this.id)throw new Error(h.ERR_INVALID_ID);return this.signature=g.sign(t,e),this.signature}encodeToValues(e){const t=Array.from(this.keys()).sort(((e,t)=>e.localeCompare(t))).map((e=>[e,this.get(e)])).flat();if(t.unshift(Number(this.seq)),e)t.unshift(this.sign(p.encode(t),e));else{if(!this.signature)throw new Error(h.ERR_NO_SIGNATURE);t.unshift(this.signature)}return t}encode(e){const t=p.encode(this.encodeToValues(e));if(t.length>=h.MAX_RECORD_SIZE)throw new Error("ENR must be less than 300 bytes");return t}encodeTxt(e){return b.RECORD_PREFIX+u.default.encode(this.encode(e))}}t.ENR=b,b.RECORD_PREFIX="enr:"},69460:function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t},n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.v4=void 0;const a=s(r(64670));t.v4=a,n(r(52611),t),n(r(36995),t),n(r(26734),t),n(r(17878),t),n(r(22569),t)},77970:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERR_INVALID_KEYPAIR_TYPE=t.ERR_TYPE_NOT_IMPLEMENTED=void 0,t.ERR_TYPE_NOT_IMPLEMENTED="Keypair type not implemented",t.ERR_INVALID_KEYPAIR_TYPE="Invalid keypair type"},22569:function(e,t,r){"use strict";var o=r(48764).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createKeypairFromPeerId=t.createPeerIdFromKeypair=t.createKeypair=t.generateKeypair=void 0;const a=r(82204),u=n(r(18370)),c=n(r(88785)),{keysPBM:d,supportedKeys:l}=a.keys,p=r(77970),f=r(91175),h=r(57922);function y(e,t,r){if(e===h.KeypairType.secp256k1)return new f.Secp256k1Keypair(t,r);throw new Error(p.ERR_TYPE_NOT_IMPLEMENTED)}s(r(57922),t),s(r(91175),t),t.generateKeypair=async function(e){if(e===h.KeypairType.secp256k1)return await f.Secp256k1Keypair.generate();throw new Error(p.ERR_TYPE_NOT_IMPLEMENTED)},t.createKeypair=y,t.createPeerIdFromKeypair=function(e){if(e.type===h.KeypairType.secp256k1){const t=e.hasPrivateKey()?new l.secp256k1.Secp256k1PrivateKey(e.privateKey,e.publicKey):void 0,r=new l.secp256k1.Secp256k1PublicKey(e.publicKey),o=u.default.encode(r.bytes,"identity");return new c.default(o,t,r)}throw new Error(p.ERR_TYPE_NOT_IMPLEMENTED)},t.createKeypairFromPeerId=function(e){const t=d.PublicKey.decode(e.pubKey.bytes);return y(t.Type,e.privKey?o.from(e.privKey.marshal()):void 0,o.from(t.Data))}},91175:function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Secp256k1Keypair=t.secp256k1PublicKeyToRaw=t.secp256k1PublicKeyToFull=t.secp256k1PublicKeyToCompressed=void 0;const a=r(48764),u=n(r(55835)),c=s(r(17221)),d=r(57922);function l(e){return 64===e.length&&(e=a.Buffer.concat([a.Buffer.from([4]),e])),a.Buffer.from(c.publicKeyConvert(e,!0))}t.secp256k1PublicKeyToCompressed=l,t.secp256k1PublicKeyToFull=function(e){return 64===e.length?a.Buffer.concat([a.Buffer.from([4]),e]):a.Buffer.from(c.publicKeyConvert(e,!1))},t.secp256k1PublicKeyToRaw=function(e){return a.Buffer.from(c.publicKeyConvert(e,!1).slice(1))};const p=class e extends d.AbstractKeypair{constructor(e,t){let r=t;r&&(r=l(r)),super(e,r),this.type=d.KeypairType.secp256k1}static async generate(){const t=a.Buffer.from(await function(e){if("undefined"!=typeof window&&window&&window.crypto){const e=new Uint8Array(32);return window.crypto.getRandomValues(e),e}return u.default.randomBytes(32)}()),r=c.publicKeyCreate(t);return new e(t,a.Buffer.from(r))}privateKeyVerify(e=this._privateKey){return!e||c.privateKeyVerify(e)}publicKeyVerify(e=this._publicKey){return!e||c.publicKeyVerify(e)}sign(e){const{signature:t,recid:r}=c.ecdsaSign(e,this.privateKey);return a.Buffer.concat([t,a.Buffer.from([r])])}verify(e,t){return c.ecdsaVerify(t,e,this.publicKey)}};t.Secp256k1Keypair=p},57922:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractKeypair=t.KeypairType=void 0,(r=t.KeypairType||(t.KeypairType={}))[r.rsa=0]="rsa",r[r.ed25519=1]="ed25519",r[r.secp256k1=2]="secp256k1",t.AbstractKeypair=class{constructor(e,t){if((this._privateKey=e)&&!this.privateKeyVerify())throw new Error("Invalid private key");if((this._publicKey=t)&&!this.publicKeyVerify())throw new Error("Invalid private key")}get privateKey(){if(!this._privateKey)throw new Error;return this._privateKey}get publicKey(){if(!this._publicKey)throw new Error;return this._publicKey}privateKeyVerify(){return!0}publicKeyVerify(){return!0}hasPrivateKey(){return Boolean(this._privateKey)}}},26734:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},64670:function(e,t,r){"use strict";var o=r(48764).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ENRKeyPair=t.nodeId=t.verify=t.sign=t.publicKey=t.createPrivateKey=t.hash=void 0;const u=a(r(55835)),c=r(91094),d=n(r(17221)),l=r(17878);function p(e){return o.from(c.keccak256.arrayBuffer(e))}async function f(){return o.from(await function(e){if("undefined"!=typeof window&&window&&window.crypto){const e=new Uint8Array(32);return window.crypto.getRandomValues(e),e}return u.default.randomBytes(32)}())}function h(e){return o.from(d.publicKeyCreate(e))}function y(e,t){const{signature:r}=d.ecdsaSign(p(t),e);return o.from(r)}function g(e,t,r){return d.ecdsaVerify(r.slice(0,64),p(t),e)}function b(e){const t=d.publicKeyConvert(e,!1);return l.createNodeId(p(t.slice(1)))}t.hash=p,t.createPrivateKey=f,t.publicKey=h,t.sign=y,t.verify=g,t.nodeId=b;class m{constructor(e,t,r){this.nodeId=e,this.privateKey=t,this.publicKey=r}static async create(e){if(e&&!d.privateKeyVerify(e))throw new Error("Invalid private key");const t=e||await f(),r=h(t),o=b(r);return new m(o,t,r)}sign(e){return y(this.privateKey,e)}verify(e,t){return g(this.publicKey,e,t)}}t.ENRKeyPair=m},65187:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPeersForProtocol=t.selectRandomPeer=void 0,t.selectRandomPeer=function(e){if(0!==e.length)return e[Math.round(Math.random()*(e.length-1))]},t.getPeersForProtocol=function(e,t){return Array.from(e.peerStore.peers.values()).filter((e=>e.protocols.includes(t)))}},61721:(e,t,r)=>{"use strict";var o=r(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.keccak256Buf=t.equalByteArrays=t.bufToHex=t.hexToBuf=void 0;const i=r(91094);function s(e){return"string"==typeof e?o.from(e.replace(/^0x/i,""),"hex"):o.from(e)}t.hexToBuf=s,t.bufToHex=function(e){return o.from(e).toString("hex")},t.equalByteArrays=function(e,t){let r,i;return r="string"==typeof e?s(e):o.from(e),i="string"==typeof t?s(t):o.from(t),0===r.compare(i)},t.keccak256Buf=function(e){return o.from(i.keccak256.arrayBuffer(e))}},90607:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Waku=t.DefaultPubSubTopic=t.DefaultRelayKeepAliveValueSecs=t.DefaultPingKeepAliveValueSecs=void 0;const i=r(88895),s=o(r(11227)),n=o(r(51613)),a=o(r(63100)),u=o(r(1267)),c=o(r(29846)),d=o(r(70040)),l=o(r(75466)),p=r(46584),f=o(r(88785)),h=r(48994),y=r(65187),g=r(17087),b=r(92560),m=r(22979),v=r(99123),_=r(95960),R=c.default.prototype[Symbol.toStringTag];t.DefaultPingKeepAliveValueSecs=0,t.DefaultRelayKeepAliveValueSecs=300,t.DefaultPubSubTopic="/waku/2/default-waku/proto";const P=s.default("waku:waku");class T{constructor(e,r,o,i){this.libp2p=r,this.relay=r.pubsub,this.store=o,this.lightPush=i,this.pingKeepAliveTimers={},this.relayKeepAliveTimers={};const s=e.pingKeepAlive||t.DefaultPingKeepAliveValueSecs,n=e.relayKeepAlive||t.DefaultRelayKeepAliveValueSecs;r.connectionManager.on("peer:connect",(e=>{this.startKeepAlive(e.remotePeer,s,n)})),r.connectionManager.on("peer:disconnect",(e=>{this.stopKeepAlive(e.remotePeer)})),e?.decryptionKeys?.forEach((e=>{this.addDecryptionKey(e)}))}static async create(e){const t=Object.assign({},e?.libp2p);if(t.config=Object.assign({transport:{[R]:{filter:d.default.all}}},e?.libp2p?.config),e?.pubSubTopic&&(t.config.pubsub=Object.assign({pubSubTopic:e.pubSubTopic},t.config.pubsub)),t.modules=Object.assign({},e?.libp2p?.modules),t.modules=Object.assign({transport:[c.default]},e?.libp2p?.modules),t.modules=Object.assign(t.modules,{streamMuxer:[u.default],connEncryption:[new i.Noise(e?.staticNoiseKey)],pubsub:m.WakuRelay}),e?.bootstrap){const r=new h.Bootstrap(e?.bootstrap);if(void 0!==r.getBootstrapPeers)try{const e=await r.getBootstrapPeers();t.modules=Object.assign(t.modules,{peerDiscovery:[a.default]}),t.config.peerDiscovery={[a.default.tag]:{list:e,enabled:!0}}}catch(e){P("Failed to retrieve bootstrap nodes",e)}}const r=await n.default.create(t),o=new _.WakuStore(r,{pubSubTopic:e?.pubSubTopic}),s=new g.WakuLightPush(r);return await r.start(),new T(e||{},r,o,s)}async dial(e){return this.libp2p.dialProtocol(e,[_.StoreCodec].concat(m.RelayCodecs))}addPeerToAddressBook(e,t){let r;r="string"==typeof e?f.default.createFromB58String(e):e;const o=t.map((e=>"string"==typeof e?p.multiaddr(e):e));this.libp2p.peerStore.addressBook.set(r,o)}async stop(){return this.libp2p.stop()}addDecryptionKey(e,t){this.relay.addDecryptionKey(e,t),this.store.addDecryptionKey(e,t)}deleteDecryptionKey(e){this.relay.deleteDecryptionKey(e),this.store.deleteDecryptionKey(e)}getLocalMultiaddrWithID(){const e=this.libp2p.multiaddrs.find((e=>e.toString().match(/127\.0\.0\.1/)));if(!e||""===e.toString())throw"Not listening on localhost";return e+"/p2p/"+this.libp2p.peerId.toB58String()}async waitForConnectedPeer(){const e=[[_.StoreCodec],[g.LightPushCodec],m.RelayCodecs];await Promise.all(e.map((e=>{const t=new Array;return e.forEach((e=>{y.getPeersForProtocol(this.libp2p,e).forEach((e=>t.push(e)))})),t.length>0?Promise.resolve():new Promise((t=>{this.libp2p.peerStore.on("change:protocols",(({protocols:r})=>{e.forEach((e=>{r.includes(e)&&(P("Resolving for",e,r),t())}))}))}))})))}startKeepAlive(e,t,r){this.stopKeepAlive(e);const o=e.toB58String();0!==t&&(this.pingKeepAliveTimers[o]=setInterval((()=>{l.default(this.libp2p,e)}),1e3*t)),0!==r&&(this.relayKeepAliveTimers[o]=setInterval((()=>{b.WakuMessage.fromBytes(new Uint8Array,v.RelayPingContentTopic).then((e=>this.relay.send(e)))}),1e3*r))}stopKeepAlive(e){const t=e.toB58String();this.pingKeepAliveTimers[t]&&(clearInterval(this.pingKeepAliveTimers[t]),delete this.pingKeepAliveTimers[t]),this.relayKeepAliveTimers[t]&&(clearInterval(this.relayKeepAliveTimers[t]),delete this.relayKeepAliveTimers[t])}}t.Waku=T},17087:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WakuLightPush=t.PushResponse=t.LightPushCodec=void 0;const i=o(r(88342)),s=o(r(48963)),n=o(r(60618)),a=r(67405);Object.defineProperty(t,"PushResponse",{enumerable:!0,get:function(){return a.PushResponse}});const u=r(65187),c=r(90607),d=r(67140);t.LightPushCodec="/vac/waku/lightpush/2.0.0-beta1",t.WakuLightPush=class{constructor(e,t){this.libp2p=e,this.pubSubTopic=t?.pubSubTopic?t.pubSubTopic:c.DefaultPubSubTopic}async push(e,r){let o;if(r?.peerId){if(o=this.libp2p.peerStore.get(r.peerId),!o)throw"Peer is unknown"}else o=this.randomPeer;if(!o)throw"No peer available";if(!o.protocols.includes(t.LightPushCodec))throw"Peer does not register waku light push protocol";const a=this.libp2p.connectionManager.get(o.id);if(!a)throw"Failed to get a connection to the peer";const{stream:u}=await a.newStream(t.LightPushCodec);try{const t=r?.pubSubTopic?r.pubSubTopic:this.pubSubTopic,o=d.PushRPC.createRequest(e,t),a=await n.default([o.encode()],s.default.encode(),u,s.default.decode(),i.default);try{return d.PushRPC.decode(a.slice()).response||(console.log("No response in PushRPC"),null)}catch(e){console.log("Failed to decode push reply",e)}}catch(e){console.log("Failed to send waku light push request",e)}return null}get peers(){return u.getPeersForProtocol(this.libp2p,t.LightPushCodec)}get randomPeer(){return u.selectRandomPeer(this.peers)}}},67140:function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PushRPC=void 0;const n=r(62100),a=r(21614),u=s(r(67405));class c{constructor(e){this.proto=e}static createRequest(e,t){return new c({requestId:a.v4(),request:{message:e.proto,pubSubTopic:t},response:void 0})}static decode(e){const t=u.PushRPC.decode(n.Reader.create(e));return new c(t)}encode(){return u.PushRPC.encode(this.proto).finish()}get query(){return this.proto.request}get response(){return this.proto.response}}t.PushRPC=c},92560:function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WakuMessage=t.DecryptionMethod=void 0;const a=r(48764),u=n(r(11227)),c=r(62100),d=s(r(66561)),l=s(r(48340)),p=u.default("waku:message");var f;!function(e){e.Asymmetric="asymmetric",e.Symmetric="symmetric"}(f=t.DecryptionMethod||(t.DecryptionMethod={}));class h{constructor(e,t,r){this.proto=e,this._signaturePublicKey=t,this._signature=r}static async fromUtf8String(e,t,r){const o=a.Buffer.from(e,"utf-8");return h.fromBytes(o,t,r)}static async fromBytes(e,t,r){const{timestamp:o,encPublicKey:i,symKey:s,sigPrivKey:n}=Object.assign({timestamp:new Date},r||{});let a,u=e,c=0;if(i&&s)throw"Pass either `encPublicKey` or `symKey`, not both.";if(i){const e=l.clearEncode(u,n);u=await l.encryptAsymmetric(e.payload,i),a=e.sig,c=1}else if(s){const e=l.clearEncode(u,n);u=await l.encryptSymmetric(e.payload,s),a=e.sig,c=1}return new h({payload:u,timestamp:o.valueOf()/1e3,version:c,contentTopic:t},a?.publicKey,a?.signature)}static async decode(e,t){const r=d.WakuMessage.decode(c.Reader.create(e));return h.decodeProto(r,t)}static async decodeProto(e,t){if(void 0===e.payload)return void p("Payload is undefined");const r=e.payload;let o,i;if(1===e.version&&e.payload){if(void 0===t)return void p("Payload is encrypted but no private keys have been provided.");const s=e=>!!e,n=(await Promise.all(t.map((async({key:t,method:o,contentTopics:i})=>{if(!i||e.contentTopic&&i.includes(e.contentTopic))switch(o){case f.Asymmetric:try{return await l.decryptAsymmetric(r,t)}catch(e){return void p("Failed to decrypt message using symmetric encryption despite decryption method being specified",e)}case f.Symmetric:try{return await l.decryptSymmetric(r,t)}catch(e){return void p("Failed to decrypt message using asymmetric encryption despite decryption method being specified",e)}default:try{return await l.decryptSymmetric(r,t)}catch(e){p("Failed to decrypt message using symmetric encryption",e);try{return await l.decryptAsymmetric(r,t)}catch(e){return void p("Failed to decrypt message using asymmetric encryption",e)}}}})))).filter(s);if(0===n.length)return void p("Failed to decrypt payload.");const a=n[0],u=await l.clearDecode(a);if(!u)return void p("Failed to decode payload.");Object.assign(e,{payload:u.payload}),o=u.sig?.publicKey,i=u.sig?.signature}return new h(e,o,i)}encode(){return d.WakuMessage.encode(this.proto).finish()}get payloadAsUtf8(){return this.proto.payload?a.Buffer.from(this.proto.payload).toString("utf-8"):""}get payload(){return this.proto.payload}get contentTopic(){return this.proto.contentTopic}get version(){return this.proto.version}get timestamp(){if(this.proto.timestamp)return new Date(1e3*this.proto.timestamp)}get signaturePublicKey(){return this._signaturePublicKey}get signature(){return this._signature}}t.WakuMessage=h},48615:(e,t,r)=>{"use strict";var o=r(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.generateIv=t.decrypt=t.encrypt=void 0;const i=r(16104),s=window.crypto||window.msCrypto,n=s.subtle||s.webkitSubtle,a={name:"AES-GCM",length:128};if(void 0===n)throw new Error("Failed to load Subtle CryptoAPI");t.encrypt=async function(e,t,r){return n.importKey("raw",t,a,!1,["encrypt"]).then((t=>n.encrypt({iv:e,...a},t,r))).then(o.from)},t.decrypt=async function(e,t,r){return n.importKey("raw",t,a,!1,["decrypt"]).then((t=>n.decrypt({iv:e,...a},t,r))).then(o.from)},t.generateIv=function(){const e=new Uint8Array(i.IvSize);return s.getRandomValues(e),e}},16104:function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.symmetric=t.TagSize=t.IvSize=t.SymmetricKeySize=void 0,t.SymmetricKeySize=32,t.IvSize=12,t.TagSize=16,t.symmetric={},Promise.resolve().then((()=>s(r(48615)))).then((e=>{t.symmetric=e})).catch((e=>{Promise.resolve().then((()=>s(r(70194)))).then((e=>{t.symmetric=e})).catch((t=>{throw`Could not load any symmetric crypto modules: ${e}, ${t}`}))}))},70194:(e,t,r)=>{"use strict";var o=r(48764).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.generateIv=t.decrypt=t.encrypt=void 0;const i=r(55835),s=r(16104),n="aes-256-gcm";t.encrypt=async function(e,t,r){const s=i.createCipheriv(n,t,e),a=s.update(r),u=s.final(),c=s.getAuthTag();return o.concat([a,u,c])},t.decrypt=async function(e,t,r){const a=r.length-s.TagSize,u=r.slice(0,a),c=r.slice(a),d=i.createDecipheriv(n,t,e);d.setAuthTag(c);const l=d.update(u),p=d.final();return o.concat([l,p])},t.generateIv=function(){return i.randomBytes(s.IvSize)}},48340:function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getPublicKey=t.generateSymmetricKey=t.generatePrivateKey=t.decryptSymmetric=t.encryptSymmetric=t.decryptAsymmetric=t.encryptAsymmetric=t.clearDecode=t.clearEncode=t.PrivateKeySize=void 0;const n=r(48764),a=s(r(55835)),u=s(r(63611)),c=r(91094),d=s(r(17221)),l=r(61721),p=r(16104);function f(e){return d.publicKeyCreate(e,!1)}function h(e){let t=1;for(let r=e.length;r>=256;r/=256)t++;return t}function y(e){if("undefined"!=typeof window&&window&&window.crypto){const t=new Uint8Array(e);return window.crypto.getRandomValues(t),t}return a.randomBytes(e)}t.PrivateKeySize=32,t.clearEncode=function(e,t){let r=n.Buffer.from([0]);r=function(e,t){const r=h(t);let o=n.Buffer.alloc(4);return o.writeUInt32LE(t.length,0),o=o.slice(0,r),(e=n.Buffer.concat([e,o]))[0]|=r,e}(r,e),r=n.Buffer.concat([r,n.Buffer.from(e)]);let o=1+h(e)+e.length;t&&(o+=65);const i=256-o%256,s=n.Buffer.from(y(i));if(u=i,(a=s).length!==u||u>3&&n.Buffer.from(a).equals(n.Buffer.alloc(a.length)))throw new Error("failed to generate random padding of size "+i);var a,u;let p;if(r=n.Buffer.concat([r,s]),t){r[0]|=4;const e=c.keccak256(r),o=d.ecdsaSign(l.hexToBuf(e),t);r=n.Buffer.concat([r,o.signature,n.Buffer.from([o.recid])]),p={signature:n.Buffer.from(o.signature),publicKey:f(t)}}return{payload:r,sig:p}},t.clearDecode=function(e){const t=n.Buffer.from(e);let r,o=1;const i=3&t.readUIntLE(0,1);if(0===i)return;const s=t.readUIntLE(o,i);o+=i;const a=t.slice(o,o+s),u=4==(4&t.readUIntLE(0,1));if(u){const e=function(e){return e.slice(e.length-65,e.length)}(t),o=function(e,t){return t?c.keccak256(e.slice(0,e.length-65)):c.keccak256(e)}(t,u),i=function(e,t){const r=t.slice(64).readIntBE(0,1);return d.ecdsaRecover(t.slice(0,64),r,l.hexToBuf(e),!1)}(o,e);r={signature:e,publicKey:i}}return{payload:a,sig:r}},t.encryptAsymmetric=async function(e,t){return u.encrypt(l.hexToBuf(t),n.Buffer.from(e))},t.decryptAsymmetric=async function(e,t){return u.decrypt(n.Buffer.from(t),n.Buffer.from(e))},t.encryptSymmetric=async function(e,t){const r=p.symmetric.generateIv(),o=await p.symmetric.encrypt(r,l.hexToBuf(t),n.Buffer.from(e));return n.Buffer.concat([o,n.Buffer.from(r)])},t.decryptSymmetric=async function(e,t){const r=n.Buffer.from(e),o=r.length-p.IvSize,i=r.slice(0,o),s=r.slice(o);return p.symmetric.decrypt(s,l.hexToBuf(t),i)},t.generatePrivateKey=function(){return y(t.PrivateKeySize)},t.generateSymmetricKey=function(){return y(p.SymmetricKeySize)},t.getPublicKey=f},99123:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMaxIHaveLength=t.RelayOpportunisticGraftPeers=t.RelayOpportunisticGraftTicks=t.RelayFanoutTTL=t.RelayPruneBackoff=t.RelayPrunePeers=t.RelayHeartbeatInterval=t.RelayHeartbeatInitialDelay=t.RelayGossipFactor=t.RelayPingContentTopic=t.RelayCodecs=t.minute=t.second=void 0,t.second=1e3,t.minute=60*t.second,t.RelayCodecs=["/vac/waku/relay/2.0.0-beta2","/vac/waku/relay/2.0.0"],t.RelayPingContentTopic="/relay-ping/1/ping/null",t.RelayGossipFactor=.25,t.RelayHeartbeatInitialDelay=100,t.RelayHeartbeatInterval=t.second,t.RelayPrunePeers=16,t.RelayPruneBackoff=t.minute,t.RelayFanoutTTL=t.minute,t.RelayOpportunisticGraftTicks=60,t.RelayOpportunisticGraftPeers=2,t.RelayMaxIHaveLength=5e3},26624:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRelayPeers=void 0;const o=r(60663),i=r(22979);t.getRelayPeers=function(e,t,r,s=(()=>!0)){const n=e.topics.get(t);if(!n)return new Set;let a=[];return n.forEach((t=>{const r=e.peers.get(t);r&&i.RelayCodecs.includes(r.protocol)&&s(t)&&a.push(t)})),a=o.shuffle(a),r>0&&a.length>r&&(a=a.slice(0,r)),new Set(a)}},22979:function(e,t,r){"use strict";var o=r(48764).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WakuRelay=t.RelayCodecs=void 0;const u=a(r(11227)),c=a(r(95391)),d=r(60663),l=r(32185),p=a(r(88785)),f=r(61721),h=r(90607),y=r(92560),g=n(r(99123)),b=r(99123);Object.defineProperty(t,"RelayCodecs",{enumerable:!0,get:function(){return b.RelayCodecs}});const m=r(26624),v=r(65714),_=u.default("waku:relay");class R extends c.default{constructor(e,t){super(e,Object.assign(t,{globalSignaturePolicy:l.SignaturePolicy.StrictNoSign})),this.heartbeat=new v.RelayHeartbeat(this),this.observers={},this.decryptionKeys=new Map;const r=g.RelayCodecs;Object.assign(this,{multicodecs:r}),this.pubSubTopic=t?.pubSubTopic||h.DefaultPubSubTopic,t?.decryptionKeys?.forEach((e=>{this.addDecryptionKey(e)}))}start(){super.start(),this.subscribe(this.pubSubTopic)}async send(e){const t=e.encode();await super.publish(this.pubSubTopic,o.from(t))}addDecryptionKey(e,t){this.decryptionKeys.set(f.hexToBuf(e),t??{})}deleteDecryptionKey(e){this.decryptionKeys.delete(f.hexToBuf(e))}addObserver(e,t=[]){0===t.length?(this.observers[""]||(this.observers[""]=new Set),this.observers[""].add(e)):t.forEach((t=>{this.observers[t]||(this.observers[t]=new Set),this.observers[t].add(e)}))}deleteObserver(e,t=[]){0===t.length?this.observers[""]&&this.observers[""].delete(e):t.forEach((t=>{this.observers[t]&&this.observers[t].delete(e)}))}getPeers(){return m.getRelayPeers(this,this.pubSubTopic,this._options.D,(e=>this.score.score(e)>=this._options.scoreThresholds.publishThreshold))}subscribe(e){this.on(e,(t=>{const r=Array.from(this.decryptionKeys).map((([e,{method:t,contentTopics:r}])=>({key:e,method:t,contentTopics:r})));_(`Message received on ${e}`),y.WakuMessage.decode(t.data,r).then((e=>{e?(this.observers[""]&&this.observers[""].forEach((t=>{t(e)})),e.contentTopic&&this.observers[e.contentTopic]&&this.observers[e.contentTopic].forEach((t=>{t(e)}))):_("Failed to decode Waku Message")})).catch((e=>{_("Failed to decode Waku Message",e)}))})),super.subscribe(e)}join(e){if(!this.started)throw new Error("WakuRelayPubSub has not started");const t=this.fanout.get(e);if(t)t.forEach((e=>{this.score.score(e)<0&&t.delete(e)})),t.size<this._options.D&&m.getRelayPeers(this,e,this._options.D-t.size,(e=>!t.has(e)&&!this.direct.has(e)&&this.score.score(e)>=0)).forEach((e=>t.add(e))),this.mesh.set(e,t),this.fanout.delete(e),this.lastpub.delete(e);else{const t=m.getRelayPeers(this,e,this._options.D,(e=>!this.direct.has(e)&&this.score.score(e)>=0));this.mesh.set(e,t)}this.mesh.get(e)?.forEach((t=>{this.log("JOIN: Add mesh link to %s in %s",t,e),this._sendGraft(t,e)}))}async _publish(e){e.receivedFrom!==this.peerId.toB58String()&&(this.score.deliverMessage(e),this.gossipTracer.deliverMessage(e));const t=await this.getMsgId(e),r=d.messageIdToString(t);this.seenCache.put(r),this.messageCache.put(e);const o=new Set;e.topicIDs.forEach((e=>{if(!this.topics.get(e))return;this.direct.forEach((e=>{o.add(e)}));let t=this.mesh.get(e);if(!t||!t.size){if(t=this.fanout.get(e),!t){const r=m.getRelayPeers(this,e,this._options.D,(e=>this.score.score(e)>=this._options.scoreThresholds.publishThreshold));r.size>0?(t=r,this.fanout.set(e,r)):t=new Set}this.lastpub.set(e,this._now())}t?.forEach((e=>{o.add(e)}))}));const i=d.createGossipRpc([c.default.utils.normalizeOutRpcMessage(e)]);o.forEach((t=>{t!==e.from&&this._sendRpc(t,i)}))}_emitGossip(e,t){const r=this.messageCache.getGossipIDs(e);if(!r.length)return;d.shuffle(r),r.length>g.RelayMaxIHaveLength&&this.log("too many messages for gossip; will truncate IHAVE list (%d messages)",r.length);const o=[],i=this.topics.get(e);if(!i)return;i.forEach((e=>{const r=this.peers.get(e);r&&!t.has(e)&&!this.direct.has(e)&&g.RelayCodecs.includes(r.protocol)&&this.score.score(e)>=this._options.scoreThresholds.gossipThreshold&&o.push(e)}));let s=this._options.Dlazy;const n=g.RelayGossipFactor*o.length;n>s&&(s=n),s>o.length?s=o.length:d.shuffle(o),o.slice(0,s).forEach((t=>{let o=r;r.length>g.RelayMaxIHaveLength&&(o=d.shuffle(o.slice()).slice(0,g.RelayMaxIHaveLength)),this._pushGossip(t,{topicID:e,messageIDs:o})}))}_makePrune(e,t,r){const o=g.RelayPruneBackoff/1e3,i=[];return r&&m.getRelayPeers(this,t,g.RelayPrunePeers,(t=>t!==e&&this.score.score(t)>=0)).forEach((e=>{const t=p.default.createFromB58String(e);i.push({peerID:t.toBytes(),signedPeerRecord:this._libp2p.peerStore.addressBook.getRawEnvelope(t)})})),{topicID:t,peers:i,backoff:o}}}t.WakuRelay=R},65714:function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RelayHeartbeat=void 0;const n=r(91259),a=r(60663),u=s(r(99123)),c=r(26624);class d extends n.Heartbeat{constructor(e){super(e)}start(){if(this._heartbeatTimer)return;const e=this._heartbeat.bind(this),t=setTimeout((()=>{e(),this._heartbeatTimer?.runPeriodically(e,u.RelayHeartbeatInterval)}),u.RelayHeartbeatInitialDelay);this._heartbeatTimer={_intervalId:void 0,runPeriodically:(e,t)=>{this._heartbeatTimer._intervalId=setInterval(e,t)},cancel:()=>{clearTimeout(t),clearInterval(this._heartbeatTimer?._intervalId)}}}stop(){this._heartbeatTimer&&(this._heartbeatTimer.cancel(),this._heartbeatTimer=null)}_heartbeat(){const{D:e,Dlo:t,Dhi:r,Dscore:o,Dout:i}=this.gossipsub._options;this.gossipsub.heartbeatTicks++;const s=new Map,n=e=>{let t=s.get(e);return void 0===t&&(t=this.gossipsub.score.score(e),s.set(e,t)),t},d=new Map,l=new Map,p=new Map;this.gossipsub._clearBackoff(),this.gossipsub.peerhave.clear(),this.gossipsub.iasked.clear(),this.gossipsub._applyIwantPenalties(),this.gossipsub._directConnect(),this.gossipsub.mesh.forEach(((s,f)=>{const h=e=>{this.gossipsub.log("HEARTBEAT: Remove mesh link to %s in %s",e,f),this.gossipsub.score.prune(e,f),this.gossipsub._addBackoff(e,f),s.delete(e);const t=l.get(e);t?t.push(f):l.set(e,[f])},y=e=>{this.gossipsub.log("HEARTBEAT: Add mesh link to %s in %s",e,f),this.gossipsub.score.graft(e,f),s.add(e);const t=d.get(e);t?t.push(f):d.set(e,[f])};if(s.forEach((e=>{const t=n(e);t<0&&(this.gossipsub.log("HEARTBEAT: Prune peer %s with negative score: score=%d, topic=%s",e,t,f),h(e),p.set(e,!0))})),s.size<t){const t=this.gossipsub.backoff.get(f),r=e-s.size;c.getRelayPeers(this.gossipsub,f,r,(e=>!s.has(e)&&!this.gossipsub.direct.has(e)&&(!t||!t.has(e))&&n(e)>=0)).forEach(y)}if(s.size>r){let t=Array.from(s);t.sort(((e,t)=>n(t)-n(e))),t=t.slice(0,o).concat(a.shuffle(t.slice(o)));let r=0;if(t.slice(0,e).forEach((e=>{this.gossipsub.outbound.get(e)&&r++})),r<i){const o=e=>{const r=t[e];for(let r=e;r>0;r--)t[r]=t[r-1];t[0]=r};if(r>0){let i=r;for(let r=1;r<e&&i>0;r++)this.gossipsub.outbound.get(t[r])&&(o(r),i--)}let i=e-r;for(let r=e;r<t.length&&i>0;r++)this.gossipsub.outbound.get(t[r])&&(o(r),i--)}t.slice(e).forEach(h)}if(s.size>=t){let e=0;if(s.forEach((t=>{this.gossipsub.outbound.get(t)&&e++})),e<i){const t=i-e,r=this.gossipsub.backoff.get(f);c.getRelayPeers(this.gossipsub,f,t,(e=>!s.has(e)&&!this.gossipsub.direct.has(e)&&(!r||!r.has(e))&&n(e)>=0)).forEach(y)}}if(this.gossipsub.heartbeatTicks%u.RelayOpportunisticGraftTicks==0&&s.size>1){const e=Array.from(s).sort(((e,t)=>n(e)-n(t))),t=Math.floor(s.size/2),r=n(e[t]);if(r<this.gossipsub._options.scoreThresholds.opportunisticGraftThreshold){const e=this.gossipsub.backoff.get(f);c.getRelayPeers(this.gossipsub,f,u.RelayOpportunisticGraftPeers,(t=>s.has(t)&&!this.gossipsub.direct.has(t)&&(!e||!e.has(t))&&n(t)>r)).forEach((e=>{this.gossipsub.log("HEARTBEAT: Opportunistically graft peer %s on topic %s",e,f),y(e)}))}}this.gossipsub._emitGossip(f,s)}));const f=this.gossipsub._now();this.gossipsub.lastpub.forEach(((e,t)=>{e+u.RelayFanoutTTL<f&&(this.gossipsub.fanout.delete(t),this.gossipsub.lastpub.delete(t))})),this.gossipsub.fanout.forEach(((t,r)=>{const o=this.gossipsub.topics.get(r);if(t.forEach((e=>{(!o?.has(e)||n(e)<this.gossipsub._options.scoreThresholds.publishThreshold)&&t.delete(e)})),t.size<e){const o=e-t.size;c.getRelayPeers(this.gossipsub,r,o,(e=>!t.has(e)&&!this.gossipsub.direct.has(e)&&n(e)>=this.gossipsub._options.scoreThresholds.publishThreshold)).forEach((e=>{t.add(e)}))}this.gossipsub._emitGossip(r,t)})),this.gossipsub._sendGraftPrune(d,l,p),this.gossipsub._flush(),this.gossipsub.messageCache.shift(),this.gossipsub.emit("gossipsub:heartbeat")}}t.RelayHeartbeat=d},77545:function(e,t,r){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryRPC=t.PageDirection=void 0;const n=r(62100),a=r(21614),u=s(r(25336));var c;!function(e){e.BACKWARD="backward",e.FORWARD="forward"}(c=t.PageDirection||(t.PageDirection={}));class d{constructor(e){this.proto=e}static createQuery(e){const t=function(e){switch(e){case c.BACKWARD:return u.PagingInfo_Direction.DIRECTION_BACKWARD_UNSPECIFIED;case c.FORWARD:return u.PagingInfo_Direction.DIRECTION_FORWARD;default:return u.PagingInfo_Direction.DIRECTION_BACKWARD_UNSPECIFIED}}(e.pageDirection),r={pageSize:e.pageSize,cursor:e.cursor,direction:t},o=e.contentTopics.map((e=>({contentTopic:e})));return new d({requestId:a.v4(),query:{pubSubTopic:e.pubSubTopic,contentFilters:o,pagingInfo:r,startTime:e.startTime,endTime:e.endTime},response:void 0})}static decode(e){const t=u.HistoryRPC.decode(n.Reader.create(e));return new d(t)}encode(){return u.HistoryRPC.encode(this.proto).finish()}get query(){return this.proto.query}get response(){return this.proto.response}}t.HistoryRPC=d},95960:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WakuStore=t.PageDirection=t.DefaultPageSize=t.StoreCodec=void 0;const i=o(r(11227)),s=o(r(88342)),n=o(r(48963)),a=o(r(60618)),u=r(15888),c=r(65187),d=r(61721),l=r(90607),p=r(92560),f=r(77545);Object.defineProperty(t,"PageDirection",{enumerable:!0,get:function(){return f.PageDirection}});const h=i.default("waku:store");t.StoreCodec="/vac/waku/store/2.0.0-beta3",t.DefaultPageSize=10,t.WakuStore=class{constructor(e,t){this.libp2p=e,this.pubSubTopic=t?.pubSubTopic?t.pubSubTopic:l.DefaultPubSubTopic,this.decryptionKeys=new Map}async queryHistory(e,r){let o,i;r?.timeFilter&&(o=r.timeFilter.startTime.getTime()/1e3,i=r.timeFilter.endTime.getTime()/1e3);const c=Object.assign({pubSubTopic:this.pubSubTopic,pageDirection:f.PageDirection.BACKWARD,pageSize:t.DefaultPageSize},r,{startTime:o,endTime:i},{contentTopics:e});let l;if(h("Querying history with the following options",r),c.peerId){if(l=this.libp2p.peerStore.get(c.peerId),!l)throw`Failed to retrieve connection details for provided peer in peer store: ${c.peerId.toB58String()}`}else if(l=this.randomPeer,!l)throw"Failed to find known peer that registers waku store protocol";if(!l.protocols.includes(t.StoreCodec))throw`Peer does not register waku store protocol: ${l.id.toB58String()}`;const y=this.libp2p.connectionManager.get(l.id);if(!y)throw"Failed to get a connection to the peer";const g=Array.from(this.decryptionKeys).map((([e,{method:t,contentTopics:r}])=>({key:e,method:t,contentTopics:r})));c.decryptionKeys&&c.decryptionKeys.forEach((t=>{g.push({key:d.hexToBuf(t),contentTopics:e.length?e:void 0,method:void 0})}));const b=[];let m;for(;;){const{stream:e}=await y.newStream(t.StoreCodec),r=Object.assign(c,{cursor:m}),o=f.HistoryRPC.createQuery(r);h("Querying store peer",y.remoteAddr.toString());const i=await a.default([o.encode()],n.default.encode(),e,n.default.decode(),s.default),d=f.HistoryRPC.decode(i.slice()).response;if(!d)throw"History response misses response field";if(d.error&&d.error===u.HistoryResponse_Error.ERROR_INVALID_CURSOR)throw"History response contains an Error: INVALID CURSOR";if(!d.messages||!d.messages.length)return console.log("No messages present in HistoryRPC response"),b;h(`${d.messages.length} messages retrieved for pubsub topic ${c.pubSubTopic}`);const l=[];await Promise.all(d.messages.map((async e=>{const t=await p.WakuMessage.decodeProto(e,g);t&&(b.push(t),l.push(t))})));let v=!1;c.callback&&(v=Boolean(c.callback(l)));const _=d.pagingInfo?.pageSize,R=o.query?.pagingInfo?.pageSize;if(v||_&&R&&_<R)return b;if(m=d.pagingInfo?.cursor,void 0===m)return console.log("No cursor returned by peer."),b}}addDecryptionKey(e,t){this.decryptionKeys.set(d.hexToBuf(e),t??{})}deleteDecryptionKey(e){this.decryptionKeys.delete(d.hexToBuf(e))}get peers(){return c.getPeersForProtocol(this.libp2p,t.StoreCodec)}get randomPeer(){return c.selectRandomPeer(this.peers)}}},15888:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryRPC=t.HistoryResponse_Error=t.HistoryResponse=t.HistoryQuery=t.ContentFilter=t.PagingInfo_Direction=t.PagingInfo=t.Index=t.WakuMessage=void 0;var o=r(66561);Object.defineProperty(t,"WakuMessage",{enumerable:!0,get:function(){return o.WakuMessage}});var i=r(25336);Object.defineProperty(t,"Index",{enumerable:!0,get:function(){return i.Index}}),Object.defineProperty(t,"PagingInfo",{enumerable:!0,get:function(){return i.PagingInfo}}),Object.defineProperty(t,"PagingInfo_Direction",{enumerable:!0,get:function(){return i.PagingInfo_Direction}}),Object.defineProperty(t,"ContentFilter",{enumerable:!0,get:function(){return i.ContentFilter}}),Object.defineProperty(t,"HistoryQuery",{enumerable:!0,get:function(){return i.HistoryQuery}}),Object.defineProperty(t,"HistoryResponse",{enumerable:!0,get:function(){return i.HistoryResponse}}),Object.defineProperty(t,"HistoryResponse_Error",{enumerable:!0,get:function(){return i.HistoryResponse_Error}}),Object.defineProperty(t,"HistoryRPC",{enumerable:!0,get:function(){return i.HistoryRPC}})},67405:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PushRPC=t.PushResponse=t.PushRequest=t.protobufPackage=void 0;const i=o(r(43720)),s=o(r(62100)),n=r(66561);function a(e){return null!=e}t.protobufPackage="waku.v2",t.PushRequest={encode:(e,t=s.default.Writer.create())=>(""!==e.pubSubTopic&&t.uint32(10).string(e.pubSubTopic),void 0!==e.message&&n.WakuMessage.encode(e.message,t.uint32(18).fork()).ldelim(),t),decode(e,t){const r=e instanceof s.default.Reader?e:new s.default.Reader(e);let o=void 0===t?r.len:r.pos+t;const i={pubSubTopic:"",message:void 0};for(;r.pos<o;){const e=r.uint32();switch(e>>>3){case 1:i.pubSubTopic=r.string();break;case 2:i.message=n.WakuMessage.decode(r,r.uint32());break;default:r.skipType(7&e)}}return i},fromJSON:e=>({pubSubTopic:a(e.pubSubTopic)?String(e.pubSubTopic):"",message:a(e.message)?n.WakuMessage.fromJSON(e.message):void 0}),toJSON(e){const t={};return void 0!==e.pubSubTopic&&(t.pubSubTopic=e.pubSubTopic),void 0!==e.message&&(t.message=e.message?n.WakuMessage.toJSON(e.message):void 0),t},fromPartial(e){const t={pubSubTopic:"",message:void 0};return t.pubSubTopic=e.pubSubTopic??"",t.message=void 0!==e.message&&null!==e.message?n.WakuMessage.fromPartial(e.message):void 0,t}},t.PushResponse={encode:(e,t=s.default.Writer.create())=>(!0===e.isSuccess&&t.uint32(8).bool(e.isSuccess),""!==e.info&&t.uint32(18).string(e.info),t),decode(e,t){const r=e instanceof s.default.Reader?e:new s.default.Reader(e);let o=void 0===t?r.len:r.pos+t;const i={isSuccess:!1,info:""};for(;r.pos<o;){const e=r.uint32();switch(e>>>3){case 1:i.isSuccess=r.bool();break;case 2:i.info=r.string();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({isSuccess:!!a(e.isSuccess)&&Boolean(e.isSuccess),info:a(e.info)?String(e.info):""}),toJSON(e){const t={};return void 0!==e.isSuccess&&(t.isSuccess=e.isSuccess),void 0!==e.info&&(t.info=e.info),t},fromPartial(e){const t={isSuccess:!1,info:""};return t.isSuccess=e.isSuccess??!1,t.info=e.info??"",t}},t.PushRPC={encode:(e,r=s.default.Writer.create())=>(""!==e.requestId&&r.uint32(10).string(e.requestId),void 0!==e.request&&t.PushRequest.encode(e.request,r.uint32(18).fork()).ldelim(),void 0!==e.response&&t.PushResponse.encode(e.response,r.uint32(26).fork()).ldelim(),r),decode(e,r){const o=e instanceof s.default.Reader?e:new s.default.Reader(e);let i=void 0===r?o.len:o.pos+r;const n={requestId:"",request:void 0,response:void 0};for(;o.pos<i;){const e=o.uint32();switch(e>>>3){case 1:n.requestId=o.string();break;case 2:n.request=t.PushRequest.decode(o,o.uint32());break;case 3:n.response=t.PushResponse.decode(o,o.uint32());break;default:o.skipType(7&e)}}return n},fromJSON:e=>({requestId:a(e.requestId)?String(e.requestId):"",request:a(e.request)?t.PushRequest.fromJSON(e.request):void 0,response:a(e.response)?t.PushResponse.fromJSON(e.response):void 0}),toJSON(e){const r={};return void 0!==e.requestId&&(r.requestId=e.requestId),void 0!==e.request&&(r.request=e.request?t.PushRequest.toJSON(e.request):void 0),void 0!==e.response&&(r.response=e.response?t.PushResponse.toJSON(e.response):void 0),r},fromPartial(e){const r={requestId:"",request:void 0,response:void 0};return r.requestId=e.requestId??"",r.request=void 0!==e.request&&null!==e.request?t.PushRequest.fromPartial(e.request):void 0,r.response=void 0!==e.response&&null!==e.response?t.PushResponse.fromPartial(e.response):void 0,r}},s.default.util.Long!==i.default&&(s.default.util.Long=i.default,s.default.configure())},66561:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WakuMessage=t.protobufPackage=void 0;const i=o(r(43720)),s=o(r(62100));t.protobufPackage="waku.v2",t.WakuMessage={encode:(e,t=s.default.Writer.create())=>(void 0!==e.payload&&t.uint32(10).bytes(e.payload),void 0!==e.contentTopic&&t.uint32(18).string(e.contentTopic),void 0!==e.version&&t.uint32(24).uint32(e.version),void 0!==e.timestamp&&t.uint32(33).double(e.timestamp),t),decode(e,t){const r=e instanceof s.default.Reader?e:new s.default.Reader(e);let o=void 0===t?r.len:r.pos+t;const i={payload:void 0,contentTopic:void 0,version:void 0,timestamp:void 0};for(;r.pos<o;){const e=r.uint32();switch(e>>>3){case 1:i.payload=r.bytes();break;case 2:i.contentTopic=r.string();break;case 3:i.version=r.uint32();break;case 4:i.timestamp=r.double();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({payload:d(e.payload)?u(e.payload):void 0,contentTopic:d(e.contentTopic)?String(e.contentTopic):void 0,version:d(e.version)?Number(e.version):void 0,timestamp:d(e.timestamp)?Number(e.timestamp):void 0}),toJSON(e){const t={};return void 0!==e.payload&&(t.payload=void 0!==e.payload?function(e){const t=[];for(const r of e)t.push(String.fromCharCode(r));return c(t.join(""))}(e.payload):void 0),void 0!==e.contentTopic&&(t.contentTopic=e.contentTopic),void 0!==e.version&&(t.version=Math.round(e.version)),void 0!==e.timestamp&&(t.timestamp=e.timestamp),t},fromPartial(e){const t={payload:void 0,contentTopic:void 0,version:void 0,timestamp:void 0};return t.payload=e.payload??void 0,t.contentTopic=e.contentTopic??void 0,t.version=e.version??void 0,t.timestamp=e.timestamp??void 0,t}};var n=(()=>{if(void 0!==n)return n;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw"Unable to locate global object"})();const a=n.atob||(e=>n.Buffer.from(e,"base64").toString("binary"));function u(e){const t=a(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}const c=n.btoa||(e=>n.Buffer.from(e,"binary").toString("base64"));function d(e){return null!=e}s.default.util.Long!==i.default&&(s.default.util.Long=i.default,s.default.configure())},25336:function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryRPC=t.HistoryResponse=t.HistoryQuery=t.ContentFilter=t.PagingInfo=t.Index=t.historyResponse_ErrorToJSON=t.historyResponse_ErrorFromJSON=t.HistoryResponse_Error=t.pagingInfo_DirectionToJSON=t.pagingInfo_DirectionFromJSON=t.PagingInfo_Direction=t.protobufPackage=void 0;const i=o(r(43720)),s=o(r(62100)),n=r(66561);var a,u;function c(e){switch(e){case 0:case"DIRECTION_BACKWARD_UNSPECIFIED":return a.DIRECTION_BACKWARD_UNSPECIFIED;case 1:case"DIRECTION_FORWARD":return a.DIRECTION_FORWARD;default:return a.UNRECOGNIZED}}function d(e){switch(e){case a.DIRECTION_BACKWARD_UNSPECIFIED:return"DIRECTION_BACKWARD_UNSPECIFIED";case a.DIRECTION_FORWARD:return"DIRECTION_FORWARD";default:return"UNKNOWN"}}function l(e){switch(e){case 0:case"ERROR_NONE_UNSPECIFIED":return u.ERROR_NONE_UNSPECIFIED;case 1:case"ERROR_INVALID_CURSOR":return u.ERROR_INVALID_CURSOR;default:return u.UNRECOGNIZED}}function p(e){switch(e){case u.ERROR_NONE_UNSPECIFIED:return"ERROR_NONE_UNSPECIFIED";case u.ERROR_INVALID_CURSOR:return"ERROR_INVALID_CURSOR";default:return"UNKNOWN"}}function f(){return{digest:new Uint8Array,receivedTime:0,senderTime:0}}t.protobufPackage="waku.v2",function(e){e[e.DIRECTION_BACKWARD_UNSPECIFIED=0]="DIRECTION_BACKWARD_UNSPECIFIED",e[e.DIRECTION_FORWARD=1]="DIRECTION_FORWARD",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(a=t.PagingInfo_Direction||(t.PagingInfo_Direction={})),t.pagingInfo_DirectionFromJSON=c,t.pagingInfo_DirectionToJSON=d,function(e){e[e.ERROR_NONE_UNSPECIFIED=0]="ERROR_NONE_UNSPECIFIED",e[e.ERROR_INVALID_CURSOR=1]="ERROR_INVALID_CURSOR",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(u=t.HistoryResponse_Error||(t.HistoryResponse_Error={})),t.historyResponse_ErrorFromJSON=l,t.historyResponse_ErrorToJSON=p,t.Index={encode:(e,t=s.default.Writer.create())=>(0!==e.digest.length&&t.uint32(10).bytes(e.digest),0!==e.receivedTime&&t.uint32(17).double(e.receivedTime),0!==e.senderTime&&t.uint32(25).double(e.senderTime),t),decode(e,t){const r=e instanceof s.default.Reader?e:new s.default.Reader(e);let o=void 0===t?r.len:r.pos+t;const i=f();for(;r.pos<o;){const e=r.uint32();switch(e>>>3){case 1:i.digest=r.bytes();break;case 2:i.receivedTime=r.double();break;case 3:i.senderTime=r.double();break;default:r.skipType(7&e)}}return i},fromJSON:e=>({digest:v(e.digest)?g(e.digest):new Uint8Array,receivedTime:v(e.receivedTime)?Number(e.receivedTime):0,senderTime:v(e.senderTime)?Number(e.senderTime):0}),toJSON(e){const t={};return void 0!==e.digest&&(t.digest=function(e){const t=[];for(const r of e)t.push(String.fromCharCode(r));return b(t.join(""))}(void 0!==e.digest?e.digest:new Uint8Array)),void 0!==e.receivedTime&&(t.receivedTime=e.receivedTime),void 0!==e.senderTime&&(t.senderTime=e.senderTime),t},fromPartial(e){const t=f();return t.digest=e.digest??new Uint8Array,t.receivedTime=e.receivedTime??0,t.senderTime=e.senderTime??0,t}},t.PagingInfo={encode:(e,r=s.default.Writer.create())=>(0!==e.pageSize&&r.uint32(8).uint64(e.pageSize),void 0!==e.cursor&&t.Index.encode(e.cursor,r.uint32(18).fork()).ldelim(),0!==e.direction&&r.uint32(24).int32(e.direction),r),decode(e,r){const o=e instanceof s.default.Reader?e:new s.default.Reader(e);let i=void 0===r?o.len:o.pos+r;const n={pageSize:0,cursor:void 0,direction:0};for(;o.pos<i;){const e=o.uint32();switch(e>>>3){case 1:n.pageSize=m(o.uint64());break;case 2:n.cursor=t.Index.decode(o,o.uint32());break;case 3:n.direction=o.int32();break;default:o.skipType(7&e)}}return n},fromJSON:e=>({pageSize:v(e.pageSize)?Number(e.pageSize):0,cursor:v(e.cursor)?t.Index.fromJSON(e.cursor):void 0,direction:v(e.direction)?c(e.direction):0}),toJSON(e){const r={};return void 0!==e.pageSize&&(r.pageSize=Math.round(e.pageSize)),void 0!==e.cursor&&(r.cursor=e.cursor?t.Index.toJSON(e.cursor):void 0),void 0!==e.direction&&(r.direction=d(e.direction)),r},fromPartial(e){const r={pageSize:0,cursor:void 0,direction:0};return r.pageSize=e.pageSize??0,r.cursor=void 0!==e.cursor&&null!==e.cursor?t.Index.fromPartial(e.cursor):void 0,r.direction=e.direction??0,r}},t.ContentFilter={encode:(e,t=s.default.Writer.create())=>(""!==e.contentTopic&&t.uint32(10).string(e.contentTopic),t),decode(e,t){const r=e instanceof s.default.Reader?e:new s.default.Reader(e);let o=void 0===t?r.len:r.pos+t;const i={contentTopic:""};for(;r.pos<o;){const e=r.uint32();e>>>3==1?i.contentTopic=r.string():r.skipType(7&e)}return i},fromJSON:e=>({contentTopic:v(e.contentTopic)?String(e.contentTopic):""}),toJSON(e){const t={};return void 0!==e.contentTopic&&(t.contentTopic=e.contentTopic),t},fromPartial(e){const t={contentTopic:""};return t.contentTopic=e.contentTopic??"",t}},t.HistoryQuery={encode(e,r=s.default.Writer.create()){void 0!==e.pubSubTopic&&r.uint32(18).string(e.pubSubTopic);for(const o of e.contentFilters)t.ContentFilter.encode(o,r.uint32(26).fork()).ldelim();return void 0!==e.pagingInfo&&t.PagingInfo.encode(e.pagingInfo,r.uint32(34).fork()).ldelim(),void 0!==e.startTime&&r.uint32(41).double(e.startTime),void 0!==e.endTime&&r.uint32(49).double(e.endTime),r},decode(e,r){const o=e instanceof s.default.Reader?e:new s.default.Reader(e);let i=void 0===r?o.len:o.pos+r;const n={pubSubTopic:void 0,contentFilters:[],pagingInfo:void 0,startTime:void 0,endTime:void 0};for(;o.pos<i;){const e=o.uint32();switch(e>>>3){case 2:n.pubSubTopic=o.string();break;case 3:n.contentFilters.push(t.ContentFilter.decode(o,o.uint32()));break;case 4:n.pagingInfo=t.PagingInfo.decode(o,o.uint32());break;case 5:n.startTime=o.double();break;case 6:n.endTime=o.double();break;default:o.skipType(7&e)}}return n},fromJSON:e=>({pubSubTopic:v(e.pubSubTopic)?String(e.pubSubTopic):void 0,contentFilters:Array.isArray(e?.contentFilters)?e.contentFilters.map((e=>t.ContentFilter.fromJSON(e))):[],pagingInfo:v(e.pagingInfo)?t.PagingInfo.fromJSON(e.pagingInfo):void 0,startTime:v(e.startTime)?Number(e.startTime):void 0,endTime:v(e.endTime)?Number(e.endTime):void 0}),toJSON(e){const r={};return void 0!==e.pubSubTopic&&(r.pubSubTopic=e.pubSubTopic),e.contentFilters?r.contentFilters=e.contentFilters.map((e=>e?t.ContentFilter.toJSON(e):void 0)):r.contentFilters=[],void 0!==e.pagingInfo&&(r.pagingInfo=e.pagingInfo?t.PagingInfo.toJSON(e.pagingInfo):void 0),void 0!==e.startTime&&(r.startTime=e.startTime),void 0!==e.endTime&&(r.endTime=e.endTime),r},fromPartial(e){const r={pubSubTopic:void 0,contentFilters:[],pagingInfo:void 0,startTime:void 0,endTime:void 0};return r.pubSubTopic=e.pubSubTopic??void 0,r.contentFilters=e.contentFilters?.map((e=>t.ContentFilter.fromPartial(e)))||[],r.pagingInfo=void 0!==e.pagingInfo&&null!==e.pagingInfo?t.PagingInfo.fromPartial(e.pagingInfo):void 0,r.startTime=e.startTime??void 0,r.endTime=e.endTime??void 0,r}},t.HistoryResponse={encode(e,r=s.default.Writer.create()){for(const t of e.messages)n.WakuMessage.encode(t,r.uint32(18).fork()).ldelim();return void 0!==e.pagingInfo&&t.PagingInfo.encode(e.pagingInfo,r.uint32(26).fork()).ldelim(),0!==e.error&&r.uint32(32).int32(e.error),r},decode(e,r){const o=e instanceof s.default.Reader?e:new s.default.Reader(e);let i=void 0===r?o.len:o.pos+r;const a={messages:[],pagingInfo:void 0,error:0};for(;o.pos<i;){const e=o.uint32();switch(e>>>3){case 2:a.messages.push(n.WakuMessage.decode(o,o.uint32()));break;case 3:a.pagingInfo=t.PagingInfo.decode(o,o.uint32());break;case 4:a.error=o.int32();break;default:o.skipType(7&e)}}return a},fromJSON:e=>({messages:Array.isArray(e?.messages)?e.messages.map((e=>n.WakuMessage.fromJSON(e))):[],pagingInfo:v(e.pagingInfo)?t.PagingInfo.fromJSON(e.pagingInfo):void 0,error:v(e.error)?l(e.error):0}),toJSON(e){const r={};return e.messages?r.messages=e.messages.map((e=>e?n.WakuMessage.toJSON(e):void 0)):r.messages=[],void 0!==e.pagingInfo&&(r.pagingInfo=e.pagingInfo?t.PagingInfo.toJSON(e.pagingInfo):void 0),void 0!==e.error&&(r.error=p(e.error)),r},fromPartial(e){const r={messages:[],pagingInfo:void 0,error:0};return r.messages=e.messages?.map((e=>n.WakuMessage.fromPartial(e)))||[],r.pagingInfo=void 0!==e.pagingInfo&&null!==e.pagingInfo?t.PagingInfo.fromPartial(e.pagingInfo):void 0,r.error=e.error??0,r}},t.HistoryRPC={encode:(e,r=s.default.Writer.create())=>(""!==e.requestId&&r.uint32(10).string(e.requestId),void 0!==e.query&&t.HistoryQuery.encode(e.query,r.uint32(18).fork()).ldelim(),void 0!==e.response&&t.HistoryResponse.encode(e.response,r.uint32(26).fork()).ldelim(),r),decode(e,r){const o=e instanceof s.default.Reader?e:new s.default.Reader(e);let i=void 0===r?o.len:o.pos+r;const n={requestId:"",query:void 0,response:void 0};for(;o.pos<i;){const e=o.uint32();switch(e>>>3){case 1:n.requestId=o.string();break;case 2:n.query=t.HistoryQuery.decode(o,o.uint32());break;case 3:n.response=t.HistoryResponse.decode(o,o.uint32());break;default:o.skipType(7&e)}}return n},fromJSON:e=>({requestId:v(e.requestId)?String(e.requestId):"",query:v(e.query)?t.HistoryQuery.fromJSON(e.query):void 0,response:v(e.response)?t.HistoryResponse.fromJSON(e.response):void 0}),toJSON(e){const r={};return void 0!==e.requestId&&(r.requestId=e.requestId),void 0!==e.query&&(r.query=e.query?t.HistoryQuery.toJSON(e.query):void 0),void 0!==e.response&&(r.response=e.response?t.HistoryResponse.toJSON(e.response):void 0),r},fromPartial(e){const r={requestId:"",query:void 0,response:void 0};return r.requestId=e.requestId??"",r.query=void 0!==e.query&&null!==e.query?t.HistoryQuery.fromPartial(e.query):void 0,r.response=void 0!==e.response&&null!==e.response?t.HistoryResponse.fromPartial(e.response):void 0,r}};var h=(()=>{if(void 0!==h)return h;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw"Unable to locate global object"})();const y=h.atob||(e=>h.Buffer.from(e,"base64").toString("binary"));function g(e){const t=y(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}const b=h.btoa||(e=>h.Buffer.from(e,"binary").toString("base64"));function m(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new h.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function v(e){return null!=e}s.default.util.Long!==i.default&&(s.default.util.Long=i.default,s.default.configure())},43094:()=>{},69159:()=>{},35883:()=>{},46601:()=>{},89214:()=>{},71922:()=>{},2363:()=>{},5696:()=>{},89408:()=>{},57600:()=>{},62678:()=>{},25819:()=>{},52361:()=>{},94616:()=>{},6567:()=>{}},r={};function o(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.loaded=!0,s.exports}o.m=t,o.amdO={},e=[],o.O=(t,r,i,s)=>{if(!r){var n=1/0;for(d=0;d<e.length;d++){for(var[r,i,s]=e[d],a=!0,u=0;u<r.length;u++)(!1&s||n>=s)&&Object.keys(o.O).every((e=>o.O[e](r[u])))?r.splice(u--,1):(a=!1,s<n&&(n=s));if(a){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,i,s]},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={204:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var i,s,[n,a,u]=r,c=0;if(n.some((t=>0!==e[t]))){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);if(u)var d=u(o)}for(t&&t(r);c<n.length;c++)s=n[c],o.o(e,s)&&e[s]&&e[s][0](),e[n[c]]=0;return o.O(d)},r=this.webpackChunkjswaku=this.webpackChunkjswaku||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var i=o.O(void 0,[216],(()=>o(63607)));return o.O(i)})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFM21CLElBRzFCb29CLEVBQXFCeHVCLEtBQXlCLG1CQUFJQSxLQUF5QixvQkFBSyxHQUNwRnd1QixFQUFtQnZuQixRQUFRa25CLEVBQXFCenNCLEtBQUssS0FBTSxJQUMzRDhzQixFQUFtQmxxQixLQUFPNnBCLEVBQXFCenNCLEtBQUssS0FBTThzQixFQUFtQmxxQixLQUFLNUMsS0FBSzhzQixLLEdDN0N2RixJQUFJQyxFQUFzQmxDLEVBQW9CUSxPQUFFcHJCLEVBQVcsQ0FBQyxNQUFNLElBQU80cUIsRUFBb0IsUyxPQUN2RUEsRUFBb0JRLEVBQUUwQixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vanN3YWt1L3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9qc3dha3Uvd2VicGFjay9ydW50aW1lL2NodW5rIGxvYWRlZCIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vanN3YWt1Ly4vc3JjL2xpYi9kaXNjb3ZlcnkvYm9vdHN0cmFwLnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvZGlzY292ZXJ5L2Rucy50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL2Rpc2NvdmVyeS9kbnNfb3Zlcl9odHRwcy50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL2Rpc2NvdmVyeS9lbnJ0cmVlLnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvZGlzY292ZXJ5L2hvc3RlZF9qc29uLnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvZGlzY292ZXJ5L2luZGV4LnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvZW5yL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL2Vuci9jcmVhdGUudHMiLCJ3ZWJwYWNrOi8vanN3YWt1Ly4vc3JjL2xpYi9lbnIvZW5yLnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvZW5yL2luZGV4LnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvZW5yL2tleXBhaXIvY29uc3RhbnRzLnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvZW5yL2tleXBhaXIvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vanN3YWt1Ly4vc3JjL2xpYi9lbnIva2V5cGFpci9zZWNwMjU2azEudHMiLCJ3ZWJwYWNrOi8vanN3YWt1Ly4vc3JjL2xpYi9lbnIva2V5cGFpci90eXBlcy50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL2Vuci92NC50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL3NlbGVjdF9wZWVyLnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vanN3YWt1Ly4vc3JjL2xpYi93YWt1LnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvd2FrdV9saWdodF9wdXNoL2luZGV4LnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvd2FrdV9saWdodF9wdXNoL3B1c2hfcnBjLnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvd2FrdV9tZXNzYWdlL2luZGV4LnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvd2FrdV9tZXNzYWdlL3N5bW1ldHJpYy9icm93c2VyLnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvd2FrdV9tZXNzYWdlL3N5bW1ldHJpYy9pbmRleC50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL3dha3VfbWVzc2FnZS9zeW1tZXRyaWMvbm9kZS50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL3dha3VfbWVzc2FnZS92ZXJzaW9uXzEudHMiLCJ3ZWJwYWNrOi8vanN3YWt1Ly4vc3JjL2xpYi93YWt1X3JlbGF5L2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL3dha3VfcmVsYXkvZ2V0X3JlbGF5X3BlZXJzLnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvd2FrdV9yZWxheS9pbmRleC50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL3dha3VfcmVsYXkvcmVsYXlfaGVhcnRiZWF0LnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9saWIvd2FrdV9zdG9yZS9oaXN0b3J5X3JwYy50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvbGliL3dha3Vfc3RvcmUvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vanN3YWt1Ly4vc3JjL3Byb3RvL2luZGV4LnRzIiwid2VicGFjazovL2pzd2FrdS8uL3NyYy9wcm90by93YWt1L3YyL2xpZ2h0X3B1c2gudHMiLCJ3ZWJwYWNrOi8vanN3YWt1Ly4vc3JjL3Byb3RvL3dha3UvdjIvbWVzc2FnZS50cyIsIndlYnBhY2s6Ly9qc3dha3UvLi9zcmMvcHJvdG8vd2FrdS92Mi9zdG9yZS50cyIsIndlYnBhY2s6Ly9qc3dha3Uvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vanN3YWt1L3dlYnBhY2svcnVudGltZS9hbWQgb3B0aW9ucyIsIndlYnBhY2s6Ly9qc3dha3Uvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2pzd2FrdS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2pzd2FrdS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2pzd2FrdS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2pzd2FrdS93ZWJwYWNrL3J1bnRpbWUvbm9kZSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL2pzd2FrdS93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly9qc3dha3Uvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImpzd2FrdVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJqc3dha3VcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJleHBvcnQgeyBnZXROb2Rlc0Zyb21Ib3N0ZWRKc29uIH0gZnJvbSAnLi9saWIvZGlzY292ZXJ5JztcbmV4cG9ydCAqIGFzIGRpc2NvdmVyeSBmcm9tICcuL2xpYi9kaXNjb3ZlcnknO1xuXG5leHBvcnQgKiBhcyBlbnIgZnJvbSAnLi9saWIvZW5yJztcblxuZXhwb3J0ICogYXMgdXRpbHMgZnJvbSAnLi9saWIvdXRpbHMnO1xuXG5leHBvcnQgKiBhcyB3YWt1IGZyb20gJy4vbGliL3dha3UnO1xuZXhwb3J0IHsgV2FrdSwgRGVmYXVsdFB1YlN1YlRvcGljIH0gZnJvbSAnLi9saWIvd2FrdSc7XG5cbmV4cG9ydCAqIGFzIHdha3VfbWVzc2FnZSBmcm9tICcuL2xpYi93YWt1X21lc3NhZ2UnO1xuZXhwb3J0IHsgV2FrdU1lc3NhZ2UgfSBmcm9tICcuL2xpYi93YWt1X21lc3NhZ2UnO1xuXG5leHBvcnQge1xuICBnZW5lcmF0ZVByaXZhdGVLZXksXG4gIGdlbmVyYXRlU3ltbWV0cmljS2V5LFxuICBnZXRQdWJsaWNLZXksXG59IGZyb20gJy4vbGliL3dha3VfbWVzc2FnZS92ZXJzaW9uXzEnO1xuXG5leHBvcnQgKiBhcyB3YWt1X2xpZ2h0X3B1c2ggZnJvbSAnLi9saWIvd2FrdV9saWdodF9wdXNoJztcbmV4cG9ydCB7XG4gIFdha3VMaWdodFB1c2gsXG4gIExpZ2h0UHVzaENvZGVjLFxuICBQdXNoUmVzcG9uc2UsXG59IGZyb20gJy4vbGliL3dha3VfbGlnaHRfcHVzaCc7XG5cbmV4cG9ydCAqIGFzIHdha3VfcmVsYXkgZnJvbSAnLi9saWIvd2FrdV9yZWxheSc7XG5leHBvcnQgeyBXYWt1UmVsYXksIFJlbGF5Q29kZWNzIH0gZnJvbSAnLi9saWIvd2FrdV9yZWxheSc7XG5cbmV4cG9ydCAqIGFzIHdha3Vfc3RvcmUgZnJvbSAnLi9saWIvd2FrdV9zdG9yZSc7XG5leHBvcnQgeyBQYWdlRGlyZWN0aW9uLCBXYWt1U3RvcmUsIFN0b3JlQ29kZWMgfSBmcm9tICcuL2xpYi93YWt1X3N0b3JlJztcblxuZXhwb3J0ICogYXMgcHJvdG8gZnJvbSAnLi9wcm90byc7XG4iLCJpbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IHsgTXVsdGlhZGRyIH0gZnJvbSAnbXVsdGlhZGRyJztcblxuaW1wb3J0IHsgRG5zTm9kZURpc2NvdmVyeSB9IGZyb20gJy4vZG5zJztcblxuaW1wb3J0IHsgZ2V0Tm9kZXNGcm9tSG9zdGVkSnNvbiwgZ2V0UHNldWRvUmFuZG9tU3Vic2V0IH0gZnJvbSAnLi9pbmRleCc7XG5cbmNvbnN0IGRiZyA9IGRlYnVnKCd3YWt1OmRpc2NvdmVyeTpib290c3RyYXAnKTtcblxuLyoqXG4gKiBTZXR1cCBkaXNjb3ZlcnkgbWV0aG9kIHVzZWQgdG8gYm9vdHN0cmFwLlxuICpcbiAqIE9ubHkgb25lIG1ldGhvZCBpcyB1c2VkLiBgZGVmYXVsdGAsIGBwZWVyc2AsIGBnZXRQZWVyc2AgYW5kIGBlbnJgIG9wdGlvbnMgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCb290c3RyYXBPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG9mIHBlZXJzIHRvIGNvbm5lY3QgdG8gYXMgcGFydCBvZiB0aGUgYm9vdHN0cmFwIHByb2Nlc3MuXG4gICAqXG4gICAqIEBkZWZhdWx0IFtbQm9vdHN0cmFwLkRlZmF1bHRNYXhQZWVyc11dXG4gICAqL1xuICBtYXhQZWVycz86IG51bWJlcjtcbiAgLyoqXG4gICAqIFVzZSB0aGUgZGVmYXVsdCBkaXNjb3ZlcnkgbWV0aG9kLiBPdmVycmlkZXMgYWxsIG90aGVyIG9wdGlvbnMgYnV0IGBtYXhQZWVyc2BcbiAgICpcbiAgICogVGhlIGRlZmF1bHQgZGlzY292ZXJ5IG1ldGhvZCBpcyBsaWtlbHkgdG8gY2hhbmdlIG92ZXJ0aW1lIGFzIG5ldyBkaXNjb3ZlcnlcbiAgICogbWV0aG9kcyBhcmUgaW1wbGVtZW50ZWQuXG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBkZWZhdWx0PzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIE11bHRpYWRkcnMgb2YgcGVlcnMgdG8gY29ubmVjdCB0by5cbiAgICovXG4gIHBlZXJzPzogc3RyaW5nW107XG4gIC8qKlxuICAgKiBHZXR0ZXIgdGhhdCByZXRyaWV2ZSBtdWx0aWFkZHJzIG9mIHBlZXJzIHRvIGNvbm5lY3QgdG8uXG4gICAqL1xuICBnZXRQZWVycz86ICgpID0+IFByb21pc2U8c3RyaW5nW10gfCBNdWx0aWFkZHJbXT47XG4gIC8qKlxuICAgKiBBbiBFSVAtMTQ1OSBFTlIgVHJlZSBVUkwuIEZvciBleGFtcGxlOlxuICAgKiBcImVucnRyZWU6Ly9BT0ZUSUNVMlhXRFVMTkxaR1JNUVM0UklaUEFaRUhZTVY0RllIQVBXNTYzSE5SQU9FUlA3Q0B0ZXN0Lm5vZGVzLnZhYy5kZXZcIlxuICAgKi9cbiAgZW5yVXJsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFBhcnNlIG9wdGlvbnMgYW5kIGV4cG9zZSBmdW5jdGlvbiB0byByZXR1cm4gYm9vdHN0cmFwIHBlZXIgYWRkcmVzc2VzLlxuICovXG5leHBvcnQgY2xhc3MgQm9vdHN0cmFwIHtcbiAgcHVibGljIHN0YXRpYyBEZWZhdWx0TWF4UGVlcnMgPSAxO1xuXG4gIHB1YmxpYyByZWFkb25seSBnZXRCb290c3RyYXBQZWVyczogKCgpID0+IFByb21pc2U8TXVsdGlhZGRyW10+KSB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiBCb290c3RyYXBPcHRpb25zKSB7XG4gICAgY29uc3QgbWF4UGVlcnMgPSBvcHRzLm1heFBlZXJzID8/IEJvb3RzdHJhcC5EZWZhdWx0TWF4UGVlcnM7XG5cbiAgICBpZiAob3B0cy5kZWZhdWx0KSB7XG4gICAgICBkYmcoJ1VzZSBob3N0ZWQgbGlzdCBvZiBwZWVycy4nKTtcblxuICAgICAgdGhpcy5nZXRCb290c3RyYXBQZWVycyA9IGdldE5vZGVzRnJvbUhvc3RlZEpzb24uYmluZChcbiAgICAgICAge30sXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICBtYXhQZWVyc1xuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKG9wdHMucGVlcnMgIT09IHVuZGVmaW5lZCAmJiBvcHRzLnBlZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIGRiZygnVXNlIHByb3ZpZGVkIGxpc3Qgb2YgcGVlcnMuJyk7XG5cbiAgICAgIGNvbnN0IGFsbFBlZXJzOiBNdWx0aWFkZHJbXSA9IG9wdHMucGVlcnMubWFwKFxuICAgICAgICAobm9kZTogc3RyaW5nKSA9PiBuZXcgTXVsdGlhZGRyKG5vZGUpXG4gICAgICApO1xuICAgICAgY29uc3QgcGVlcnMgPSBnZXRQc2V1ZG9SYW5kb21TdWJzZXQoYWxsUGVlcnMsIG1heFBlZXJzKTtcbiAgICAgIHRoaXMuZ2V0Qm9vdHN0cmFwUGVlcnMgPSAoKTogUHJvbWlzZTxNdWx0aWFkZHJbXT4gPT5cbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHBlZXJzKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRzLmdldFBlZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBkYmcoJ0Jvb3RzdHJhcDogVXNlIHByb3ZpZGVkIGdldFBlZXJzIGZ1bmN0aW9uLicpO1xuICAgICAgY29uc3QgZ2V0UGVlcnMgPSBvcHRzLmdldFBlZXJzO1xuXG4gICAgICB0aGlzLmdldEJvb3RzdHJhcFBlZXJzID0gYXN5bmMgKCk6IFByb21pc2U8TXVsdGlhZGRyW10+ID0+IHtcbiAgICAgICAgY29uc3QgYWxsUGVlcnMgPSBhd2FpdCBnZXRQZWVycygpO1xuICAgICAgICByZXR1cm4gZ2V0UHNldWRvUmFuZG9tU3Vic2V0PHN0cmluZyB8IE11bHRpYWRkcj4oXG4gICAgICAgICAgYWxsUGVlcnMsXG4gICAgICAgICAgbWF4UGVlcnNcbiAgICAgICAgKS5tYXAoKG5vZGUpID0+IG5ldyBNdWx0aWFkZHIobm9kZSkpO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKG9wdHMuZW5yVXJsKSB7XG4gICAgICBjb25zdCBlbnJVcmwgPSBvcHRzLmVuclVybDtcbiAgICAgIGRiZygnVXNlIHByb3ZpZGVkIEVJUC0xNDU5IEVOUiBUcmVlIFVSTC4nKTtcblxuICAgICAgY29uc3QgZG5zID0gRG5zTm9kZURpc2NvdmVyeS5kbnNPdmVySHR0cCgpO1xuXG4gICAgICB0aGlzLmdldEJvb3RzdHJhcFBlZXJzID0gYXN5bmMgKCk6IFByb21pc2U8TXVsdGlhZGRyW10+ID0+IHtcbiAgICAgICAgY29uc3QgZW5ycyA9IGF3YWl0IGRucy5nZXRQZWVycyhtYXhQZWVycywgW2VuclVybF0pO1xuICAgICAgICBkYmcoYEZvdW5kICR7ZW5ycy5sZW5ndGh9IHBlZXJzYCk7XG4gICAgICAgIHJldHVybiBlbnJzLm1hcCgoZW5yKSA9PiBlbnIuZ2V0RnVsbE11bHRpYWRkcnMoKSkuZmxhdCgpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGJnKCdObyBib290c3RyYXAgbWV0aG9kIHNwZWNpZmllZCwgbm8gcGVlciB3aWxsIGJlIHJldHVybmVkJyk7XG4gICAgICB0aGlzLmdldEJvb3RzdHJhcFBlZXJzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5pbXBvcnQgeyBkZWJ1ZyB9IGZyb20gJ2RlYnVnJztcblxuaW1wb3J0IHsgRU5SIH0gZnJvbSAnLi4vZW5yJztcblxuaW1wb3J0IHsgRG5zT3Zlckh0dHBzLCBFbmRwb2ludHMgfSBmcm9tICcuL2Ruc19vdmVyX2h0dHBzJztcbmltcG9ydCB7IEVOUlRyZWUgfSBmcm9tICcuL2VucnRyZWUnO1xuXG5jb25zdCBkYmcgPSBkZWJ1Zygnd2FrdTpkaXNjb3Zlcnk6ZG5zJyk7XG5cbmV4cG9ydCB0eXBlIFNlYXJjaENvbnRleHQgPSB7XG4gIGRvbWFpbjogc3RyaW5nO1xuICBwdWJsaWNLZXk6IHN0cmluZztcbiAgdmlzaXRzOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG5zQ2xpZW50IHtcbiAgcmVzb2x2ZVRYVDogKGRvbWFpbjogc3RyaW5nKSA9PiBQcm9taXNlPHN0cmluZ1tdPjtcbn1cblxuZXhwb3J0IGNsYXNzIERuc05vZGVEaXNjb3Zlcnkge1xuICBwcml2YXRlIHJlYWRvbmx5IGRuczogRG5zQ2xpZW50O1xuICBwcml2YXRlIHJlYWRvbmx5IF9ETlNUcmVlQ2FjaGU6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gIHByaXZhdGUgcmVhZG9ubHkgX2Vycm9yVG9sZXJhbmNlOiBudW1iZXIgPSAxMDtcblxuICBwdWJsaWMgc3RhdGljIGRuc092ZXJIdHRwKGVuZHBvaW50cz86IEVuZHBvaW50cyk6IERuc05vZGVEaXNjb3Zlcnkge1xuICAgIGNvbnN0IGRuc0NsaWVudCA9IG5ldyBEbnNPdmVySHR0cHMoZW5kcG9pbnRzKTtcbiAgICByZXR1cm4gbmV3IERuc05vZGVEaXNjb3ZlcnkoZG5zQ2xpZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiB2ZXJpZmllZCBwZWVycyBsaXN0ZWQgaW4gYW4gRUlQLTE0NTkgRE5TIHRyZWUuIE1ldGhvZCBtYXlcbiAgICogcmV0dXJuIGZld2VyIHBlZXJzIHRoYW4gcmVxdWVzdGVkIGlmIGBtYXhRdWFudGl0eWAgaXMgbGFyZ2VyIHRoYW4gdGhlIG51bWJlclxuICAgKiBvZiBFTlIgcmVjb3JkcyBvciB0aGUgbnVtYmVyIG9mIGVycm9ycy9kdXBsaWNhdGUgcGVlcnMgZW5jb3VudGVyZWQgYnkgcmFuZG9taXplZFxuICAgKiBzZWFyY2ggZXhjZWVkcyBgbWF4UXVhbnRpdHlgIHBsdXMgdGhlIGBlcnJvclRvbGVyYW5jZWAgZmFjdG9yLlxuICAgKi9cbiAgYXN5bmMgZ2V0UGVlcnMobWF4UXVhbnRpdHk6IG51bWJlciwgZW5yVHJlZVVybHM6IHN0cmluZ1tdKTogUHJvbWlzZTxFTlJbXT4ge1xuICAgIGxldCB0b3RhbFNlYXJjaGVzID0gMDtcbiAgICBjb25zdCBwZWVyczogRU5SW10gPSBbXTtcblxuICAgIGNvbnN0IG5ldHdvcmtJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGVuclRyZWVVcmxzLmxlbmd0aCk7XG4gICAgY29uc3QgeyBwdWJsaWNLZXksIGRvbWFpbiB9ID0gRU5SVHJlZS5wYXJzZVRyZWUoZW5yVHJlZVVybHNbbmV0d29ya0luZGV4XSk7XG5cbiAgICB3aGlsZSAoXG4gICAgICBwZWVycy5sZW5ndGggPCBtYXhRdWFudGl0eSAmJlxuICAgICAgdG90YWxTZWFyY2hlcyA8IG1heFF1YW50aXR5ICsgdGhpcy5fZXJyb3JUb2xlcmFuY2VcbiAgICApIHtcbiAgICAgIGNvbnN0IGNvbnRleHQ6IFNlYXJjaENvbnRleHQgPSB7XG4gICAgICAgIGRvbWFpbixcbiAgICAgICAgcHVibGljS2V5LFxuICAgICAgICB2aXNpdHM6IHt9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcGVlciA9IGF3YWl0IHRoaXMuX3NlYXJjaChkb21haW4sIGNvbnRleHQpO1xuXG4gICAgICBpZiAocGVlciAmJiBpc05ld1BlZXIocGVlciwgcGVlcnMpKSB7XG4gICAgICAgIHBlZXJzLnB1c2gocGVlcik7XG4gICAgICAgIGRiZyhcbiAgICAgICAgICBgZ290IG5ldyBwZWVyIGNhbmRpZGF0ZSBmcm9tIEROUyBhZGRyZXNzPSR7cGVlci5ub2RlSWR9QCR7cGVlci5pcH1gXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRvdGFsU2VhcmNoZXMrKztcbiAgICB9XG4gICAgcmV0dXJuIHBlZXJzO1xuICB9XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKGRuczogRG5zQ2xpZW50KSB7XG4gICAgdGhpcy5fRE5TVHJlZUNhY2hlID0ge307XG4gICAgdGhpcy5kbnMgPSBkbnM7XG4gIH1cblxuICAvKipcbiAgICogUnVucyBhIHJlY3Vyc2l2ZSwgcmFuZG9taXplZCBkZXNjZW50IG9mIHRoZSBETlMgdHJlZSB0byByZXRyaWV2ZSBhIHNpbmdsZVxuICAgKiBFTlIgcmVjb3JkIGFzIGFuIEVOUi4gUmV0dXJucyBudWxsIGlmIHBhcnNpbmcgb3IgRE5TIHJlc29sdXRpb24gZmFpbHMuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIF9zZWFyY2goXG4gICAgc3ViZG9tYWluOiBzdHJpbmcsXG4gICAgY29udGV4dDogU2VhcmNoQ29udGV4dFxuICApOiBQcm9taXNlPEVOUiB8IG51bGw+IHtcbiAgICBjb25zdCBlbnRyeSA9IGF3YWl0IHRoaXMuX2dldFRYVFJlY29yZChzdWJkb21haW4sIGNvbnRleHQpO1xuICAgIGNvbnRleHQudmlzaXRzW3N1YmRvbWFpbl0gPSB0cnVlO1xuXG4gICAgbGV0IG5leHQ6IHN0cmluZztcbiAgICBsZXQgYnJhbmNoZXM6IHN0cmluZ1tdO1xuXG4gICAgY29uc3QgZW50cnlUeXBlID0gZ2V0RW50cnlUeXBlKGVudHJ5KTtcbiAgICB0cnkge1xuICAgICAgc3dpdGNoIChlbnRyeVR5cGUpIHtcbiAgICAgICAgY2FzZSBFTlJUcmVlLlJPT1RfUFJFRklYOlxuICAgICAgICAgIG5leHQgPSBFTlJUcmVlLnBhcnNlQW5kVmVyaWZ5Um9vdChlbnRyeSwgY29udGV4dC5wdWJsaWNLZXkpO1xuICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9zZWFyY2gobmV4dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgRU5SVHJlZS5CUkFOQ0hfUFJFRklYOlxuICAgICAgICAgIGJyYW5jaGVzID0gRU5SVHJlZS5wYXJzZUJyYW5jaChlbnRyeSk7XG4gICAgICAgICAgbmV4dCA9IHNlbGVjdFJhbmRvbVBhdGgoYnJhbmNoZXMsIGNvbnRleHQpO1xuICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9zZWFyY2gobmV4dCwgY29udGV4dCk7XG4gICAgICAgIGNhc2UgRU5SVHJlZS5SRUNPUkRfUFJFRklYOlxuICAgICAgICAgIHJldHVybiBFTlIuZGVjb2RlVHh0KGVudHJ5KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZGJnKFxuICAgICAgICBgRmFpbGVkIHRvIHNlYXJjaCBETlMgdHJlZSAke2VudHJ5VHlwZX0gYXQgc3ViZG9tYWluICR7c3ViZG9tYWlufTogJHtlcnJvcn1gXG4gICAgICApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgVFhUIHJlY29yZCBzdG9yZWQgYXQgYSBsb2NhdGlvbiBmcm9tIGVpdGhlclxuICAgKiB0aGlzIEROUyB0cmVlIGNhY2hlIG9yIHZpYSBETlMgcXVlcnlcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgX2dldFRYVFJlY29yZChcbiAgICBzdWJkb21haW46IHN0cmluZyxcbiAgICBjb250ZXh0OiBTZWFyY2hDb250ZXh0XG4gICk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgaWYgKHRoaXMuX0ROU1RyZWVDYWNoZVtzdWJkb21haW5dKSB7XG4gICAgICByZXR1cm4gdGhpcy5fRE5TVHJlZUNhY2hlW3N1YmRvbWFpbl07XG4gICAgfVxuXG4gICAgLy8gTG9jYXRpb24gaXMgZWl0aGVyIHRoZSB0b3AgbGV2ZWwgdHJlZSBlbnRyeSBob3N0IG9yIGEgc3ViZG9tYWluIG9mIGl0LlxuICAgIGNvbnN0IGxvY2F0aW9uID1cbiAgICAgIHN1YmRvbWFpbiAhPT0gY29udGV4dC5kb21haW5cbiAgICAgICAgPyBgJHtzdWJkb21haW59LiR7Y29udGV4dC5kb21haW59YFxuICAgICAgICA6IGNvbnRleHQuZG9tYWluO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmRucy5yZXNvbHZlVFhUKGxvY2F0aW9uKTtcblxuICAgIGFzc2VydChcbiAgICAgIHJlc3BvbnNlLmxlbmd0aCxcbiAgICAgICdSZWNlaXZlZCBlbXB0eSByZXN1bHQgYXJyYXkgd2hpbGUgZmV0Y2hpbmcgVFhUIHJlY29yZCdcbiAgICApO1xuICAgIGFzc2VydChyZXNwb25zZVswXS5sZW5ndGgsICdSZWNlaXZlZCBlbXB0eSBUWFQgcmVjb3JkJyk7XG5cbiAgICAvLyBCcmFuY2ggZW50cmllcyBjYW4gYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyBvZiBjb21tYSBkZWxpbWl0ZWQgc3ViZG9tYWlucywgd2l0aFxuICAgIC8vIHNvbWUgc3ViZG9tYWluIHN0cmluZ3Mgc3BsaXQgYWNyb3NzIHRoZSBhcnJheSBlbGVtZW50c1xuICAgIGNvbnN0IHJlc3VsdCA9IHJlc3BvbnNlLmpvaW4oJycpO1xuXG4gICAgdGhpcy5fRE5TVHJlZUNhY2hlW3N1YmRvbWFpbl0gPSByZXN1bHQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRFbnRyeVR5cGUoZW50cnk6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmIChlbnRyeS5zdGFydHNXaXRoKEVOUlRyZWUuUk9PVF9QUkVGSVgpKSByZXR1cm4gRU5SVHJlZS5ST09UX1BSRUZJWDtcbiAgaWYgKGVudHJ5LnN0YXJ0c1dpdGgoRU5SVHJlZS5CUkFOQ0hfUFJFRklYKSkgcmV0dXJuIEVOUlRyZWUuQlJBTkNIX1BSRUZJWDtcbiAgaWYgKGVudHJ5LnN0YXJ0c1dpdGgoRU5SVHJlZS5SRUNPUkRfUFJFRklYKSkgcmV0dXJuIEVOUlRyZWUuUkVDT1JEX1BSRUZJWDtcblxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHJhbmRvbWx5IHNlbGVjdGVkIHN1YmRvbWFpbiBzdHJpbmcgZnJvbSB0aGUgbGlzdCBwcm92aWRlZCBieSBhIGJyYW5jaFxuICogZW50cnkgcmVjb3JkLlxuICpcbiAqIFRoZSBjbGllbnQgbXVzdCB0cmFjayBzdWJkb21haW5zIHdoaWNoIGFyZSBhbHJlYWR5IHJlc29sdmVkIHRvIGF2b2lkXG4gKiBnb2luZyBpbnRvIGFuIGluZmluaXRlIGxvb3AgYi9jIGJyYW5jaCBlbnRyaWVzIGNhbiBjb250YWluXG4gKiBjaXJjdWxhciByZWZlcmVuY2VzLiBJdOKAmXMgaW4gdGhlIGNsaWVudOKAmXMgYmVzdCBpbnRlcmVzdCB0byB0cmF2ZXJzZSB0aGVcbiAqIHRyZWUgaW4gcmFuZG9tIG9yZGVyLlxuICovXG5mdW5jdGlvbiBzZWxlY3RSYW5kb21QYXRoKGJyYW5jaGVzOiBzdHJpbmdbXSwgY29udGV4dDogU2VhcmNoQ29udGV4dCk6IHN0cmluZyB7XG4gIC8vIElkZW50aWZ5IGRvbWFpbnMgYWxyZWFkeSB2aXNpdGVkIGluIHRoaXMgdHJhdmVyc2FsIG9mIHRoZSBETlMgdHJlZS5cbiAgLy8gVGhlbiBmaWx0ZXIgYWdhaW5zdCB0aGVtIHRvIHByZXZlbnQgY3ljbGVzLlxuICBjb25zdCBjaXJjdWxhclJlZnM6IHsgW2tleTogbnVtYmVyXTogYm9vbGVhbiB9ID0ge307XG4gIGZvciAoY29uc3QgW2lkeCwgc3ViZG9tYWluXSBvZiBicmFuY2hlcy5lbnRyaWVzKCkpIHtcbiAgICBpZiAoY29udGV4dC52aXNpdHNbc3ViZG9tYWluXSkge1xuICAgICAgY2lyY3VsYXJSZWZzW2lkeF0gPSB0cnVlO1xuICAgIH1cbiAgfVxuICAvLyBJZiBhbGwgcG9zc2libGUgcGF0aHMgYXJlIGNpcmN1bGFyLi4uXG4gIGlmIChPYmplY3Qua2V5cyhjaXJjdWxhclJlZnMpLmxlbmd0aCA9PT0gYnJhbmNoZXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbnJlc29sdmFibGUgY2lyY3VsYXIgcGF0aCBkZXRlY3RlZCcpO1xuICB9XG5cbiAgLy8gUmFuZG9tbHkgc2VsZWN0IGEgdmlhYmxlIHBhdGhcbiAgbGV0IGluZGV4O1xuICBkbyB7XG4gICAgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBicmFuY2hlcy5sZW5ndGgpO1xuICB9IHdoaWxlIChjaXJjdWxhclJlZnNbaW5kZXhdKTtcblxuICByZXR1cm4gYnJhbmNoZXNbaW5kZXhdO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIGZhbHNlIGlmIGNhbmRpZGF0ZSBwZWVyIGFscmVhZHkgZXhpc3RzIGluIHRoZVxuICogICAgICAgICBjdXJyZW50IGNvbGxlY3Rpb24gb2YgcGVlcnMgYmFzZWQgb24gdGhlIG5vZGUgaWQgdmFsdWU7XG4gKiAgICAgICAgIHRydWUgb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBpc05ld1BlZXIocGVlcjogRU5SIHwgbnVsbCwgcGVlcnM6IEVOUltdKTogYm9vbGVhbiB7XG4gIGlmICghcGVlciB8fCAhcGVlci5ub2RlSWQpIHJldHVybiBmYWxzZTtcblxuICBmb3IgKGNvbnN0IGV4aXN0aW5nUGVlciBvZiBwZWVycykge1xuICAgIGlmIChwZWVyLm5vZGVJZCA9PT0gZXhpc3RpbmdQZWVyLm5vZGVJZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuIiwiaW1wb3J0IHsgVHh0QW5zd2VyIH0gZnJvbSAnZG5zLXBhY2tldCc7XG5pbXBvcnQge1xuICBlbmRwb2ludHMgYXMgZGVmYXVsdEVuZHBvaW50cyxcbiAgRW5kcG9pbnQsXG4gIEVuZHBvaW50UHJvcHMsXG4gIHF1ZXJ5LFxufSBmcm9tICdkbnMtcXVlcnknO1xuXG5pbXBvcnQgeyBEbnNDbGllbnQgfSBmcm9tICcuL2Rucyc7XG5cbmNvbnN0IHsgY2xvdWRmbGFyZSwgZ29vZ2xlLCBvcGVuZG5zIH0gPSBkZWZhdWx0RW5kcG9pbnRzO1xuXG5leHBvcnQgdHlwZSBFbmRwb2ludHMgPVxuICB8ICdkb2gnXG4gIHwgJ2RucydcbiAgfCBJdGVyYWJsZTxFbmRwb2ludCB8IEVuZHBvaW50UHJvcHMgfCBzdHJpbmc+O1xuXG5leHBvcnQgY2xhc3MgRG5zT3Zlckh0dHBzIGltcGxlbWVudHMgRG5zQ2xpZW50IHtcbiAgLyoqXG4gICAqIENyZWF0ZSBuZXcgRG5zLU92ZXItSHR0cCBETlMgY2xpZW50LlxuICAgKlxuICAgKiBAcGFyYW0gZW5kcG9pbnRzIFRoZSBlbmRwb2ludHMgZm9yIERucy1PdmVyLUh0dHBzIHF1ZXJpZXMuXG4gICAqIFNlZSBbZG5zLXF1ZXJ5XShodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9kbnMtcXVlcnkpIGZvciBkZXRhaWxzLlxuICAgKiBEZWZhdWx0cyB0byBjbG91ZGZsYXJlLCBnb29nbGUgYW5kIG9wZW5kbnMuXG4gICAqXG4gICAqIEB0aHJvd3Mge2NvZGU6IHN0cmluZ30gSWYgRE5TIHF1ZXJ5IGZhaWxzLlxuICAgKi9cbiAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBlbmRwb2ludHM6IEVuZHBvaW50cyA9IFtjbG91ZGZsYXJlLCBnb29nbGUsIG9wZW5kbnNdXG4gICkge31cblxuICBhc3luYyByZXNvbHZlVFhUKGRvbWFpbjogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcXVlcnkoe1xuICAgICAgcXVlc3Rpb25zOiBbeyB0eXBlOiAnVFhUJywgbmFtZTogZG9tYWluIH1dLFxuICAgIH0pO1xuXG4gICAgY29uc3QgYW5zd2VycyA9IHJlc3BvbnNlLmFuc3dlcnMgYXMgVHh0QW5zd2VyW107XG5cbiAgICBjb25zdCBkYXRhID0gYW5zd2Vycy5tYXAoKGEpID0+IGEuZGF0YSk7XG5cbiAgICBjb25zdCByZXN1bHQ6IHN0cmluZ1tdID0gW107XG5cbiAgICBkYXRhLmZvckVhY2goKGQpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goZCk7XG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZCkpIHtcbiAgICAgICAgZC5mb3JFYWNoKChzZCkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2Ygc2QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChzZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKEJ1ZmZlci5mcm9tKHNkKS50b1N0cmluZygndXRmLTgnKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKEJ1ZmZlci5mcm9tKGQpLnRvU3RyaW5nKCd1dGYtOCcpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cbiIsImltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuaW1wb3J0IGJhc2U2NHVybCBmcm9tICdiYXNlNjR1cmwnO1xuaW1wb3J0ICogYXMgYmFzZTMyIGZyb20gJ2hpLWJhc2UzMic7XG5pbXBvcnQgeyBlY2RzYVZlcmlmeSB9IGZyb20gJ3NlY3AyNTZrMSc7XG5cbmltcG9ydCB7IEVOUiB9IGZyb20gJy4uL2Vucic7XG5pbXBvcnQgeyBrZWNjYWsyNTZCdWYgfSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCB0eXBlIEVOUlJvb3RWYWx1ZXMgPSB7XG4gIGVSb290OiBzdHJpbmc7XG4gIGxSb290OiBzdHJpbmc7XG4gIHNlcTogbnVtYmVyO1xuICBzaWduYXR1cmU6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIEVOUlRyZWVWYWx1ZXMgPSB7XG4gIHB1YmxpY0tleTogc3RyaW5nO1xuICBkb21haW46IHN0cmluZztcbn07XG5cbmV4cG9ydCBjbGFzcyBFTlJUcmVlIHtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBSRUNPUkRfUFJFRklYID0gRU5SLlJFQ09SRF9QUkVGSVg7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVFJFRV9QUkVGSVggPSAnZW5ydHJlZTonO1xuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEJSQU5DSF9QUkVGSVggPSAnZW5ydHJlZS1icmFuY2g6JztcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBST09UX1BSRUZJWCA9ICdlbnJ0cmVlLXJvb3Q6JztcblxuICAvKipcbiAgICogRXh0cmFjdHMgdGhlIGJyYW5jaCBzdWJkb21haW4gcmVmZXJlbmNlZCBieSBhIEROUyB0cmVlIHJvb3Qgc3RyaW5nIGFmdGVyIHZlcmlmeWluZ1xuICAgKiB0aGUgcm9vdCByZWNvcmQgc2lnbmF0dXJlIHdpdGggaXRzIGJhc2UzMiBjb21wcmVzc2VkIHB1YmxpYyBrZXkuXG4gICAqL1xuICBzdGF0aWMgcGFyc2VBbmRWZXJpZnlSb290KHJvb3Q6IHN0cmluZywgcHVibGljS2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGFzc2VydChcbiAgICAgIHJvb3Quc3RhcnRzV2l0aCh0aGlzLlJPT1RfUFJFRklYKSxcbiAgICAgIGBFTlJUcmVlIHJvb3QgZW50cnkgbXVzdCBzdGFydCB3aXRoICcke3RoaXMuUk9PVF9QUkVGSVh9J2BcbiAgICApO1xuXG4gICAgY29uc3Qgcm9vdFZhbHVlcyA9IEVOUlRyZWUucGFyc2VSb290VmFsdWVzKHJvb3QpO1xuICAgIGNvbnN0IGRlY29kZWRQdWJsaWNLZXkgPSBiYXNlMzIuZGVjb2RlLmFzQnl0ZXMocHVibGljS2V5KTtcblxuICAgIC8vIFRoZSBzaWduYXR1cmUgaXMgYSA2NS1ieXRlIHNlY3AyNTZrMSBvdmVyIHRoZSBrZWNjYWsyNTYgaGFzaFxuICAgIC8vIG9mIHRoZSByZWNvcmQgY29udGVudCwgZXhjbHVkaW5nIHRoZSBgc2lnPWAgcGFydCwgZW5jb2RlZCBhcyBVUkwtc2FmZSBiYXNlNjQgc3RyaW5nXG4gICAgLy8gKFRyYWlsaW5nIHJlY292ZXJ5IGJpdCBtdXN0IGJlIHRyaW1tZWQgdG8gcGFzcyBgZWNkc2FWZXJpZnlgIG1ldGhvZClcbiAgICBjb25zdCBzaWduZWRDb21wb25lbnQgPSByb290LnNwbGl0KCcgc2lnJylbMF07XG4gICAgY29uc3Qgc2lnbmVkQ29tcG9uZW50QnVmZmVyID0gQnVmZmVyLmZyb20oc2lnbmVkQ29tcG9uZW50KTtcbiAgICBjb25zdCBzaWduYXR1cmVCdWZmZXIgPSBiYXNlNjR1cmxcbiAgICAgIC50b0J1ZmZlcihyb290VmFsdWVzLnNpZ25hdHVyZSlcbiAgICAgIC5zbGljZSgwLCA2NCk7XG4gICAgY29uc3Qga2V5QnVmZmVyID0gQnVmZmVyLmZyb20oZGVjb2RlZFB1YmxpY0tleSk7XG5cbiAgICBjb25zdCBpc1ZlcmlmaWVkID0gZWNkc2FWZXJpZnkoXG4gICAgICBzaWduYXR1cmVCdWZmZXIsXG4gICAgICBrZWNjYWsyNTZCdWYoc2lnbmVkQ29tcG9uZW50QnVmZmVyKSxcbiAgICAgIGtleUJ1ZmZlclxuICAgICk7XG5cbiAgICBhc3NlcnQoaXNWZXJpZmllZCwgJ1VuYWJsZSB0byB2ZXJpZnkgRU5SVHJlZSByb290IHNpZ25hdHVyZScpO1xuXG4gICAgcmV0dXJuIHJvb3RWYWx1ZXMuZVJvb3Q7XG4gIH1cblxuICBzdGF0aWMgcGFyc2VSb290VmFsdWVzKHR4dDogc3RyaW5nKTogRU5SUm9vdFZhbHVlcyB7XG4gICAgY29uc3QgbWF0Y2hlcyA9IHR4dC5tYXRjaChcbiAgICAgIC9eZW5ydHJlZS1yb290OnYxIGU9KFteIF0rKSBsPShbXiBdKykgc2VxPShcXGQrKSBzaWc9KFteIF0rKSQvXG4gICAgKTtcblxuICAgIGFzc2VydC5vayhBcnJheS5pc0FycmF5KG1hdGNoZXMpLCAnQ291bGQgbm90IHBhcnNlIEVOUlRyZWUgcm9vdCBlbnRyeScpO1xuXG4gICAgbWF0Y2hlcy5zaGlmdCgpOyAvLyBUaGUgZmlyc3QgZW50cnkgaXMgdGhlIGZ1bGwgbWF0Y2hcbiAgICBjb25zdCBbZVJvb3QsIGxSb290LCBzZXEsIHNpZ25hdHVyZV0gPSBtYXRjaGVzO1xuXG4gICAgYXNzZXJ0Lm9rKGVSb290LCBcIkNvdWxkIG5vdCBwYXJzZSAnZScgdmFsdWUgZnJvbSBFTlJUcmVlIHJvb3QgZW50cnlcIik7XG4gICAgYXNzZXJ0Lm9rKGxSb290LCBcIkNvdWxkIG5vdCBwYXJzZSAnbCcgdmFsdWUgZnJvbSBFTlJUcmVlIHJvb3QgZW50cnlcIik7XG4gICAgYXNzZXJ0Lm9rKHNlcSwgXCJDb3VsZCBub3QgcGFyc2UgJ3NlcScgdmFsdWUgZnJvbSBFTlJUcmVlIHJvb3QgZW50cnlcIik7XG4gICAgYXNzZXJ0Lm9rKHNpZ25hdHVyZSwgXCJDb3VsZCBub3QgcGFyc2UgJ3NpZycgdmFsdWUgZnJvbSBFTlJUcmVlIHJvb3QgZW50cnlcIik7XG5cbiAgICByZXR1cm4geyBlUm9vdCwgbFJvb3QsIHNlcTogTnVtYmVyKHNlcSksIHNpZ25hdHVyZSB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHB1YmxpYyBrZXkgYW5kIHRvcCBsZXZlbCBkb21haW4gb2YgYW4gRU5SIHRyZWUgZW50cnkuXG4gICAqIFRoZSBkb21haW4gaXMgdGhlIHN0YXJ0aW5nIHBvaW50IGZvciB0cmF2ZXJzaW5nIGEgc2V0IG9mIGxpbmtlZCBETlMgVFhUIHJlY29yZHNcbiAgICogYW5kIHRoZSBwdWJsaWMga2V5IGlzIHVzZWQgdG8gdmVyaWZ5IHRoZSByb290IGVudHJ5IHJlY29yZFxuICAgKi9cbiAgc3RhdGljIHBhcnNlVHJlZSh0cmVlOiBzdHJpbmcpOiBFTlJUcmVlVmFsdWVzIHtcbiAgICBhc3NlcnQoXG4gICAgICB0cmVlLnN0YXJ0c1dpdGgodGhpcy5UUkVFX1BSRUZJWCksXG4gICAgICBgRU5SVHJlZSB0cmVlIGVudHJ5IG11c3Qgc3RhcnQgd2l0aCAnJHt0aGlzLlRSRUVfUFJFRklYfSdgXG4gICAgKTtcblxuICAgIGNvbnN0IG1hdGNoZXMgPSB0cmVlLm1hdGNoKC9eZW5ydHJlZTpcXC9cXC8oW15AXSspQCguKykkLyk7XG5cbiAgICBhc3NlcnQub2soQXJyYXkuaXNBcnJheShtYXRjaGVzKSwgJ0NvdWxkIG5vdCBwYXJzZSBFTlJUcmVlIHRyZWUgZW50cnknKTtcblxuICAgIG1hdGNoZXMuc2hpZnQoKTsgLy8gVGhlIGZpcnN0IGVudHJ5IGlzIHRoZSBmdWxsIG1hdGNoXG4gICAgY29uc3QgW3B1YmxpY0tleSwgZG9tYWluXSA9IG1hdGNoZXM7XG5cbiAgICBhc3NlcnQub2socHVibGljS2V5LCAnQ291bGQgbm90IHBhcnNlIHB1YmxpYyBrZXkgZnJvbSBFTlJUcmVlIHRyZWUgZW50cnknKTtcbiAgICBhc3NlcnQub2soZG9tYWluLCAnQ291bGQgbm90IHBhcnNlIGRvbWFpbiBmcm9tIEVOUlRyZWUgdHJlZSBlbnRyeScpO1xuXG4gICAgcmV0dXJuIHsgcHVibGljS2V5LCBkb21haW4gfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHN1YmRvbWFpbnMgbGlzdGVkIGluIGFuIEVOUiBicmFuY2ggZW50cnkuIFRoZXNlIGluIHR1cm4gbGVhZCB0b1xuICAgKiBlaXRoZXIgZnVydGhlciBicmFuY2ggZW50cmllcyBvciBFTlIgcmVjb3Jkcy5cbiAgICovXG4gIHN0YXRpYyBwYXJzZUJyYW5jaChicmFuY2g6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICBhc3NlcnQoXG4gICAgICBicmFuY2guc3RhcnRzV2l0aCh0aGlzLkJSQU5DSF9QUkVGSVgpLFxuICAgICAgYEVOUlRyZWUgYnJhbmNoIGVudHJ5IG11c3Qgc3RhcnQgd2l0aCAnJHt0aGlzLkJSQU5DSF9QUkVGSVh9J2BcbiAgICApO1xuXG4gICAgcmV0dXJuIGJyYW5jaC5zcGxpdCh0aGlzLkJSQU5DSF9QUkVGSVgpWzFdLnNwbGl0KCcsJyk7XG4gIH1cbn1cbiIsIi8qKlxuICogR0VUIGxpc3Qgb2Ygbm9kZXMgZnJvbSByZW1vdGUgSFRUUCBob3N0LlxuICpcbiAqIERlZmF1bHQgYmVoYXZpb3IgaXMgdG8gcmV0dXJuIG5vZGVzIGhvc3RlZCBieSBTdGF0dXMuXG4gKlxuICogQHBhcmFtIHBhdGggVGhlIHByb3BlcnR5IHBhdGggdG8gYWNjZXNzIHRoZSBub2RlIGxpc3QuIFRoZSByZXN1bHQgc2hvdWxkIGJlXG4gKiBhIHN0cmluZywgYSBzdHJpbmcgYXJyYXkgb3IgYW4gb2JqZWN0LiBJZiB0aGUgcmVzdWx0IGlzIGFuIG9iamVjdCB0aGVuIHRoZVxuICogdmFsdWVzIG9mIHRoZSBvYmplY3RzIGFyZSB1c2VkIGFzIG11bHRpYWRkcmVzc2VzLiBGb3IgZXhhbXBsZSwgaWYgdGhlIEdFVFxuICogcmVxdWVzdCByZXR1cm5zIGB7IGZvbzogeyBiYXI6IFthZGRyZXNzMSwgYWRkcmVzczJdIH0gfWAgdGhlbiBgcGF0aGAgc2hvdWxkIGJlXG4gKiBgWyBcImZvb1wiLCBcImJhclwiIF1gLlxuICogQHBhcmFtIHVybCBSZW1vdGUgaG9zdCBjb250YWluaW5nIGJvb3RzdHJhcCBwZWVycyBpbiBKU09OIGZvcm1hdC5cbiAqIEBwYXJhbSB3YW50ZWROdW1iZXIgVGhlIG51bWJlciBvZiBjb25uZWN0aW9ucyBkZXNpcmVkLiBEZWZhdWx0cyB0byBbRGVmYXVsdFdhbnRlZE51bWJlcl0uXG4gKlxuICogQHJldHVybnMgQW4gYXJyYXkgb2YgbXVsdGlhZGRyZXNzZXMuXG4gKiBAdGhyb3dzIElmIHRoZSByZW1vdGUgaG9zdCBpcyB1bnJlYWNoYWJsZSBvciB0aGUgcmVzcG9uc2UgY2Fubm90IGJlIHBhcnNlZFxuICogYWNjb3JkaW5nIHRvIHRoZSBwYXNzZWQgX3BhdGhfLlxuICovXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IGRlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCB7IE11bHRpYWRkciB9IGZyb20gJ211bHRpYWRkcic7XG5cbmltcG9ydCB7IGdldFBzZXVkb1JhbmRvbVN1YnNldCB9IGZyb20gJy4vaW5kZXgnO1xuY29uc3QgZGJnID0gZGVidWcoJ3dha3U6ZGlzY292ZXJ5Jyk7XG5cbmNvbnN0IERlZmF1bHRXYW50ZWROdW1iZXIgPSAxO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Tm9kZXNGcm9tSG9zdGVkSnNvbihcbiAgcGF0aDogc3RyaW5nW10gPSBbJ2ZsZWV0cycsICd3YWt1djIucHJvZCcsICd3YWt1LXdlYnNvY2tldCddLFxuICB1cmwgPSAnaHR0cHM6Ly9mbGVldHMuc3RhdHVzLmltLycsXG4gIHdhbnRlZE51bWJlcjogbnVtYmVyID0gRGVmYXVsdFdhbnRlZE51bWJlclxuKTogUHJvbWlzZTxNdWx0aWFkZHJbXT4ge1xuICBpZiAod2FudGVkTnVtYmVyIDw9IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5nZXQodXJsLCB7XG4gICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gIH0pO1xuXG4gIGxldCBub2RlcyA9IHJlcy5kYXRhO1xuXG4gIGZvciAoY29uc3QgcHJvcCBvZiBwYXRoKSB7XG4gICAgaWYgKG5vZGVzW3Byb3BdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRiZyhcbiAgICAgICAgYEZhaWxlZCB0byByZXRyaWV2ZSBib290c3RyYXAgbm9kZXM6ICR7cHJvcH0gZG9lcyBub3QgZXhpc3Qgb24gYCxcbiAgICAgICAgbm9kZXNcbiAgICAgICk7XG4gICAgICB0aHJvdyBgRmFpbGVkIHRvIHJldHJpZXZlIGJvb3RzdHJhcCBub2RlczogJHtwcm9wfSBkb2VzIG5vdCBleGlzdCBvbiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICBub2Rlc1xuICAgICAgKX1gO1xuICAgIH1cbiAgICBub2RlcyA9IG5vZGVzW3Byb3BdO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkobm9kZXMpKSB7XG4gICAgcmV0dXJuIGdldFBzZXVkb1JhbmRvbVN1YnNldChub2Rlcywgd2FudGVkTnVtYmVyKS5tYXAoXG4gICAgICAobm9kZTogc3RyaW5nKSA9PiBuZXcgTXVsdGlhZGRyKG5vZGUpXG4gICAgKTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygbm9kZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIFtuZXcgTXVsdGlhZGRyKG5vZGVzKV07XG4gIH1cblxuICBpZiAodHlwZW9mIG5vZGVzID09PSAnb2JqZWN0Jykge1xuICAgIG5vZGVzID0gT2JqZWN0LnZhbHVlcyhub2RlcykgYXMgc3RyaW5nW107XG4gICAgbm9kZXMgPSBub2Rlcy5tYXAoKG5vZGU6IHN0cmluZykgPT4gbmV3IE11bHRpYWRkcihub2RlKSk7XG4gICAgcmV0dXJuIGdldFBzZXVkb1JhbmRvbVN1YnNldChub2Rlcywgd2FudGVkTnVtYmVyKTtcbiAgfVxuXG4gIHRocm93IGBGYWlsZWQgdG8gcmV0cmlldmUgYm9vdHN0cmFwIG5vZGVzOiByZXNwb25zZSBmb3JtYXQgaXMgbm90IHN1cHBvcnRlZDogJHtKU09OLnN0cmluZ2lmeShcbiAgICBub2Rlc1xuICApfWA7XG59XG4iLCJpbXBvcnQgeyBzaHVmZmxlIH0gZnJvbSAnbGlicDJwLWdvc3NpcHN1Yi9zcmMvdXRpbHMnO1xuXG5leHBvcnQgeyBnZXROb2Rlc0Zyb21Ib3N0ZWRKc29uIH0gZnJvbSAnLi9ob3N0ZWRfanNvbic7XG5leHBvcnQgeyBCb290c3RyYXAsIEJvb3RzdHJhcE9wdGlvbnMgfSBmcm9tICcuL2Jvb3RzdHJhcCc7XG5leHBvcnQgeyBEbnNDbGllbnQsIERuc05vZGVEaXNjb3ZlcnksIFNlYXJjaENvbnRleHQgfSBmcm9tICcuL2Rucyc7XG5leHBvcnQgeyBFbmRwb2ludHMsIERuc092ZXJIdHRwcyB9IGZyb20gJy4vZG5zX292ZXJfaHR0cHMnO1xuZXhwb3J0IHsgRU5SVHJlZSwgRU5SVHJlZVZhbHVlcywgRU5SUm9vdFZhbHVlcyB9IGZyb20gJy4vZW5ydHJlZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQc2V1ZG9SYW5kb21TdWJzZXQ8VD4oXG4gIHZhbHVlczogVFtdLFxuICB3YW50ZWROdW1iZXI6IG51bWJlclxuKTogVFtdIHtcbiAgaWYgKHZhbHVlcy5sZW5ndGggPD0gd2FudGVkTnVtYmVyKSB7XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfVxuXG4gIHJldHVybiBzaHVmZmxlKHZhbHVlcykuc2xpY2UoMCwgd2FudGVkTnVtYmVyKTtcbn1cbiIsIi8vIE1heGltdW0gZW5jb2RlZCBzaXplIG9mIGFuIEVOUlxuZXhwb3J0IGNvbnN0IE1BWF9SRUNPUkRfU0laRSA9IDMwMDtcblxuZXhwb3J0IGNvbnN0IEVSUl9JTlZBTElEX0lEID0gJ0ludmFsaWQgcmVjb3JkIGlkJztcblxuZXhwb3J0IGNvbnN0IEVSUl9OT19TSUdOQVRVUkUgPSAnTm8gdmFsaWQgc2lnbmF0dXJlIGZvdW5kJztcblxuLy8gVGhlIG1heGltdW0gbGVuZ3RoIG9mIGJ5dGUgc2l6ZSBvZiBhIG11bHRpYWRkciB0byBlbmNvZGUgaW4gdGhlIGBtdWx0aWFkZHJgIGZpZWxkXG4vLyBUaGUgc2l6ZSBpcyBhIGJpZyBlbmRpYW4gMTYtYml0IHVuc2lnbmVkIGludGVnZXJcbmV4cG9ydCBjb25zdCBNVUxUSUFERFJfTEVOR1RIX1NJWkUgPSAyO1xuIiwiaW1wb3J0IHsgYnVmVG9IZXggfSBmcm9tICcuLi91dGlscyc7XG5cbmltcG9ydCB7IE5vZGVJZCB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTm9kZUlkKGJ1ZmZlcjogQnVmZmVyKTogTm9kZUlkIHtcbiAgaWYgKGJ1ZmZlci5sZW5ndGggIT09IDMyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb2RlSWQgbXVzdCBiZSAzMiBieXRlcyBpbiBsZW5ndGgnKTtcbiAgfVxuICByZXR1cm4gYnVmVG9IZXgoYnVmZmVyKTtcbn1cbiIsImltcG9ydCBiYXNlNjR1cmwgZnJvbSAnYmFzZTY0dXJsJztcbmltcG9ydCB7IHRvQmlnSW50QkUgfSBmcm9tICdiaWdpbnQtYnVmZmVyJztcbmltcG9ydCB7IE11bHRpYWRkciwgcHJvdG9jb2xzIH0gZnJvbSAnbXVsdGlhZGRyJztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbi8vIEB0cy1pZ25vcmU6IE5vIHR5cGVzIGF2YWlsYWJsZVxuaW1wb3J0IG11Q29udmVydCBmcm9tICdtdWx0aWFkZHIvc3JjL2NvbnZlcnQnO1xuaW1wb3J0IFBlZXJJZCBmcm9tICdwZWVyLWlkJztcbmltcG9ydCAqIGFzIFJMUCBmcm9tICdybHAnO1xuaW1wb3J0IHsgZW5jb2RlIGFzIHZhcmludEVuY29kZSB9IGZyb20gJ3ZhcmludCc7XG5cbmltcG9ydCB7XG4gIEVSUl9JTlZBTElEX0lELFxuICBFUlJfTk9fU0lHTkFUVVJFLFxuICBNQVhfUkVDT1JEX1NJWkUsXG4gIE1VTFRJQUREUl9MRU5HVEhfU0laRSxcbn0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlS2V5cGFpcixcbiAgY3JlYXRlS2V5cGFpckZyb21QZWVySWQsXG4gIGNyZWF0ZVBlZXJJZEZyb21LZXlwYWlyLFxuICBJS2V5cGFpcixcbiAgS2V5cGFpclR5cGUsXG59IGZyb20gJy4va2V5cGFpcic7XG5pbXBvcnQgeyBFTlJLZXksIEVOUlZhbHVlLCBOb2RlSWQsIFNlcXVlbmNlTnVtYmVyIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgKiBhcyB2NCBmcm9tICcuL3Y0JztcblxuZXhwb3J0IGNsYXNzIEVOUiBleHRlbmRzIE1hcDxFTlJLZXksIEVOUlZhbHVlPiB7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgUkVDT1JEX1BSRUZJWCA9ICdlbnI6JztcbiAgcHVibGljIHNlcTogU2VxdWVuY2VOdW1iZXI7XG4gIHB1YmxpYyBzaWduYXR1cmU6IEJ1ZmZlciB8IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAga3ZzOiBSZWNvcmQ8RU5SS2V5LCBFTlJWYWx1ZT4gPSB7fSxcbiAgICBzZXE6IFNlcXVlbmNlTnVtYmVyID0gMW4sXG4gICAgc2lnbmF0dXJlOiBCdWZmZXIgfCBudWxsID0gbnVsbFxuICApIHtcbiAgICBzdXBlcihPYmplY3QuZW50cmllcyhrdnMpKTtcbiAgICB0aGlzLnNlcSA9IHNlcTtcbiAgICB0aGlzLnNpZ25hdHVyZSA9IHNpZ25hdHVyZTtcbiAgfVxuXG4gIHN0YXRpYyBjcmVhdGVWNChwdWJsaWNLZXk6IEJ1ZmZlciwga3ZzOiBSZWNvcmQ8RU5SS2V5LCBFTlJWYWx1ZT4gPSB7fSk6IEVOUiB7XG4gICAgcmV0dXJuIG5ldyBFTlIoe1xuICAgICAgLi4ua3ZzLFxuICAgICAgaWQ6IEJ1ZmZlci5mcm9tKCd2NCcpLFxuICAgICAgc2VjcDI1NmsxOiBwdWJsaWNLZXksXG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlRnJvbVBlZXJJZChcbiAgICBwZWVySWQ6IFBlZXJJZCxcbiAgICBrdnM6IFJlY29yZDxFTlJLZXksIEVOUlZhbHVlPiA9IHt9XG4gICk6IEVOUiB7XG4gICAgY29uc3Qga2V5cGFpciA9IGNyZWF0ZUtleXBhaXJGcm9tUGVlcklkKHBlZXJJZCk7XG4gICAgc3dpdGNoIChrZXlwYWlyLnR5cGUpIHtcbiAgICAgIGNhc2UgS2V5cGFpclR5cGUuc2VjcDI1NmsxOlxuICAgICAgICByZXR1cm4gRU5SLmNyZWF0ZVY0KGtleXBhaXIucHVibGljS2V5LCBrdnMpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGRlY29kZUZyb21WYWx1ZXMoZGVjb2RlZDogQnVmZmVyW10pOiBFTlIge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkZWNvZGVkKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWNvZGVkIEVOUiBtdXN0IGJlIGFuIGFycmF5Jyk7XG4gICAgfVxuICAgIGlmIChkZWNvZGVkLmxlbmd0aCAlIDIgIT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRGVjb2RlZCBFTlIgbXVzdCBoYXZlIGFuIGV2ZW4gbnVtYmVyIG9mIGVsZW1lbnRzJyk7XG4gICAgfVxuICAgIGNvbnN0IFtzaWduYXR1cmUsIHNlcSwgLi4ua3ZzXSA9IGRlY29kZWQ7XG4gICAgaWYgKCFzaWduYXR1cmUgfHwgQXJyYXkuaXNBcnJheShzaWduYXR1cmUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlY29kZWQgRU5SIGludmFsaWQgc2lnbmF0dXJlOiBtdXN0IGJlIGEgYnl0ZSBhcnJheScpO1xuICAgIH1cbiAgICBpZiAoIXNlcSB8fCBBcnJheS5pc0FycmF5KHNlcSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0RlY29kZWQgRU5SIGludmFsaWQgc2VxdWVuY2UgbnVtYmVyOiBtdXN0IGJlIGEgYnl0ZSBhcnJheSdcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IG9iajogUmVjb3JkPEVOUktleSwgRU5SVmFsdWU+ID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrdnMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIG9ialtrdnNbaV0udG9TdHJpbmcoKV0gPSBCdWZmZXIuZnJvbShrdnNbaSArIDFdKTtcbiAgICB9XG4gICAgY29uc3QgZW5yID0gbmV3IEVOUihvYmosIHRvQmlnSW50QkUoc2VxKSwgc2lnbmF0dXJlKTtcblxuICAgIGlmICghZW5yLnZlcmlmeShSTFAuZW5jb2RlKFtzZXEsIC4uLmt2c10pLCBzaWduYXR1cmUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byB2ZXJpZnkgRU5SIHNpZ25hdHVyZScpO1xuICAgIH1cbiAgICByZXR1cm4gZW5yO1xuICB9XG5cbiAgc3RhdGljIGRlY29kZShlbmNvZGVkOiBCdWZmZXIpOiBFTlIge1xuICAgIGNvbnN0IGRlY29kZWQgPSBSTFAuZGVjb2RlKGVuY29kZWQpIGFzIHVua25vd24gYXMgQnVmZmVyW107XG4gICAgcmV0dXJuIEVOUi5kZWNvZGVGcm9tVmFsdWVzKGRlY29kZWQpO1xuICB9XG5cbiAgc3RhdGljIGRlY29kZVR4dChlbmNvZGVkOiBzdHJpbmcpOiBFTlIge1xuICAgIGlmICghZW5jb2RlZC5zdGFydHNXaXRoKHRoaXMuUkVDT1JEX1BSRUZJWCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFwic3RyaW5nIGVuY29kZWQgRU5SIG11c3Qgc3RhcnQgd2l0aCAnJHt0aGlzLlJFQ09SRF9QUkVGSVh9J2BcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBFTlIuZGVjb2RlKGJhc2U2NHVybC50b0J1ZmZlcihlbmNvZGVkLnNsaWNlKDQpKSk7XG4gIH1cblxuICBzZXQoazogRU5SS2V5LCB2OiBFTlJWYWx1ZSk6IHRoaXMge1xuICAgIHRoaXMuc2lnbmF0dXJlID0gbnVsbDtcbiAgICB0aGlzLnNlcSsrO1xuICAgIHJldHVybiBzdXBlci5zZXQoaywgdik7XG4gIH1cblxuICBnZXQgaWQoKTogc3RyaW5nIHtcbiAgICBjb25zdCBpZCA9IHRoaXMuZ2V0KCdpZCcpIGFzIEJ1ZmZlcjtcbiAgICBpZiAoIWlkKSB0aHJvdyBuZXcgRXJyb3IoJ2lkIG5vdCBmb3VuZC4nKTtcbiAgICByZXR1cm4gaWQudG9TdHJpbmcoJ3V0ZjgnKTtcbiAgfVxuXG4gIGdldCBrZXlwYWlyVHlwZSgpOiBLZXlwYWlyVHlwZSB7XG4gICAgc3dpdGNoICh0aGlzLmlkKSB7XG4gICAgICBjYXNlICd2NCc6XG4gICAgICAgIHJldHVybiBLZXlwYWlyVHlwZS5zZWNwMjU2azE7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJSX0lOVkFMSURfSUQpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBwdWJsaWNLZXkoKTogQnVmZmVyIHtcbiAgICBzd2l0Y2ggKHRoaXMuaWQpIHtcbiAgICAgIGNhc2UgJ3Y0JzpcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdzZWNwMjU2azEnKSBhcyBCdWZmZXI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJSX0lOVkFMSURfSUQpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBrZXlwYWlyKCk6IElLZXlwYWlyIHtcbiAgICByZXR1cm4gY3JlYXRlS2V5cGFpcih0aGlzLmtleXBhaXJUeXBlLCB1bmRlZmluZWQsIHRoaXMucHVibGljS2V5KTtcbiAgfVxuXG4gIGdldCBwZWVySWQoKTogUGVlcklkIHtcbiAgICByZXR1cm4gY3JlYXRlUGVlcklkRnJvbUtleXBhaXIodGhpcy5rZXlwYWlyKTtcbiAgfVxuXG4gIGdldCBub2RlSWQoKTogTm9kZUlkIHtcbiAgICBzd2l0Y2ggKHRoaXMuaWQpIHtcbiAgICAgIGNhc2UgJ3Y0JzpcbiAgICAgICAgcmV0dXJuIHY0Lm5vZGVJZCh0aGlzLnB1YmxpY0tleSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoRVJSX0lOVkFMSURfSUQpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBpcCgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHJhdyA9IHRoaXMuZ2V0KCdpcCcpO1xuICAgIGlmIChyYXcpIHtcbiAgICAgIHJldHVybiBtdUNvbnZlcnQudG9TdHJpbmcocHJvdG9jb2xzLm5hbWVzLmlwNC5jb2RlLCByYXcpIGFzIHN0cmluZztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBzZXQgaXAoaXA6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuICAgIGlmIChpcCkge1xuICAgICAgdGhpcy5zZXQoJ2lwJywgbXVDb252ZXJ0LnRvQnl0ZXMocHJvdG9jb2xzLm5hbWVzLmlwNC5jb2RlLCBpcCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlbGV0ZSgnaXAnKTtcbiAgICB9XG4gIH1cblxuICBnZXQgdGNwKCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgcmF3ID0gdGhpcy5nZXQoJ3RjcCcpO1xuICAgIGlmIChyYXcpIHtcbiAgICAgIHJldHVybiBOdW1iZXIobXVDb252ZXJ0LnRvU3RyaW5nKHByb3RvY29scy5uYW1lcy50Y3AuY29kZSwgcmF3KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgc2V0IHRjcChwb3J0OiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICBpZiAocG9ydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmRlbGV0ZSgndGNwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0KCd0Y3AnLCBtdUNvbnZlcnQudG9CeXRlcyhwcm90b2NvbHMubmFtZXMudGNwLmNvZGUsIHBvcnQpKTtcbiAgICB9XG4gIH1cblxuICBnZXQgdWRwKCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgcmF3ID0gdGhpcy5nZXQoJ3VkcCcpO1xuICAgIGlmIChyYXcpIHtcbiAgICAgIHJldHVybiBOdW1iZXIobXVDb252ZXJ0LnRvU3RyaW5nKHByb3RvY29scy5uYW1lcy51ZHAuY29kZSwgcmF3KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgc2V0IHVkcChwb3J0OiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICBpZiAocG9ydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmRlbGV0ZSgndWRwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0KCd1ZHAnLCBtdUNvbnZlcnQudG9CeXRlcyhwcm90b2NvbHMubmFtZXMudWRwLmNvZGUsIHBvcnQpKTtcbiAgICB9XG4gIH1cblxuICBnZXQgaXA2KCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgcmF3ID0gdGhpcy5nZXQoJ2lwNicpO1xuICAgIGlmIChyYXcpIHtcbiAgICAgIHJldHVybiBtdUNvbnZlcnQudG9TdHJpbmcocHJvdG9jb2xzLm5hbWVzLmlwNi5jb2RlLCByYXcpIGFzIHN0cmluZztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBzZXQgaXA2KGlwOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICBpZiAoaXApIHtcbiAgICAgIHRoaXMuc2V0KCdpcDYnLCBtdUNvbnZlcnQudG9CeXRlcyhwcm90b2NvbHMubmFtZXMuaXA2LmNvZGUsIGlwKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVsZXRlKCdpcDYnKTtcbiAgICB9XG4gIH1cblxuICBnZXQgdGNwNigpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHJhdyA9IHRoaXMuZ2V0KCd0Y3A2Jyk7XG4gICAgaWYgKHJhdykge1xuICAgICAgcmV0dXJuIE51bWJlcihtdUNvbnZlcnQudG9TdHJpbmcocHJvdG9jb2xzLm5hbWVzLnRjcC5jb2RlLCByYXcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBzZXQgdGNwNihwb3J0OiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICBpZiAocG9ydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmRlbGV0ZSgndGNwNicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldCgndGNwNicsIG11Q29udmVydC50b0J5dGVzKHByb3RvY29scy5uYW1lcy50Y3AuY29kZSwgcG9ydCkpO1xuICAgIH1cbiAgfVxuXG4gIGdldCB1ZHA2KCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgcmF3ID0gdGhpcy5nZXQoJ3VkcDYnKTtcbiAgICBpZiAocmF3KSB7XG4gICAgICByZXR1cm4gTnVtYmVyKG11Q29udmVydC50b1N0cmluZyhwcm90b2NvbHMubmFtZXMudWRwLmNvZGUsIHJhdykpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHNldCB1ZHA2KHBvcnQ6IG51bWJlciB8IHVuZGVmaW5lZCkge1xuICAgIGlmIChwb3J0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuZGVsZXRlKCd1ZHA2Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0KCd1ZHA2JywgbXVDb252ZXJ0LnRvQnl0ZXMocHJvdG9jb2xzLm5hbWVzLnVkcC5jb2RlLCBwb3J0KSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYG11bHRpYWRkcnNgIGZpZWxkIGZyb20gRU5SLlxuICAgKlxuICAgKiBUaGlzIGZpZWxkIGlzIHVzZWQgdG8gc3RvcmUgbXVsdGlhZGRyZXNzZXMgdGhhdCBjYW5ub3QgYmUgc3RvcmVkIHdpdGggdGhlIGN1cnJlbnQgRU5SIHByZS1kZWZpbmVkIGtleXMuXG4gICAqIFRoZXNlIGNhbiBiZSBhIG11bHRpYWRkcmVzc2VzIHRoYXQgaW5jbHVkZSBlbmNhcHN1bGF0aW9uIChlLmcuIHdzcykgb3IgZG8gbm90IHVzZSBgaXA0YCBub3IgYGlwNmAgZm9yIHRoZSBob3N0XG4gICAqIGFkZHJlc3MgKGUuZy4gYGRuczRgLCBgZG5zYWRkcmAsIGV0YykuLlxuICAgKlxuICAgKiBJZiB0aGUgcGVlciBpbmZvcm1hdGlvbiBvbmx5IGNvbnRhaW5zIGluZm9ybWF0aW9uIHRoYXQgY2FuIGJlIHJlcHJlc2VudGVkIHdpdGggdGhlIEVOUiBwcmUtZGVmaW5lZCBrZXlzXG4gICAqIChpcCwgdGNwLCBldGMpIHRoZW4gdGhlIHVzYWdlIG9mIFtbZ2V0TG9jYXRpb25NdWx0aWFkZHJdXSBzaG91bGQgYmUgcHJlZmVycmVkLlxuICAgKlxuICAgKiBUaGUgbXVsdGlhZGRyZXNzZXMgc3RvcmVkIGluIHRoaXMgZmllbGQgYXJlIGV4cGVjdGVkIHRvIGJlIGxvY2F0aW9uIG11bHRpYWRkcmVzc2VzLCBpZSwgcGVlciBpZCBsZXNzLlxuICAgKi9cbiAgZ2V0IG11bHRpYWRkcnMoKTogTXVsdGlhZGRyW10gfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHJhdyA9IHRoaXMuZ2V0KCdtdWx0aWFkZHJzJyk7XG5cbiAgICBpZiAocmF3KSB7XG4gICAgICBjb25zdCBtdWx0aWFkZHJzID0gW107XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4IDwgcmF3Lmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IHNpemVCeXRlcyA9IHJhdy5zbGljZShpbmRleCwgaW5kZXggKyAyKTtcbiAgICAgICAgICBjb25zdCBzaXplID0gQnVmZmVyLmZyb20oc2l6ZUJ5dGVzKS5yZWFkVUludDE2QkUoMCk7XG5cbiAgICAgICAgICBjb25zdCBtdWx0aWFkZHJCeXRlcyA9IHJhdy5zbGljZShcbiAgICAgICAgICAgIGluZGV4ICsgTVVMVElBRERSX0xFTkdUSF9TSVpFLFxuICAgICAgICAgICAgaW5kZXggKyBzaXplICsgTVVMVElBRERSX0xFTkdUSF9TSVpFXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBtdWx0aWFkZHIgPSBuZXcgTXVsdGlhZGRyKG11bHRpYWRkckJ5dGVzKTtcblxuICAgICAgICAgIG11bHRpYWRkcnMucHVzaChtdWx0aWFkZHIpO1xuICAgICAgICAgIGluZGV4ICs9IHNpemUgKyBNVUxUSUFERFJfTEVOR1RIX1NJWkU7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIGluIG11bHRpYWRkcnMgZmllbGQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtdWx0aWFkZHJzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGBtdWx0aWFkZHJzYCBmaWVsZCBvbiB0aGUgRU5SLlxuICAgKlxuICAgKiBUaGlzIGZpZWxkIGlzIHVzZWQgdG8gc3RvcmUgbXVsdGlhZGRyZXNzZXMgdGhhdCBjYW5ub3QgYmUgc3RvcmVkIHdpdGggdGhlIGN1cnJlbnQgRU5SIHByZS1kZWZpbmVkIGtleXMuXG4gICAqIFRoZXNlIGNhbiBiZSBhIG11bHRpYWRkcmVzc2VzIHRoYXQgaW5jbHVkZSBlbmNhcHN1bGF0aW9uIChlLmcuIHdzcykgb3IgZG8gbm90IHVzZSBgaXA0YCBub3IgYGlwNmAgZm9yIHRoZSBob3N0XG4gICAqIGFkZHJlc3MgKGUuZy4gYGRuczRgLCBgZG5zYWRkcmAsIGV0YykuLlxuICAgKlxuICAgKiBJZiB0aGUgcGVlciBpbmZvcm1hdGlvbiBvbmx5IGNvbnRhaW5zIGluZm9ybWF0aW9uIHRoYXQgY2FuIGJlIHJlcHJlc2VudGVkIHdpdGggdGhlIEVOUiBwcmUtZGVmaW5lZCBrZXlzXG4gICAqIChpcCwgdGNwLCBldGMpIHRoZW4gdGhlIHVzYWdlIG9mIFtbc2V0TG9jYXRpb25NdWx0aWFkZHJdXSBzaG91bGQgYmUgcHJlZmVycmVkLlxuICAgKlxuICAgKiBUaGUgbXVsdGlhZGRyZXNzZXMgc3RvcmVkIGluIHRoaXMgZmllbGQgbXVzdCB0byBiZSBsb2NhdGlvbiBtdWx0aWFkZHJlc3NlcywgaWUsIHBlZXIgaWQgbGVzcy5cbiAgICovXG4gIHNldCBtdWx0aWFkZHJzKG11bHRpYWRkcnM6IE11bHRpYWRkcltdIHwgdW5kZWZpbmVkKSB7XG4gICAgaWYgKG11bHRpYWRkcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5kZWxldGUoJ211bHRpYWRkcnMnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG11bHRpYWRkcnNCdWYgPSBCdWZmZXIuZnJvbShbXSk7XG5cbiAgICAgIG11bHRpYWRkcnMuZm9yRWFjaCgobXVsdGlhZGRyKSA9PiB7XG4gICAgICAgIGlmIChtdWx0aWFkZHIuZ2V0UGVlcklkKCkpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdgbXVsdGlhZGRyYCBmaWVsZCBNVVNUIG5vdCBjb250YWluIHBlZXIgaWQnKTtcblxuICAgICAgICBjb25zdCBieXRlcyA9IG11bHRpYWRkci5ieXRlcztcblxuICAgICAgICBsZXQgYnVmID0gQnVmZmVyLmFsbG9jKDIpO1xuXG4gICAgICAgIC8vIFByZXBlbmQgdGhlIHNpemUgb2YgdGhlIG5leHQgZW50cnlcbiAgICAgICAgY29uc3Qgd3JpdHRlbiA9IGJ1Zi53cml0ZVVJbnQxNkJFKGJ5dGVzLmxlbmd0aCwgMCk7XG5cbiAgICAgICAgaWYgKHdyaXR0ZW4gIT09IE1VTFRJQUREUl9MRU5HVEhfU0laRSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBJbnRlcm5hbCBlcnJvcjogdW5zaWduZWQgMTYtYml0IGludGVnZXIgd2FzIG5vdCB3cml0dGVuIGluICR7TVVMVElBRERSX0xFTkdUSF9TSVpFfSBieXRlc2BcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgYnVmID0gQnVmZmVyLmNvbmNhdChbYnVmLCBieXRlc10pO1xuXG4gICAgICAgIG11bHRpYWRkcnNCdWYgPSBCdWZmZXIuY29uY2F0KFttdWx0aWFkZHJzQnVmLCBidWZdKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNldCgnbXVsdGlhZGRycycsIG11bHRpYWRkcnNCdWYpO1xuICAgIH1cbiAgfVxuXG4gIGdldExvY2F0aW9uTXVsdGlhZGRyKFxuICAgIHByb3RvY29sOiAndWRwJyB8ICd1ZHA0JyB8ICd1ZHA2JyB8ICd0Y3AnIHwgJ3RjcDQnIHwgJ3RjcDYnXG4gICk6IE11bHRpYWRkciB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHByb3RvY29sID09PSAndWRwJykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5nZXRMb2NhdGlvbk11bHRpYWRkcigndWRwNCcpIHx8IHRoaXMuZ2V0TG9jYXRpb25NdWx0aWFkZHIoJ3VkcDYnKVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHByb3RvY29sID09PSAndGNwJykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5nZXRMb2NhdGlvbk11bHRpYWRkcigndGNwNCcpIHx8IHRoaXMuZ2V0TG9jYXRpb25NdWx0aWFkZHIoJ3RjcDYnKVxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgaXNJcHY2ID0gcHJvdG9jb2wuZW5kc1dpdGgoJzYnKTtcbiAgICBjb25zdCBpcFZhbCA9IHRoaXMuZ2V0KGlzSXB2NiA/ICdpcDYnIDogJ2lwJyk7XG4gICAgaWYgKCFpcFZhbCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCBpc1VkcCA9IHByb3RvY29sLnN0YXJ0c1dpdGgoJ3VkcCcpO1xuICAgIGNvbnN0IGlzVGNwID0gcHJvdG9jb2wuc3RhcnRzV2l0aCgndGNwJyk7XG4gICAgbGV0IHByb3RvTmFtZSwgcHJvdG9WYWw7XG4gICAgaWYgKGlzVWRwKSB7XG4gICAgICBwcm90b05hbWUgPSAndWRwJztcbiAgICAgIHByb3RvVmFsID0gaXNJcHY2ID8gdGhpcy5nZXQoJ3VkcDYnKSA6IHRoaXMuZ2V0KCd1ZHAnKTtcbiAgICB9IGVsc2UgaWYgKGlzVGNwKSB7XG4gICAgICBwcm90b05hbWUgPSAndGNwJztcbiAgICAgIHByb3RvVmFsID0gaXNJcHY2ID8gdGhpcy5nZXQoJ3RjcDYnKSA6IHRoaXMuZ2V0KCd0Y3AnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKCFwcm90b1ZhbCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcmF3IG11bHRpYWRkciBidWZmZXJcbiAgICAvLyBtdWx0aWFkZHIgbGVuZ3RoIGlzOlxuICAgIC8vICAxIGJ5dGUgZm9yIHRoZSBpcCBwcm90b2NvbCAoaXA0IG9yIGlwNilcbiAgICAvLyAgTiBieXRlcyBmb3IgdGhlIGlwIGFkZHJlc3NcbiAgICAvLyAgMSBvciAyIGJ5dGVzIGZvciB0aGUgcHJvdG9jb2wgYXMgYnVmZmVyICh0Y3Agb3IgdWRwKVxuICAgIC8vICAyIGJ5dGVzIGZvciB0aGUgcG9ydFxuICAgIGNvbnN0IGlwTWEgPSBwcm90b2NvbHMubmFtZXNbaXNJcHY2ID8gJ2lwNicgOiAnaXA0J107XG4gICAgY29uc3QgaXBCeXRlTGVuID0gaXBNYS5zaXplIC8gODtcbiAgICBjb25zdCBwcm90b01hID0gcHJvdG9jb2xzLm5hbWVzW3Byb3RvTmFtZV07XG4gICAgY29uc3QgcHJvdG9CdWYgPSB2YXJpbnRFbmNvZGUocHJvdG9NYS5jb2RlKTtcbiAgICBjb25zdCBtYUJ1ZiA9IG5ldyBVaW50OEFycmF5KDMgKyBpcEJ5dGVMZW4gKyBwcm90b0J1Zi5sZW5ndGgpO1xuICAgIG1hQnVmWzBdID0gaXBNYS5jb2RlO1xuICAgIG1hQnVmLnNldChpcFZhbCwgMSk7XG4gICAgbWFCdWYuc2V0KHByb3RvQnVmLCAxICsgaXBCeXRlTGVuKTtcbiAgICBtYUJ1Zi5zZXQocHJvdG9WYWwsIDEgKyBpcEJ5dGVMZW4gKyBwcm90b0J1Zi5sZW5ndGgpO1xuXG4gICAgcmV0dXJuIG5ldyBNdWx0aWFkZHIobWFCdWYpO1xuICB9XG5cbiAgc2V0TG9jYXRpb25NdWx0aWFkZHIobXVsdGlhZGRyOiBNdWx0aWFkZHIpOiB2b2lkIHtcbiAgICBjb25zdCBwcm90b05hbWVzID0gbXVsdGlhZGRyLnByb3RvTmFtZXMoKTtcbiAgICBpZiAoXG4gICAgICBwcm90b05hbWVzLmxlbmd0aCAhPT0gMiAmJlxuICAgICAgcHJvdG9OYW1lc1sxXSAhPT0gJ3VkcCcgJiZcbiAgICAgIHByb3RvTmFtZXNbMV0gIT09ICd0Y3AnXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbXVsdGlhZGRyJyk7XG4gICAgfVxuICAgIGNvbnN0IHR1cGxlcyA9IG11bHRpYWRkci50dXBsZXMoKTtcbiAgICBpZiAoIXR1cGxlc1swXVsxXSB8fCAhdHVwbGVzWzFdWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbXVsdGlhZGRyJyk7XG4gICAgfVxuXG4gICAgLy8gSVB2NFxuICAgIGlmICh0dXBsZXNbMF1bMF0gPT09IDQpIHtcbiAgICAgIHRoaXMuc2V0KCdpcCcsIHR1cGxlc1swXVsxXSk7XG4gICAgICB0aGlzLnNldChwcm90b05hbWVzWzFdLCB0dXBsZXNbMV1bMV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldCgnaXA2JywgdHVwbGVzWzBdWzFdKTtcbiAgICAgIHRoaXMuc2V0KHByb3RvTmFtZXNbMV0gKyAnNicsIHR1cGxlc1sxXVsxXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGZ1bGwgbXVsdGlhZGRyIGZyb20gdGhlIEVOUiBmaWVsZHMgbWF0Y2hpbmcgdGhlIHByb3ZpZGVkXG4gICAqIGBwcm90b2NvbGAgcGFyYW1ldGVyLlxuICAgKiBUbyByZXR1cm4gZnVsbCBtdWx0aWFkZHJzIGZyb20gdGhlIGBtdWx0aWFkZHJzYCBFTlIgZmllbGQsXG4gICAqIHVzZSBbW0VOUi5nZXRGdWxsTXVsdGlhZGRyc11dXG4gICAqXG4gICAqIEBwYXJhbSBwcm90b2NvbFxuICAgKi9cbiAgZ2V0RnVsbE11bHRpYWRkcihcbiAgICBwcm90b2NvbDogJ3VkcCcgfCAndWRwNCcgfCAndWRwNicgfCAndGNwJyB8ICd0Y3A0JyB8ICd0Y3A2J1xuICApOiBNdWx0aWFkZHIgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGxvY2F0aW9uTXVsdGlhZGRyID0gdGhpcy5nZXRMb2NhdGlvbk11bHRpYWRkcihwcm90b2NvbCk7XG4gICAgaWYgKGxvY2F0aW9uTXVsdGlhZGRyKSB7XG4gICAgICByZXR1cm4gbG9jYXRpb25NdWx0aWFkZHIuZW5jYXBzdWxhdGUoYC9wMnAvJHt0aGlzLnBlZXJJZC50b0I1OFN0cmluZygpfWApO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZnVsbCBtdWx0aWFkZHJzIGZyb20gdGhlIGBtdWx0aWFkZHJzYCBFTlIgZmllbGQuXG4gICAqL1xuICBnZXRGdWxsTXVsdGlhZGRycygpOiBNdWx0aWFkZHJbXSB7XG4gICAgaWYgKHRoaXMubXVsdGlhZGRycykge1xuICAgICAgcmV0dXJuIHRoaXMubXVsdGlhZGRycy5tYXAoKG1hKSA9PiB7XG4gICAgICAgIHJldHVybiBtYS5lbmNhcHN1bGF0ZShgL3AycC8ke3RoaXMucGVlcklkLnRvQjU4U3RyaW5nKCl9YCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgdmVyaWZ5KGRhdGE6IEJ1ZmZlciwgc2lnbmF0dXJlOiBCdWZmZXIpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuZ2V0KCdpZCcpIHx8IHRoaXMuaWQgIT09ICd2NCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihFUlJfSU5WQUxJRF9JRCk7XG4gICAgfVxuICAgIGlmICghdGhpcy5wdWJsaWNLZXkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHZlcmlmeSBFTlI6IE5vIHB1YmxpYyBrZXknKTtcbiAgICB9XG4gICAgcmV0dXJuIHY0LnZlcmlmeSh0aGlzLnB1YmxpY0tleSwgZGF0YSwgc2lnbmF0dXJlKTtcbiAgfVxuXG4gIHNpZ24oZGF0YTogQnVmZmVyLCBwcml2YXRlS2V5OiBCdWZmZXIpOiBCdWZmZXIge1xuICAgIHN3aXRjaCAodGhpcy5pZCkge1xuICAgICAgY2FzZSAndjQnOlxuICAgICAgICB0aGlzLnNpZ25hdHVyZSA9IHY0LnNpZ24ocHJpdmF0ZUtleSwgZGF0YSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUl9JTlZBTElEX0lEKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2lnbmF0dXJlO1xuICB9XG5cbiAgZW5jb2RlVG9WYWx1ZXMocHJpdmF0ZUtleT86IEJ1ZmZlcik6IChFTlJLZXkgfCBFTlJWYWx1ZSB8IG51bWJlcilbXSB7XG4gICAgLy8gc29ydCBrZXlzIGFuZCBmbGF0dGVuIGludG8gW2ssIHYsIGssIHYsIC4uLl1cbiAgICBjb25zdCBjb250ZW50OiBBcnJheTxFTlJLZXkgfCBFTlJWYWx1ZSB8IG51bWJlcj4gPSBBcnJheS5mcm9tKHRoaXMua2V5cygpKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSlcbiAgICAgIC5tYXAoKGspID0+IFtrLCB0aGlzLmdldChrKV0gYXMgW0VOUktleSwgRU5SVmFsdWVdKVxuICAgICAgLmZsYXQoKTtcbiAgICBjb250ZW50LnVuc2hpZnQoTnVtYmVyKHRoaXMuc2VxKSk7XG4gICAgaWYgKHByaXZhdGVLZXkpIHtcbiAgICAgIGNvbnRlbnQudW5zaGlmdCh0aGlzLnNpZ24oUkxQLmVuY29kZShjb250ZW50KSwgcHJpdmF0ZUtleSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXRoaXMuc2lnbmF0dXJlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihFUlJfTk9fU0lHTkFUVVJFKTtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQudW5zaGlmdCh0aGlzLnNpZ25hdHVyZSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgZW5jb2RlKHByaXZhdGVLZXk/OiBCdWZmZXIpOiBCdWZmZXIge1xuICAgIGNvbnN0IGVuY29kZWQgPSBSTFAuZW5jb2RlKHRoaXMuZW5jb2RlVG9WYWx1ZXMocHJpdmF0ZUtleSkpO1xuICAgIGlmIChlbmNvZGVkLmxlbmd0aCA+PSBNQVhfUkVDT1JEX1NJWkUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRU5SIG11c3QgYmUgbGVzcyB0aGFuIDMwMCBieXRlcycpO1xuICAgIH1cbiAgICByZXR1cm4gZW5jb2RlZDtcbiAgfVxuXG4gIGVuY29kZVR4dChwcml2YXRlS2V5PzogQnVmZmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gRU5SLlJFQ09SRF9QUkVGSVggKyBiYXNlNjR1cmwuZW5jb2RlKHRoaXMuZW5jb2RlKHByaXZhdGVLZXkpKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgdjRDcnlwdG8gZnJvbSAnLi92NCc7XG5leHBvcnQgY29uc3QgdjQgPSB2NENyeXB0bztcbmV4cG9ydCAqIGZyb20gJy4vY29uc3RhbnRzJztcbmV4cG9ydCAqIGZyb20gJy4vZW5yJztcbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9jcmVhdGUnO1xuZXhwb3J0ICogZnJvbSAnLi9rZXlwYWlyJztcbiIsImV4cG9ydCBjb25zdCBFUlJfVFlQRV9OT1RfSU1QTEVNRU5URUQgPSAnS2V5cGFpciB0eXBlIG5vdCBpbXBsZW1lbnRlZCc7XG5leHBvcnQgY29uc3QgRVJSX0lOVkFMSURfS0VZUEFJUl9UWVBFID0gJ0ludmFsaWQga2V5cGFpciB0eXBlJztcbiIsImltcG9ydCB7IGtleXMgfSBmcm9tICdsaWJwMnAtY3J5cHRvJztcbmltcG9ydCBtaCBmcm9tICdtdWx0aWhhc2hlcyc7XG5pbXBvcnQgUGVlcklkIGZyb20gJ3BlZXItaWQnO1xuXG5jb25zdCB7IGtleXNQQk0sIHN1cHBvcnRlZEtleXMgfSA9IGtleXM7XG5cbmltcG9ydCB7IEVSUl9UWVBFX05PVF9JTVBMRU1FTlRFRCB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IFNlY3AyNTZrMUtleXBhaXIgfSBmcm9tICcuL3NlY3AyNTZrMSc7XG5pbXBvcnQgeyBJS2V5cGFpciwgS2V5cGFpclR5cGUgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0ICogZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgKiBmcm9tICcuL3NlY3AyNTZrMSc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUtleXBhaXIodHlwZTogS2V5cGFpclR5cGUpOiBQcm9taXNlPElLZXlwYWlyPiB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgS2V5cGFpclR5cGUuc2VjcDI1NmsxOlxuICAgICAgcmV0dXJuIGF3YWl0IFNlY3AyNTZrMUtleXBhaXIuZ2VuZXJhdGUoKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUl9UWVBFX05PVF9JTVBMRU1FTlRFRCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUtleXBhaXIoXG4gIHR5cGU6IEtleXBhaXJUeXBlLFxuICBwcml2YXRlS2V5PzogQnVmZmVyLFxuICBwdWJsaWNLZXk/OiBCdWZmZXJcbik6IElLZXlwYWlyIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBLZXlwYWlyVHlwZS5zZWNwMjU2azE6XG4gICAgICByZXR1cm4gbmV3IFNlY3AyNTZrMUtleXBhaXIocHJpdmF0ZUtleSwgcHVibGljS2V5KTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKEVSUl9UWVBFX05PVF9JTVBMRU1FTlRFRCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBlZXJJZEZyb21LZXlwYWlyKGtleXBhaXI6IElLZXlwYWlyKTogUGVlcklkIHtcbiAgc3dpdGNoIChrZXlwYWlyLnR5cGUpIHtcbiAgICBjYXNlIEtleXBhaXJUeXBlLnNlY3AyNTZrMToge1xuICAgICAgLy8gbWFudWFsbHkgY3JlYXRlIGEgcGVlciBpZCB0byBhdm9pZCBleHBlbnNpdmUgb3BzXG4gICAgICBjb25zdCBwcml2S2V5ID0ga2V5cGFpci5oYXNQcml2YXRlS2V5KClcbiAgICAgICAgPyBuZXcgc3VwcG9ydGVkS2V5cy5zZWNwMjU2azEuU2VjcDI1NmsxUHJpdmF0ZUtleShcbiAgICAgICAgICAgIGtleXBhaXIucHJpdmF0ZUtleSxcbiAgICAgICAgICAgIGtleXBhaXIucHVibGljS2V5XG4gICAgICAgICAgKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgY29uc3QgcHViS2V5ID0gbmV3IHN1cHBvcnRlZEtleXMuc2VjcDI1NmsxLlNlY3AyNTZrMVB1YmxpY0tleShcbiAgICAgICAga2V5cGFpci5wdWJsaWNLZXlcbiAgICAgICk7XG4gICAgICBjb25zdCBpZCA9IG1oLmVuY29kZShwdWJLZXkuYnl0ZXMsICdpZGVudGl0eScpO1xuICAgICAgcmV0dXJuIG5ldyBQZWVySWQoaWQsIHByaXZLZXksIHB1YktleSk7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoRVJSX1RZUEVfTk9UX0lNUExFTUVOVEVEKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlS2V5cGFpckZyb21QZWVySWQocGVlcklkOiBQZWVySWQpOiBJS2V5cGFpciB7XG4gIC8vIHB1Yi9wcml2YXRlIGtleSBieXRlcyBmcm9tIHBlZXItaWQgYXJlIGVuY29kZWQgaW4gcHJvdG9idWYgZm9ybWF0XG4gIGNvbnN0IHB1YiA9IGtleXNQQk0uUHVibGljS2V5LmRlY29kZShwZWVySWQucHViS2V5LmJ5dGVzKTtcbiAgcmV0dXJuIGNyZWF0ZUtleXBhaXIoXG4gICAgcHViLlR5cGUgYXMgS2V5cGFpclR5cGUsXG4gICAgcGVlcklkLnByaXZLZXkgPyBCdWZmZXIuZnJvbShwZWVySWQucHJpdktleS5tYXJzaGFsKCkpIDogdW5kZWZpbmVkLFxuICAgIEJ1ZmZlci5mcm9tKHB1Yi5EYXRhKVxuICApO1xufVxuIiwiaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyJztcbmltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcblxuaW1wb3J0ICogYXMgc2VjcDI1NmsxIGZyb20gJ3NlY3AyNTZrMSc7XG5cbmltcG9ydCB7IEFic3RyYWN0S2V5cGFpciwgSUtleXBhaXIsIElLZXlwYWlyQ2xhc3MsIEtleXBhaXJUeXBlIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWNwMjU2azFQdWJsaWNLZXlUb0NvbXByZXNzZWQocHVibGljS2V5OiBVaW50OEFycmF5KTogQnVmZmVyIHtcbiAgaWYgKHB1YmxpY0tleS5sZW5ndGggPT09IDY0KSB7XG4gICAgcHVibGljS2V5ID0gQnVmZmVyLmNvbmNhdChbQnVmZmVyLmZyb20oWzRdKSwgcHVibGljS2V5XSk7XG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKHNlY3AyNTZrMS5wdWJsaWNLZXlDb252ZXJ0KHB1YmxpY0tleSwgdHJ1ZSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VjcDI1NmsxUHVibGljS2V5VG9GdWxsKHB1YmxpY0tleTogVWludDhBcnJheSk6IEJ1ZmZlciB7XG4gIGlmIChwdWJsaWNLZXkubGVuZ3RoID09PSA2NCkge1xuICAgIHJldHVybiBCdWZmZXIuY29uY2F0KFtCdWZmZXIuZnJvbShbNF0pLCBwdWJsaWNLZXldKTtcbiAgfVxuICByZXR1cm4gQnVmZmVyLmZyb20oc2VjcDI1NmsxLnB1YmxpY0tleUNvbnZlcnQocHVibGljS2V5LCBmYWxzZSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VjcDI1NmsxUHVibGljS2V5VG9SYXcocHVibGljS2V5OiBVaW50OEFycmF5KTogQnVmZmVyIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKHNlY3AyNTZrMS5wdWJsaWNLZXlDb252ZXJ0KHB1YmxpY0tleSwgZmFsc2UpLnNsaWNlKDEpKTtcbn1cblxuZXhwb3J0IGNvbnN0IFNlY3AyNTZrMUtleXBhaXI6IElLZXlwYWlyQ2xhc3MgPSBjbGFzcyBTZWNwMjU2azFLZXlwYWlyXG4gIGV4dGVuZHMgQWJzdHJhY3RLZXlwYWlyXG4gIGltcGxlbWVudHMgSUtleXBhaXJcbntcbiAgcmVhZG9ubHkgdHlwZTogS2V5cGFpclR5cGU7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZUtleT86IEJ1ZmZlciwgcHVibGljS2V5PzogQnVmZmVyKSB7XG4gICAgbGV0IHB1YiA9IHB1YmxpY0tleTtcbiAgICBpZiAocHViKSB7XG4gICAgICBwdWIgPSBzZWNwMjU2azFQdWJsaWNLZXlUb0NvbXByZXNzZWQocHViKTtcbiAgICB9XG4gICAgc3VwZXIocHJpdmF0ZUtleSwgcHViKTtcbiAgICB0aGlzLnR5cGUgPSBLZXlwYWlyVHlwZS5zZWNwMjU2azE7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2VuZXJhdGUoKTogUHJvbWlzZTxTZWNwMjU2azFLZXlwYWlyPiB7XG4gICAgY29uc3QgcHJpdmF0ZUtleSA9IEJ1ZmZlci5mcm9tKGF3YWl0IHJhbmRvbUJ5dGVzKDMyKSk7XG4gICAgY29uc3QgcHVibGljS2V5ID0gc2VjcDI1NmsxLnB1YmxpY0tleUNyZWF0ZShwcml2YXRlS2V5KTtcbiAgICByZXR1cm4gbmV3IFNlY3AyNTZrMUtleXBhaXIocHJpdmF0ZUtleSwgQnVmZmVyLmZyb20ocHVibGljS2V5KSk7XG4gIH1cblxuICBwcml2YXRlS2V5VmVyaWZ5KGtleSA9IHRoaXMuX3ByaXZhdGVLZXkpOiBib29sZWFuIHtcbiAgICBpZiAoa2V5KSB7XG4gICAgICByZXR1cm4gc2VjcDI1NmsxLnByaXZhdGVLZXlWZXJpZnkoa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBwdWJsaWNLZXlWZXJpZnkoa2V5ID0gdGhpcy5fcHVibGljS2V5KTogYm9vbGVhbiB7XG4gICAgaWYgKGtleSkge1xuICAgICAgcmV0dXJuIHNlY3AyNTZrMS5wdWJsaWNLZXlWZXJpZnkoa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzaWduKG1zZzogQnVmZmVyKTogQnVmZmVyIHtcbiAgICBjb25zdCB7IHNpZ25hdHVyZSwgcmVjaWQgfSA9IHNlY3AyNTZrMS5lY2RzYVNpZ24obXNnLCB0aGlzLnByaXZhdGVLZXkpO1xuICAgIHJldHVybiBCdWZmZXIuY29uY2F0KFtzaWduYXR1cmUsIEJ1ZmZlci5mcm9tKFtyZWNpZF0pXSk7XG4gIH1cblxuICB2ZXJpZnkobXNnOiBCdWZmZXIsIHNpZzogQnVmZmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHNlY3AyNTZrMS5lY2RzYVZlcmlmeShzaWcsIG1zZywgdGhpcy5wdWJsaWNLZXkpO1xuICB9XG59O1xuXG5mdW5jdGlvbiByYW5kb21CeXRlcyhsZW5ndGg6IG51bWJlcik6IFVpbnQ4QXJyYXkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93ICYmIHdpbmRvdy5jcnlwdG8pIHtcbiAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyYXkpO1xuICAgIHJldHVybiBhcnJheTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3J5cHRvLnJhbmRvbUJ5dGVzKGxlbmd0aCk7XG4gIH1cbn1cbiIsImV4cG9ydCBlbnVtIEtleXBhaXJUeXBlIHtcbiAgcnNhID0gMCxcbiAgZWQyNTUxOSA9IDEsXG4gIHNlY3AyNTZrMSA9IDIsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUtleXBhaXIge1xuICB0eXBlOiBLZXlwYWlyVHlwZTtcbiAgcHJpdmF0ZUtleTogQnVmZmVyO1xuICBwdWJsaWNLZXk6IEJ1ZmZlcjtcbiAgcHJpdmF0ZUtleVZlcmlmeSgpOiBib29sZWFuO1xuICBwdWJsaWNLZXlWZXJpZnkoKTogYm9vbGVhbjtcbiAgc2lnbihtc2c6IEJ1ZmZlcik6IEJ1ZmZlcjtcbiAgdmVyaWZ5KG1zZzogQnVmZmVyLCBzaWc6IEJ1ZmZlcik6IGJvb2xlYW47XG4gIGhhc1ByaXZhdGVLZXkoKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJS2V5cGFpckNsYXNzIHtcbiAgbmV3IChwcml2YXRlS2V5PzogQnVmZmVyLCBwdWJsaWNLZXk/OiBCdWZmZXIpOiBJS2V5cGFpcjtcbiAgZ2VuZXJhdGUoKTogUHJvbWlzZTxJS2V5cGFpcj47XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdEtleXBhaXIge1xuICBfcHJpdmF0ZUtleT86IEJ1ZmZlcjtcbiAgcmVhZG9ubHkgX3B1YmxpY0tleT86IEJ1ZmZlcjtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlS2V5PzogQnVmZmVyLCBwdWJsaWNLZXk/OiBCdWZmZXIpIHtcbiAgICBpZiAoKHRoaXMuX3ByaXZhdGVLZXkgPSBwcml2YXRlS2V5KSAmJiAhdGhpcy5wcml2YXRlS2V5VmVyaWZ5KCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBwcml2YXRlIGtleScpO1xuICAgIH1cbiAgICBpZiAoKHRoaXMuX3B1YmxpY0tleSA9IHB1YmxpY0tleSkgJiYgIXRoaXMucHVibGljS2V5VmVyaWZ5KCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBwcml2YXRlIGtleScpO1xuICAgIH1cbiAgfVxuXG4gIGdldCBwcml2YXRlS2V5KCk6IEJ1ZmZlciB7XG4gICAgaWYgKCF0aGlzLl9wcml2YXRlS2V5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3ByaXZhdGVLZXk7XG4gIH1cblxuICBnZXQgcHVibGljS2V5KCk6IEJ1ZmZlciB7XG4gICAgaWYgKCF0aGlzLl9wdWJsaWNLZXkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcHVibGljS2V5O1xuICB9XG5cbiAgcHJpdmF0ZUtleVZlcmlmeSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHB1YmxpY0tleVZlcmlmeSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGhhc1ByaXZhdGVLZXkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5fcHJpdmF0ZUtleSk7XG4gIH1cbn1cbiIsImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcblxuaW1wb3J0IHsga2VjY2FrMjU2IH0gZnJvbSAnanMtc2hhMyc7XG5pbXBvcnQgKiBhcyBzZWNwMjU2azEgZnJvbSAnc2VjcDI1NmsxJztcblxuaW1wb3J0IHsgY3JlYXRlTm9kZUlkIH0gZnJvbSAnLi9jcmVhdGUnO1xuaW1wb3J0IHsgTm9kZUlkIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNoKGlucHV0OiBVaW50OEFycmF5KTogQnVmZmVyIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGtlY2NhazI1Ni5hcnJheUJ1ZmZlcihpbnB1dCkpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUHJpdmF0ZUtleSgpOiBQcm9taXNlPEJ1ZmZlcj4ge1xuICByZXR1cm4gQnVmZmVyLmZyb20oYXdhaXQgcmFuZG9tQnl0ZXMoMzIpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHB1YmxpY0tleShwcml2S2V5OiBVaW50OEFycmF5KTogQnVmZmVyIHtcbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKHNlY3AyNTZrMS5wdWJsaWNLZXlDcmVhdGUocHJpdktleSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2lnbihwcml2S2V5OiBVaW50OEFycmF5LCBtc2c6IFVpbnQ4QXJyYXkpOiBCdWZmZXIge1xuICBjb25zdCB7IHNpZ25hdHVyZSB9ID0gc2VjcDI1NmsxLmVjZHNhU2lnbihoYXNoKG1zZyksIHByaXZLZXkpO1xuICByZXR1cm4gQnVmZmVyLmZyb20oc2lnbmF0dXJlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZlcmlmeShwdWJLZXk6IEJ1ZmZlciwgbXNnOiBCdWZmZXIsIHNpZzogQnVmZmVyKTogYm9vbGVhbiB7XG4gIC8vIFJlbW92ZSB0aGUgcmVjb3ZlcnkgaWQgaWYgcHJlc2VudCAoYnl0ZSAjNjUpXG4gIHJldHVybiBzZWNwMjU2azEuZWNkc2FWZXJpZnkoc2lnLnNsaWNlKDAsIDY0KSwgaGFzaChtc2cpLCBwdWJLZXkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9kZUlkKHB1YktleTogVWludDhBcnJheSk6IE5vZGVJZCB7XG4gIGNvbnN0IHVuY29tcHJlc3NlZFB1YmtleSA9IHNlY3AyNTZrMS5wdWJsaWNLZXlDb252ZXJ0KHB1YktleSwgZmFsc2UpO1xuXG4gIHJldHVybiBjcmVhdGVOb2RlSWQoaGFzaCh1bmNvbXByZXNzZWRQdWJrZXkuc2xpY2UoMSkpKTtcbn1cblxuZXhwb3J0IGNsYXNzIEVOUktleVBhaXIge1xuICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IG5vZGVJZDogTm9kZUlkLFxuICAgIHB1YmxpYyByZWFkb25seSBwcml2YXRlS2V5OiBCdWZmZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHB1YmxpY0tleTogQnVmZmVyXG4gICkge31cblxuICBwdWJsaWMgc3RhdGljIGFzeW5jIGNyZWF0ZShwcml2YXRlS2V5PzogQnVmZmVyKTogUHJvbWlzZTxFTlJLZXlQYWlyPiB7XG4gICAgaWYgKHByaXZhdGVLZXkpIHtcbiAgICAgIGlmICghc2VjcDI1NmsxLnByaXZhdGVLZXlWZXJpZnkocHJpdmF0ZUtleSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHByaXZhdGUga2V5Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IF9wcml2YXRlS2V5ID0gcHJpdmF0ZUtleSB8fCAoYXdhaXQgY3JlYXRlUHJpdmF0ZUtleSgpKTtcbiAgICBjb25zdCBfcHVibGljS2V5ID0gcHVibGljS2V5KF9wcml2YXRlS2V5KTtcbiAgICBjb25zdCBfbm9kZUlkID0gbm9kZUlkKF9wdWJsaWNLZXkpO1xuXG4gICAgcmV0dXJuIG5ldyBFTlJLZXlQYWlyKF9ub2RlSWQsIF9wcml2YXRlS2V5LCBfcHVibGljS2V5KTtcbiAgfVxuXG4gIHB1YmxpYyBzaWduKG1zZzogQnVmZmVyKTogQnVmZmVyIHtcbiAgICByZXR1cm4gc2lnbih0aGlzLnByaXZhdGVLZXksIG1zZyk7XG4gIH1cblxuICBwdWJsaWMgdmVyaWZ5KG1zZzogQnVmZmVyLCBzaWc6IEJ1ZmZlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiB2ZXJpZnkodGhpcy5wdWJsaWNLZXksIG1zZywgc2lnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByYW5kb21CeXRlcyhsZW5ndGg6IG51bWJlcik6IFVpbnQ4QXJyYXkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93ICYmIHdpbmRvdy5jcnlwdG8pIHtcbiAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyYXkpO1xuICAgIHJldHVybiBhcnJheTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3J5cHRvLnJhbmRvbUJ5dGVzKGxlbmd0aCk7XG4gIH1cbn1cbiIsImltcG9ydCBMaWJwMnAgZnJvbSAnbGlicDJwJztcbmltcG9ydCB7IFBlZXIgfSBmcm9tICdsaWJwMnAvc3JjL3BlZXItc3RvcmUnO1xuXG4vKipcbiAqIFJldHVybnMgYSBwc2V1ZG8tcmFuZG9tIHBlZXIgdGhhdCBzdXBwb3J0cyB0aGUgZ2l2ZW4gcHJvdG9jb2wuXG4gKiBVc2VmdWwgZm9yIHByb3RvY29scyBzdWNoIGFzIHN0b3JlIGFuZCBsaWdodCBwdXNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RSYW5kb21QZWVyKHBlZXJzOiBQZWVyW10pOiBQZWVyIHwgdW5kZWZpbmVkIHtcbiAgaWYgKHBlZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gIGNvbnN0IGluZGV4ID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKHBlZXJzLmxlbmd0aCAtIDEpKTtcbiAgcmV0dXJuIHBlZXJzW2luZGV4XTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHBlZXJzIHRoYXQgc3VwcG9ydHMgdGhlIGdpdmVuIHByb3RvY29sLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGVlcnNGb3JQcm90b2NvbChsaWJwMnA6IExpYnAycCwgcHJvdG9jb2w6IHN0cmluZyk6IFBlZXJbXSB7XG4gIHJldHVybiBBcnJheS5mcm9tKGxpYnAycC5wZWVyU3RvcmUucGVlcnMudmFsdWVzKCkpLmZpbHRlcigocGVlcikgPT5cbiAgICBwZWVyLnByb3RvY29scy5pbmNsdWRlcyhwcm90b2NvbClcbiAgKTtcbn1cbiIsImltcG9ydCB7IGtlY2NhazI1NiwgTWVzc2FnZSB9IGZyb20gJ2pzLXNoYTMnO1xuXG5leHBvcnQgZnVuY3Rpb24gaGV4VG9CdWYoaGV4OiBzdHJpbmcgfCBCdWZmZXIgfCBVaW50OEFycmF5KTogQnVmZmVyIHtcbiAgaWYgKHR5cGVvZiBoZXggPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGhleC5yZXBsYWNlKC9eMHgvaSwgJycpLCAnaGV4Jyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKGhleCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1ZlRvSGV4KGJ1ZjogVWludDhBcnJheSB8IEJ1ZmZlciB8IEFycmF5QnVmZmVyKTogc3RyaW5nIHtcbiAgY29uc3QgX2J1ZiA9IEJ1ZmZlci5mcm9tKGJ1Zik7XG4gIHJldHVybiBfYnVmLnRvU3RyaW5nKCdoZXgnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFsQnl0ZUFycmF5cyhcbiAgYTogVWludDhBcnJheSB8IEJ1ZmZlciB8IHN0cmluZyxcbiAgYjogVWludDhBcnJheSB8IEJ1ZmZlciB8IHN0cmluZ1xuKTogYm9vbGVhbiB7XG4gIGxldCBhQnVmOiBCdWZmZXI7XG4gIGxldCBiQnVmOiBCdWZmZXI7XG4gIGlmICh0eXBlb2YgYSA9PT0gJ3N0cmluZycpIHtcbiAgICBhQnVmID0gaGV4VG9CdWYoYSk7XG4gIH0gZWxzZSB7XG4gICAgYUJ1ZiA9IEJ1ZmZlci5mcm9tKGEpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBiID09PSAnc3RyaW5nJykge1xuICAgIGJCdWYgPSBoZXhUb0J1ZihiKTtcbiAgfSBlbHNlIHtcbiAgICBiQnVmID0gQnVmZmVyLmZyb20oYik7XG4gIH1cblxuICByZXR1cm4gYUJ1Zi5jb21wYXJlKGJCdWYpID09PSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24ga2VjY2FrMjU2QnVmKG1lc3NhZ2U6IE1lc3NhZ2UpOiBCdWZmZXIge1xuICByZXR1cm4gQnVmZmVyLmZyb20oa2VjY2FrMjU2LmFycmF5QnVmZmVyKG1lc3NhZ2UpKTtcbn1cbiIsImltcG9ydCB7IGJ5dGVzIH0gZnJvbSAnQGNoYWluc2FmZS9saWJwMnAtbm9pc2UvZGlzdC9zcmMvQHR5cGVzL2Jhc2ljJztcbmltcG9ydCB7IE5vaXNlIH0gZnJvbSAnQGNoYWluc2FmZS9saWJwMnAtbm9pc2UvZGlzdC9zcmMvbm9pc2UnO1xuaW1wb3J0IGRlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCBMaWJwMnAsIHsgQ29ubmVjdGlvbiwgTGlicDJwTW9kdWxlcywgTGlicDJwT3B0aW9ucyB9IGZyb20gJ2xpYnAycCc7XG5pbXBvcnQgTGlicDJwQm9vdHN0cmFwIGZyb20gJ2xpYnAycC1ib290c3RyYXAnO1xuaW1wb3J0IHsgTXV4ZWRTdHJlYW0gfSBmcm9tICdsaWJwMnAtaW50ZXJmYWNlcy9kaXN0L3NyYy9zdHJlYW0tbXV4ZXIvdHlwZXMnO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuLy8gQHRzLWlnbm9yZTogTm8gdHlwZXMgYXZhaWxhYmxlXG5pbXBvcnQgTXBsZXggZnJvbSAnbGlicDJwLW1wbGV4Jztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbi8vIEB0cy1pZ25vcmU6IE5vIHR5cGVzIGF2YWlsYWJsZVxuaW1wb3J0IFdlYnNvY2tldHMgZnJvbSAnbGlicDJwLXdlYnNvY2tldHMnO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuLy8gQHRzLWlnbm9yZTogTm8gdHlwZXMgYXZhaWxhYmxlXG5pbXBvcnQgZmlsdGVycyBmcm9tICdsaWJwMnAtd2Vic29ja2V0cy9zcmMvZmlsdGVycyc7XG5pbXBvcnQgeyBQZWVyIH0gZnJvbSAnbGlicDJwL2Rpc3Qvc3JjL3BlZXItc3RvcmUnO1xuaW1wb3J0IFBpbmcgZnJvbSAnbGlicDJwL3NyYy9waW5nJztcbmltcG9ydCB7IE11bHRpYWRkciwgbXVsdGlhZGRyIH0gZnJvbSAnbXVsdGlhZGRyJztcbmltcG9ydCBQZWVySWQgZnJvbSAncGVlci1pZCc7XG5cbmltcG9ydCB7IEJvb3RzdHJhcCwgQm9vdHN0cmFwT3B0aW9ucyB9IGZyb20gJy4vZGlzY292ZXJ5JztcbmltcG9ydCB7IGdldFBlZXJzRm9yUHJvdG9jb2wgfSBmcm9tICcuL3NlbGVjdF9wZWVyJztcbmltcG9ydCB7IExpZ2h0UHVzaENvZGVjLCBXYWt1TGlnaHRQdXNoIH0gZnJvbSAnLi93YWt1X2xpZ2h0X3B1c2gnO1xuaW1wb3J0IHsgRGVjcnlwdGlvbk1ldGhvZCwgV2FrdU1lc3NhZ2UgfSBmcm9tICcuL3dha3VfbWVzc2FnZSc7XG5pbXBvcnQgeyBSZWxheUNvZGVjcywgV2FrdVJlbGF5IH0gZnJvbSAnLi93YWt1X3JlbGF5JztcbmltcG9ydCB7IFJlbGF5UGluZ0NvbnRlbnRUb3BpYyB9IGZyb20gJy4vd2FrdV9yZWxheS9jb25zdGFudHMnO1xuaW1wb3J0IHsgU3RvcmVDb2RlYywgV2FrdVN0b3JlIH0gZnJvbSAnLi93YWt1X3N0b3JlJztcblxuY29uc3Qgd2Vic29ja2V0c1RyYW5zcG9ydEtleSA9IFdlYnNvY2tldHMucHJvdG90eXBlW1N5bWJvbC50b1N0cmluZ1RhZ107XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0UGluZ0tlZXBBbGl2ZVZhbHVlU2VjcyA9IDA7XG5leHBvcnQgY29uc3QgRGVmYXVsdFJlbGF5S2VlcEFsaXZlVmFsdWVTZWNzID0gNSAqIDYwO1xuXG4vKipcbiAqIERlZmF1bHRQdWJTdWJUb3BpYyBpcyB0aGUgZGVmYXVsdCBnb3NzaXBzdWIgdG9waWMgdG8gdXNlIGZvciBXYWt1LlxuICovXG5leHBvcnQgY29uc3QgRGVmYXVsdFB1YlN1YlRvcGljID0gJy93YWt1LzIvZGVmYXVsdC13YWt1L3Byb3RvJztcblxuY29uc3QgZGJnID0gZGVidWcoJ3dha3U6d2FrdScpO1xuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZU9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIFB1YlN1YiBUb3BpYyB0byB1c2UuIERlZmF1bHRzIHRvIHtAbGluayBEZWZhdWx0UHViU3ViVG9waWN9LlxuICAgKlxuICAgKiBPbmUgYW5kIG9ubHkgb25lIHB1YnN1YiB0b3BpYyBpcyB1c2VkIGJ5IFdha3UuIFRoaXMgaXMgdXNlZCBieTpcbiAgICogLSBXYWt1UmVsYXkgdG8gcmVjZWl2ZSwgcm91dGUgYW5kIHNlbmQgbWVzc2FnZXMsXG4gICAqIC0gV2FrdUxpZ2h0UHVzaCB0byBzZW5kIG1lc3NhZ2VzLFxuICAgKiAtIFdha3VTdG9yZSB0byByZXRyaWV2ZSBtZXNzYWdlcy5cbiAgICpcbiAgICogVGhlIHVzYWdlIG9mIHRoZSBkZWZhdWx0IHB1YnN1YiB0b3BpYyBpcyByZWNvbW1lbmRlZC5cbiAgICogU2VlIFtXYWt1IHYyIFRvcGljIFVzYWdlIFJlY29tbWVuZGF0aW9uc10oaHR0cHM6Ly9yZmMudmFjLmRldi9zcGVjLzIzLykgZm9yIGRldGFpbHMuXG4gICAqXG4gICAqIEBkZWZhdWx0IHtAbGluayBEZWZhdWx0UHViU3ViVG9waWN9XG4gICAqL1xuICBwdWJTdWJUb3BpYz86IHN0cmluZztcbiAgLyoqXG4gICAqIFNldCBrZWVwIGFsaXZlIGZyZXF1ZW5jeSBpbiBzZWNvbmRzOiBXYWt1IHdpbGwgc2VuZCBhIGAvaXBmcy9waW5nLzEuMC4wYFxuICAgKiByZXF1ZXN0IHRvIGVhY2ggcGVlciBhZnRlciB0aGUgc2V0IG51bWJlciBvZiBzZWNvbmRzLiBTZXQgdG8gMCB0byBkaXNhYmxlLlxuICAgKlxuICAgKiBAZGVmYXVsdCB7QGxpbmsgRGVmYXVsdFBpbmdLZWVwQWxpdmVWYWx1ZVNlY3N9XG4gICAqL1xuICBwaW5nS2VlcEFsaXZlPzogbnVtYmVyO1xuICAvKipcbiAgICogU2V0IGtlZXAgYWxpdmUgZnJlcXVlbmN5IGluIHNlY29uZHM6IFdha3Ugd2lsbCBzZW5kIGEgcGluZyBtZXNzYWdlIG92ZXJcbiAgICogcmVsYXkgdG8gZWFjaCBwZWVyIGFmdGVyIHRoZSBzZXQgbnVtYmVyIG9mIHNlY29uZHMuIFNldCB0byAwIHRvIGRpc2FibGUuXG4gICAqXG4gICAqIEBkZWZhdWx0IHtAbGluayBEZWZhdWx0UmVsYXlLZWVwQWxpdmVWYWx1ZVNlY3N9XG4gICAqL1xuICByZWxheUtlZXBBbGl2ZT86IG51bWJlcjtcbiAgLyoqXG4gICAqIFlvdSBjYW4gcGFzcyBvcHRpb25zIHRvIHRoZSBgTGlicDJwYCBpbnN0YW5jZSB1c2VkIGJ5IHtAbGluayBXYWt1fSB1c2luZyB0aGUge0BsaW5rIENyZWF0ZU9wdGlvbnMubGlicDJwfSBwcm9wZXJ0eS5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyB0aGUgc2FtZSB0eXBlIHRoYW4gdGhlIG9uZSBwYXNzZWQgdG8gW2BMaWJwMnAuY3JlYXRlYF0oaHR0cHM6Ly9naXRodWIuY29tL2xpYnAycC9qcy1saWJwMnAvYmxvYi9tYXN0ZXIvZG9jL0FQSS5tZCNjcmVhdGUpXG4gICAqIGFwYXJ0IHRoYXQgd2UgbWFkZSB0aGUgYG1vZHVsZXNgIHByb3BlcnR5IG9wdGlvbmFsIGFuZCBwYXJ0aWFsLFxuICAgKiBhbGxvd2luZyBpdHMgb21pc3Npb24gYW5kIGxldHRpbmcgV2FrdSBzZXQgZ29vZCBkZWZhdWx0cy5cbiAgICogTm90ZXMgdGhhdCBzb21lIHZhbHVlcyBhcmUgb3ZlcnJpZGRlbiBieSB7QGxpbmsgV2FrdX0gdG8gZW5zdXJlIGl0IGltcGxlbWVudHMgdGhlIFdha3UgcHJvdG9jb2wuXG4gICAqL1xuICBsaWJwMnA/OiBPbWl0PExpYnAycE9wdGlvbnMgJiBpbXBvcnQoJ2xpYnAycCcpLkNyZWF0ZU9wdGlvbnMsICdtb2R1bGVzJz4gJiB7XG4gICAgbW9kdWxlcz86IFBhcnRpYWw8TGlicDJwTW9kdWxlcz47XG4gIH07XG4gIC8qKlxuICAgKiBCeXRlIGFycmF5IHVzZWQgYXMga2V5IGZvciB0aGUgbm9pc2UgcHJvdG9jb2wgdXNlZCBmb3IgY29ubmVjdGlvbiBlbmNyeXB0aW9uXG4gICAqIGJ5IFtgTGlicDJwLmNyZWF0ZWBdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWJwMnAvanMtbGlicDJwL2Jsb2IvbWFzdGVyL2RvYy9BUEkubWQjY3JlYXRlKVxuICAgKiBUaGlzIGlzIG9ubHkgdXNlZCBmb3IgdGVzdCBwdXJwb3NlcyB0byBub3QgcnVuIG91dCBvZiBlbnRyb3B5IGR1cmluZyBDSSBydW5zLlxuICAgKi9cbiAgc3RhdGljTm9pc2VLZXk/OiBieXRlcztcbiAgLyoqXG4gICAqIFVzZSBsaWJwMnAtYm9vdHN0cmFwIHRvIGRpc2NvdmVyIGFuZCBjb25uZWN0IHRvIG5ldyBub2Rlcy5cbiAgICpcbiAgICogU2VlIFtbQm9vdHN0cmFwT3B0aW9uc11dIGZvciBhdmFpbGFibGUgcGFyYW1ldGVycy5cbiAgICpcbiAgICogTm90ZTogSXQgb3ZlcnJpZGVzIGFueSBvdGhlciBwZWVyRGlzY292ZXJ5IG1vZHVsZXMgdGhhdCBtYXkgaGF2ZSBiZWVuIHNldCB2aWFcbiAgICoge0BsaW5rIENyZWF0ZU9wdGlvbnMubGlicDJwfS5cbiAgICovXG4gIGJvb3RzdHJhcD86IEJvb3RzdHJhcE9wdGlvbnM7XG4gIGRlY3J5cHRpb25LZXlzPzogQXJyYXk8VWludDhBcnJheSB8IHN0cmluZz47XG59XG5cbmV4cG9ydCBjbGFzcyBXYWt1IHtcbiAgcHVibGljIGxpYnAycDogTGlicDJwO1xuICBwdWJsaWMgcmVsYXk6IFdha3VSZWxheTtcbiAgcHVibGljIHN0b3JlOiBXYWt1U3RvcmU7XG4gIHB1YmxpYyBsaWdodFB1c2g6IFdha3VMaWdodFB1c2g7XG5cbiAgcHJpdmF0ZSBwaW5nS2VlcEFsaXZlVGltZXJzOiB7XG4gICAgW3BlZXI6IHN0cmluZ106IFJldHVyblR5cGU8dHlwZW9mIHNldEludGVydmFsPjtcbiAgfTtcbiAgcHJpdmF0ZSByZWxheUtlZXBBbGl2ZVRpbWVyczoge1xuICAgIFtwZWVyOiBzdHJpbmddOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRJbnRlcnZhbD47XG4gIH07XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihcbiAgICBvcHRpb25zOiBDcmVhdGVPcHRpb25zLFxuICAgIGxpYnAycDogTGlicDJwLFxuICAgIHN0b3JlOiBXYWt1U3RvcmUsXG4gICAgbGlnaHRQdXNoOiBXYWt1TGlnaHRQdXNoXG4gICkge1xuICAgIHRoaXMubGlicDJwID0gbGlicDJwO1xuICAgIHRoaXMucmVsYXkgPSBsaWJwMnAucHVic3ViIGFzIHVua25vd24gYXMgV2FrdVJlbGF5O1xuICAgIHRoaXMuc3RvcmUgPSBzdG9yZTtcbiAgICB0aGlzLmxpZ2h0UHVzaCA9IGxpZ2h0UHVzaDtcbiAgICB0aGlzLnBpbmdLZWVwQWxpdmVUaW1lcnMgPSB7fTtcbiAgICB0aGlzLnJlbGF5S2VlcEFsaXZlVGltZXJzID0ge307XG5cbiAgICBjb25zdCBwaW5nS2VlcEFsaXZlID1cbiAgICAgIG9wdGlvbnMucGluZ0tlZXBBbGl2ZSB8fCBEZWZhdWx0UGluZ0tlZXBBbGl2ZVZhbHVlU2VjcztcbiAgICBjb25zdCByZWxheUtlZXBBbGl2ZSA9XG4gICAgICBvcHRpb25zLnJlbGF5S2VlcEFsaXZlIHx8IERlZmF1bHRSZWxheUtlZXBBbGl2ZVZhbHVlU2VjcztcblxuICAgIGxpYnAycC5jb25uZWN0aW9uTWFuYWdlci5vbigncGVlcjpjb25uZWN0JywgKGNvbm5lY3Rpb246IENvbm5lY3Rpb24pID0+IHtcbiAgICAgIHRoaXMuc3RhcnRLZWVwQWxpdmUoY29ubmVjdGlvbi5yZW1vdGVQZWVyLCBwaW5nS2VlcEFsaXZlLCByZWxheUtlZXBBbGl2ZSk7XG4gICAgfSk7XG5cbiAgICBsaWJwMnAuY29ubmVjdGlvbk1hbmFnZXIub24oJ3BlZXI6ZGlzY29ubmVjdCcsIChjb25uZWN0aW9uOiBDb25uZWN0aW9uKSA9PiB7XG4gICAgICB0aGlzLnN0b3BLZWVwQWxpdmUoY29ubmVjdGlvbi5yZW1vdGVQZWVyKTtcbiAgICB9KTtcblxuICAgIG9wdGlvbnM/LmRlY3J5cHRpb25LZXlzPy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIHRoaXMuYWRkRGVjcnlwdGlvbktleShrZXkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBuZXcgd2FrdSBub2RlXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIFRha2VzIHRoZSBzYW1lIG9wdGlvbnMgdGhhbiBgTGlicDJwYC5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUob3B0aW9ucz86IENyZWF0ZU9wdGlvbnMpOiBQcm9taXNlPFdha3U+IHtcbiAgICAvLyBHZXQgYW4gb2JqZWN0IGluIGNhc2Ugb3B0aW9ucyBvciBsaWJwMnAgYXJlIHVuZGVmaW5lZFxuICAgIGNvbnN0IGxpYnAycE9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zPy5saWJwMnApO1xuXG4gICAgLy8gRGVmYXVsdCBmb3IgV2Vic29ja2V0IGZpbHRlciBpcyBgYWxsYDpcbiAgICAvLyBSZXR1cm5zIGFsbCBUQ1AgYW5kIEROUyBiYXNlZCBhZGRyZXNzZXMsIGJvdGggd2l0aCB3cyBvciB3c3MuXG4gICAgbGlicDJwT3B0cy5jb25maWcgPSBPYmplY3QuYXNzaWduKFxuICAgICAge1xuICAgICAgICB0cmFuc3BvcnQ6IHtcbiAgICAgICAgICBbd2Vic29ja2V0c1RyYW5zcG9ydEtleV06IHtcbiAgICAgICAgICAgIGZpbHRlcjogZmlsdGVycy5hbGwsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBvcHRpb25zPy5saWJwMnA/LmNvbmZpZ1xuICAgICk7XG5cbiAgICAvLyBQYXNzIHB1YnN1YiB0b3BpYyB0byByZWxheVxuICAgIGlmIChvcHRpb25zPy5wdWJTdWJUb3BpYykge1xuICAgICAgbGlicDJwT3B0cy5jb25maWcucHVic3ViID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgeyBwdWJTdWJUb3BpYzogb3B0aW9ucy5wdWJTdWJUb3BpYyB9LFxuICAgICAgICBsaWJwMnBPcHRzLmNvbmZpZy5wdWJzdWJcbiAgICAgICk7XG4gICAgfVxuXG4gICAgbGlicDJwT3B0cy5tb2R1bGVzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucz8ubGlicDJwPy5tb2R1bGVzKTtcblxuICAgIC8vIERlZmF1bHQgdHJhbnNwb3J0IGZvciBsaWJwMnAgaXMgV2Vic29ja2V0c1xuICAgIGxpYnAycE9wdHMubW9kdWxlcyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7XG4gICAgICAgIHRyYW5zcG9ydDogW1dlYnNvY2tldHNdLFxuICAgICAgfSxcbiAgICAgIG9wdGlvbnM/LmxpYnAycD8ubW9kdWxlc1xuICAgICk7XG5cbiAgICAvLyBzdHJlYW1NdXhlciwgY29ubmVjdGlvbiBlbmNyeXB0aW9uIGFuZCBwdWJzdWIgYXJlIG92ZXJyaWRkZW5cbiAgICAvLyBhcyB0aG9zZSBhcmUgdGhlIG9ubHkgb25lcyBjdXJyZW50bHkgc3VwcG9ydGVkIGJ5IFdha3Ugbm9kZXMuXG4gICAgbGlicDJwT3B0cy5tb2R1bGVzID0gT2JqZWN0LmFzc2lnbihsaWJwMnBPcHRzLm1vZHVsZXMsIHtcbiAgICAgIHN0cmVhbU11eGVyOiBbTXBsZXhdLFxuICAgICAgY29ubkVuY3J5cHRpb246IFtuZXcgTm9pc2Uob3B0aW9ucz8uc3RhdGljTm9pc2VLZXkpXSxcbiAgICAgIHB1YnN1YjogV2FrdVJlbGF5LFxuICAgIH0pO1xuXG4gICAgaWYgKG9wdGlvbnM/LmJvb3RzdHJhcCkge1xuICAgICAgY29uc3QgYm9vdHN0cmFwID0gbmV3IEJvb3RzdHJhcChvcHRpb25zPy5ib290c3RyYXApO1xuXG4gICAgICBpZiAoYm9vdHN0cmFwLmdldEJvb3RzdHJhcFBlZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBsaXN0ID0gYXdhaXQgYm9vdHN0cmFwLmdldEJvb3RzdHJhcFBlZXJzKCk7XG5cbiAgICAgICAgICAvLyBOb3RlOiB0aGlzIG92ZXJyaWRlcyBhbnkgb3RoZXIgcGVlciBkaXNjb3ZlclxuICAgICAgICAgIGxpYnAycE9wdHMubW9kdWxlcyA9IE9iamVjdC5hc3NpZ24obGlicDJwT3B0cy5tb2R1bGVzLCB7XG4gICAgICAgICAgICBwZWVyRGlzY292ZXJ5OiBbTGlicDJwQm9vdHN0cmFwXSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGxpYnAycE9wdHMuY29uZmlnLnBlZXJEaXNjb3ZlcnkgPSB7XG4gICAgICAgICAgICBbTGlicDJwQm9vdHN0cmFwLnRhZ106IHtcbiAgICAgICAgICAgICAgbGlzdCxcbiAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGRiZygnRmFpbGVkIHRvIHJldHJpZXZlIGJvb3RzdHJhcCBub2RlcycsIGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgIC8vIEB0cy1pZ25vcmU6IG1vZHVsZXMgcHJvcGVydHkgaXMgY29ycmVjdGx5IHNldCB0aGFua3MgdG8gdm9vZG9vXG4gICAgY29uc3QgbGlicDJwID0gYXdhaXQgTGlicDJwLmNyZWF0ZShsaWJwMnBPcHRzKTtcblxuICAgIGNvbnN0IHdha3VTdG9yZSA9IG5ldyBXYWt1U3RvcmUobGlicDJwLCB7XG4gICAgICBwdWJTdWJUb3BpYzogb3B0aW9ucz8ucHViU3ViVG9waWMsXG4gICAgfSk7XG4gICAgY29uc3Qgd2FrdUxpZ2h0UHVzaCA9IG5ldyBXYWt1TGlnaHRQdXNoKGxpYnAycCk7XG5cbiAgICBhd2FpdCBsaWJwMnAuc3RhcnQoKTtcblxuICAgIHJldHVybiBuZXcgV2FrdShvcHRpb25zID8gb3B0aW9ucyA6IHt9LCBsaWJwMnAsIHdha3VTdG9yZSwgd2FrdUxpZ2h0UHVzaCk7XG4gIH1cblxuICAvKipcbiAgICogRGlhbHMgdG8gdGhlIHByb3ZpZGVkIHBlZXIuXG4gICAqXG4gICAqIEBwYXJhbSBwZWVyIFRoZSBwZWVyIHRvIGRpYWxcbiAgICovXG4gIGFzeW5jIGRpYWwocGVlcjogUGVlcklkIHwgTXVsdGlhZGRyIHwgc3RyaW5nKTogUHJvbWlzZTx7XG4gICAgc3RyZWFtOiBNdXhlZFN0cmVhbTtcbiAgICBwcm90b2NvbDogc3RyaW5nO1xuICB9PiB7XG4gICAgcmV0dXJuIHRoaXMubGlicDJwLmRpYWxQcm90b2NvbChwZWVyLCBbU3RvcmVDb2RlY10uY29uY2F0KFJlbGF5Q29kZWNzKSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIHBlZXIgdG8gYWRkcmVzcyBib29rLCBpdCB3aWxsIGJlIGF1dG8tZGlhbGVkIGluIHRoZSBiYWNrZ3JvdW5kLlxuICAgKi9cbiAgYWRkUGVlclRvQWRkcmVzc0Jvb2soXG4gICAgcGVlcklkOiBQZWVySWQgfCBzdHJpbmcsXG4gICAgbXVsdGlhZGRyczogTXVsdGlhZGRyW10gfCBzdHJpbmdbXVxuICApOiB2b2lkIHtcbiAgICBsZXQgcGVlcjtcbiAgICBpZiAodHlwZW9mIHBlZXJJZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHBlZXIgPSBQZWVySWQuY3JlYXRlRnJvbUI1OFN0cmluZyhwZWVySWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwZWVyID0gcGVlcklkO1xuICAgIH1cbiAgICBjb25zdCBhZGRyZXNzZXMgPSBtdWx0aWFkZHJzLm1hcCgoYWRkcjogTXVsdGlhZGRyIHwgc3RyaW5nKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGFkZHIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBtdWx0aWFkZHIoYWRkcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYWRkcjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmxpYnAycC5wZWVyU3RvcmUuYWRkcmVzc0Jvb2suc2V0KHBlZXIsIGFkZHJlc3Nlcyk7XG4gIH1cblxuICBhc3luYyBzdG9wKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLmxpYnAycC5zdG9wKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBkZWNyeXB0aW9uIGtleSB0byBhdHRlbXB0IGRlY3J5cHRpb24gb2YgbWVzc2FnZXMgcmVjZWl2ZWQgdmlhXG4gICAqIFtbV2FrdVJlbGF5XV0gYW5kIFtbV2FrdVN0b3JlXV0uIFRoaXMgY2FuIGVpdGhlciBiZSBhIHByaXZhdGUga2V5IGZvclxuICAgKiBhc3ltbWV0cmljIGVuY3J5cHRpb24gb3IgYSBzeW1tZXRyaWMga2V5LlxuICAgKlxuICAgKiBTdHJpbmdzIG11c3QgYmUgaW4gaGV4IGZvcm1hdC5cbiAgICovXG4gIGFkZERlY3J5cHRpb25LZXkoXG4gICAga2V5OiBVaW50OEFycmF5IHwgc3RyaW5nLFxuICAgIG9wdGlvbnM/OiB7IG1ldGhvZD86IERlY3J5cHRpb25NZXRob2Q7IGNvbnRlbnRUb3BpY3M/OiBzdHJpbmdbXSB9XG4gICk6IHZvaWQge1xuICAgIHRoaXMucmVsYXkuYWRkRGVjcnlwdGlvbktleShrZXksIG9wdGlvbnMpO1xuICAgIHRoaXMuc3RvcmUuYWRkRGVjcnlwdGlvbktleShrZXksIG9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGRlY3J5cHRpb24ga2V5IHRoYXQgd2FzIHVzZWQgdG8gYXR0ZW1wdCBkZWNyeXB0aW9uIG9mIG1lc3NhZ2VzXG4gICAqIHJlY2VpdmVkIHZpYSBbW1dha3VSZWxheV1dIG9yIFtbV2FrdVN0b3JlXV0uXG4gICAqXG4gICAqIFN0cmluZ3MgbXVzdCBiZSBpbiBoZXggZm9ybWF0LlxuICAgKi9cbiAgZGVsZXRlRGVjcnlwdGlvbktleShrZXk6IFVpbnQ4QXJyYXkgfCBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnJlbGF5LmRlbGV0ZURlY3J5cHRpb25LZXkoa2V5KTtcbiAgICB0aGlzLnN0b3JlLmRlbGV0ZURlY3J5cHRpb25LZXkoa2V5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGxvY2FsIG11bHRpYWRkciB3aXRoIHBlZXIgaWQgb24gd2hpY2ggbGlicDJwIGlzIGxpc3RlbmluZy5cbiAgICogQHRocm93cyBpZiBsaWJwMnAgaXMgbm90IGxpc3RlbmluZyBvbiBsb2NhbGhvc3RcbiAgICovXG4gIGdldExvY2FsTXVsdGlhZGRyV2l0aElEKCk6IHN0cmluZyB7XG4gICAgY29uc3QgbG9jYWxNdWx0aWFkZHIgPSB0aGlzLmxpYnAycC5tdWx0aWFkZHJzLmZpbmQoKGFkZHIpID0+XG4gICAgICBhZGRyLnRvU3RyaW5nKCkubWF0Y2goLzEyN1xcLjBcXC4wXFwuMS8pXG4gICAgKTtcbiAgICBpZiAoIWxvY2FsTXVsdGlhZGRyIHx8IGxvY2FsTXVsdGlhZGRyLnRvU3RyaW5nKCkgPT09ICcnKSB7XG4gICAgICB0aHJvdyAnTm90IGxpc3RlbmluZyBvbiBsb2NhbGhvc3QnO1xuICAgIH1cbiAgICByZXR1cm4gbG9jYWxNdWx0aWFkZHIgKyAnL3AycC8nICsgdGhpcy5saWJwMnAucGVlcklkLnRvQjU4U3RyaW5nKCk7XG4gIH1cblxuICAvKipcbiAgICogV2FpdCB0byBiZSBjb25uZWN0ZWQgdG8gYSBwZWVyLiBVc2VmdWwgd2hlbiB1c2luZyB0aGUgW1tDcmVhdGVPcHRpb25zLmJvb3RzdHJhcF1dXG4gICAqIHdpdGggW1tXYWt1LmNyZWF0ZV1dLiBUaGUgUHJvbWlzZSByZXNvbHZlcyBvbmx5IG9uY2Ugd2UgYXJlIGNvbm5lY3RlZCB0byBhXG4gICAqIFN0b3JlIHBlZXIsIFJlbGF5IHBlZXIgYW5kIExpZ2h0IFB1c2ggcGVlci5cbiAgICovXG4gIGFzeW5jIHdhaXRGb3JDb25uZWN0ZWRQZWVyKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGRlc2lyZWRQcm90b2NvbHMgPSBbW1N0b3JlQ29kZWNdLCBbTGlnaHRQdXNoQ29kZWNdLCBSZWxheUNvZGVjc107XG5cbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIGRlc2lyZWRQcm90b2NvbHMubWFwKChkZXNpcmVkUHJvdG9jb2xWZXJzaW9ucykgPT4ge1xuICAgICAgICBjb25zdCBwZWVycyA9IG5ldyBBcnJheTxQZWVyPigpO1xuICAgICAgICBkZXNpcmVkUHJvdG9jb2xWZXJzaW9ucy5mb3JFYWNoKChwcm90bykgPT4ge1xuICAgICAgICAgIGdldFBlZXJzRm9yUHJvdG9jb2wodGhpcy5saWJwMnAsIHByb3RvKS5mb3JFYWNoKChwZWVyKSA9PlxuICAgICAgICAgICAgcGVlcnMucHVzaChwZWVyKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChwZWVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE5vIHBlZXIgYXZhaWxhYmxlIGZvciB0aGlzIHByb3RvY29sLCB3YWl0aW5nIHRvIGNvbm5lY3QgdG8gb25lLlxuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5saWJwMnAucGVlclN0b3JlLm9uKFxuICAgICAgICAgICAgICAnY2hhbmdlOnByb3RvY29scycsXG4gICAgICAgICAgICAgICh7IHByb3RvY29sczogY29ubmVjdGVkUGVlclByb3RvY29scyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgZGVzaXJlZFByb3RvY29sVmVyc2lvbnMuZm9yRWFjaCgoZGVzaXJlZFByb3RvKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGVkUGVlclByb3RvY29scy5pbmNsdWRlcyhkZXNpcmVkUHJvdG8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGRiZygnUmVzb2x2aW5nIGZvcicsIGRlc2lyZWRQcm90bywgY29ubmVjdGVkUGVlclByb3RvY29scyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGFydEtlZXBBbGl2ZShcbiAgICBwZWVySWQ6IFBlZXJJZCxcbiAgICBwaW5nUGVyaW9kU2VjczogbnVtYmVyLFxuICAgIHJlbGF5UGVyaW9kU2VjczogbnVtYmVyXG4gICk6IHZvaWQge1xuICAgIC8vIEp1c3QgaW4gY2FzZSBhIHRpbWVyIGFscmVhZHkgZXhpc3QgZm9yIHRoaXMgcGVlclxuICAgIHRoaXMuc3RvcEtlZXBBbGl2ZShwZWVySWQpO1xuXG4gICAgY29uc3QgcGVlcklkU3RyID0gcGVlcklkLnRvQjU4U3RyaW5nKCk7XG5cbiAgICBpZiAocGluZ1BlcmlvZFNlY3MgIT09IDApIHtcbiAgICAgIHRoaXMucGluZ0tlZXBBbGl2ZVRpbWVyc1twZWVySWRTdHJdID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBQaW5nKHRoaXMubGlicDJwLCBwZWVySWQpO1xuICAgICAgfSwgcGluZ1BlcmlvZFNlY3MgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBpZiAocmVsYXlQZXJpb2RTZWNzICE9PSAwKSB7XG4gICAgICB0aGlzLnJlbGF5S2VlcEFsaXZlVGltZXJzW3BlZXJJZFN0cl0gPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIFdha3VNZXNzYWdlLmZyb21CeXRlcyhuZXcgVWludDhBcnJheSgpLCBSZWxheVBpbmdDb250ZW50VG9waWMpLnRoZW4oXG4gICAgICAgICAgKHdha3VNc2cpID0+IHRoaXMucmVsYXkuc2VuZCh3YWt1TXNnKVxuICAgICAgICApO1xuICAgICAgfSwgcmVsYXlQZXJpb2RTZWNzICogMTAwMCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdG9wS2VlcEFsaXZlKHBlZXJJZDogUGVlcklkKTogdm9pZCB7XG4gICAgY29uc3QgcGVlcklkU3RyID0gcGVlcklkLnRvQjU4U3RyaW5nKCk7XG5cbiAgICBpZiAodGhpcy5waW5nS2VlcEFsaXZlVGltZXJzW3BlZXJJZFN0cl0pIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5waW5nS2VlcEFsaXZlVGltZXJzW3BlZXJJZFN0cl0pO1xuICAgICAgZGVsZXRlIHRoaXMucGluZ0tlZXBBbGl2ZVRpbWVyc1twZWVySWRTdHJdO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJlbGF5S2VlcEFsaXZlVGltZXJzW3BlZXJJZFN0cl0pIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWxheUtlZXBBbGl2ZVRpbWVyc1twZWVySWRTdHJdKTtcbiAgICAgIGRlbGV0ZSB0aGlzLnJlbGF5S2VlcEFsaXZlVGltZXJzW3BlZXJJZFN0cl07XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgY29uY2F0IGZyb20gJ2l0LWNvbmNhdCc7XG5pbXBvcnQgbHAgZnJvbSAnaXQtbGVuZ3RoLXByZWZpeGVkJztcbmltcG9ydCBwaXBlIGZyb20gJ2l0LXBpcGUnO1xuaW1wb3J0IExpYnAycCBmcm9tICdsaWJwMnAnO1xuaW1wb3J0IHsgUGVlciB9IGZyb20gJ2xpYnAycC9zcmMvcGVlci1zdG9yZSc7XG5pbXBvcnQgUGVlcklkIGZyb20gJ3BlZXItaWQnO1xuXG5pbXBvcnQgeyBQdXNoUmVzcG9uc2UgfSBmcm9tICcuLi8uLi9wcm90by93YWt1L3YyL2xpZ2h0X3B1c2gnO1xuaW1wb3J0IHsgZ2V0UGVlcnNGb3JQcm90b2NvbCwgc2VsZWN0UmFuZG9tUGVlciB9IGZyb20gJy4uL3NlbGVjdF9wZWVyJztcbmltcG9ydCB7IERlZmF1bHRQdWJTdWJUb3BpYyB9IGZyb20gJy4uL3dha3UnO1xuaW1wb3J0IHsgV2FrdU1lc3NhZ2UgfSBmcm9tICcuLi93YWt1X21lc3NhZ2UnO1xuXG5pbXBvcnQgeyBQdXNoUlBDIH0gZnJvbSAnLi9wdXNoX3JwYyc7XG5cbmV4cG9ydCBjb25zdCBMaWdodFB1c2hDb2RlYyA9ICcvdmFjL3dha3UvbGlnaHRwdXNoLzIuMC4wLWJldGExJztcbmV4cG9ydCB7IFB1c2hSZXNwb25zZSB9O1xuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZU9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIFB1YlN1YiBUb3BpYyB0byB1c2UuIERlZmF1bHRzIHRvIHtAbGluayBEZWZhdWx0UHViU3ViVG9waWN9LlxuICAgKlxuICAgKiBUaGUgdXNhZ2Ugb2YgdGhlIGRlZmF1bHQgcHVic3ViIHRvcGljIGlzIHJlY29tbWVuZGVkLlxuICAgKiBTZWUgW1dha3UgdjIgVG9waWMgVXNhZ2UgUmVjb21tZW5kYXRpb25zXShodHRwczovL3JmYy52YWMuZGV2L3NwZWMvMjMvKSBmb3IgZGV0YWlscy5cbiAgICpcbiAgICogQGRlZmF1bHQge0BsaW5rIERlZmF1bHRQdWJTdWJUb3BpY31cbiAgICovXG4gIHB1YlN1YlRvcGljPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFB1c2hPcHRpb25zIHtcbiAgcGVlcklkPzogUGVlcklkO1xuICBwdWJTdWJUb3BpYz86IHN0cmluZztcbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBbV2FrdSB2MiBMaWdodCBQdXNoIHByb3RvY29sXShodHRwczovL3JmYy52YWMuZGV2L3NwZWMvMTkvKS5cbiAqL1xuZXhwb3J0IGNsYXNzIFdha3VMaWdodFB1c2gge1xuICBwdWJTdWJUb3BpYzogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBsaWJwMnA6IExpYnAycCwgb3B0aW9ucz86IENyZWF0ZU9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucz8ucHViU3ViVG9waWMpIHtcbiAgICAgIHRoaXMucHViU3ViVG9waWMgPSBvcHRpb25zLnB1YlN1YlRvcGljO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1YlN1YlRvcGljID0gRGVmYXVsdFB1YlN1YlRvcGljO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHB1c2goXG4gICAgbWVzc2FnZTogV2FrdU1lc3NhZ2UsXG4gICAgb3B0cz86IFB1c2hPcHRpb25zXG4gICk6IFByb21pc2U8UHVzaFJlc3BvbnNlIHwgbnVsbD4ge1xuICAgIGxldCBwZWVyO1xuICAgIGlmIChvcHRzPy5wZWVySWQpIHtcbiAgICAgIHBlZXIgPSB0aGlzLmxpYnAycC5wZWVyU3RvcmUuZ2V0KG9wdHMucGVlcklkKTtcbiAgICAgIGlmICghcGVlcikgdGhyb3cgJ1BlZXIgaXMgdW5rbm93bic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlZXIgPSB0aGlzLnJhbmRvbVBlZXI7XG4gICAgfVxuICAgIGlmICghcGVlcikgdGhyb3cgJ05vIHBlZXIgYXZhaWxhYmxlJztcbiAgICBpZiAoIXBlZXIucHJvdG9jb2xzLmluY2x1ZGVzKExpZ2h0UHVzaENvZGVjKSlcbiAgICAgIHRocm93ICdQZWVyIGRvZXMgbm90IHJlZ2lzdGVyIHdha3UgbGlnaHQgcHVzaCBwcm90b2NvbCc7XG5cbiAgICBjb25zdCBjb25uZWN0aW9uID0gdGhpcy5saWJwMnAuY29ubmVjdGlvbk1hbmFnZXIuZ2V0KHBlZXIuaWQpO1xuICAgIGlmICghY29ubmVjdGlvbikgdGhyb3cgJ0ZhaWxlZCB0byBnZXQgYSBjb25uZWN0aW9uIHRvIHRoZSBwZWVyJztcblxuICAgIGNvbnN0IHsgc3RyZWFtIH0gPSBhd2FpdCBjb25uZWN0aW9uLm5ld1N0cmVhbShMaWdodFB1c2hDb2RlYyk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHB1YlN1YlRvcGljID0gb3B0cz8ucHViU3ViVG9waWNcbiAgICAgICAgPyBvcHRzLnB1YlN1YlRvcGljXG4gICAgICAgIDogdGhpcy5wdWJTdWJUb3BpYztcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gUHVzaFJQQy5jcmVhdGVSZXF1ZXN0KG1lc3NhZ2UsIHB1YlN1YlRvcGljKTtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHBpcGUoXG4gICAgICAgIFtxdWVyeS5lbmNvZGUoKV0sXG4gICAgICAgIGxwLmVuY29kZSgpLFxuICAgICAgICBzdHJlYW0sXG4gICAgICAgIGxwLmRlY29kZSgpLFxuICAgICAgICBjb25jYXRcbiAgICAgICk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IFB1c2hSUEMuZGVjb2RlKHJlcy5zbGljZSgpKS5yZXNwb25zZTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ05vIHJlc3BvbnNlIGluIFB1c2hSUEMnKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGRlY29kZSBwdXNoIHJlcGx5JywgZXJyKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gc2VuZCB3YWt1IGxpZ2h0IHB1c2ggcmVxdWVzdCcsIGVycik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMga25vd24gcGVlcnMgZnJvbSB0aGUgYWRkcmVzcyBib29rIChgbGlicDJwLnBlZXJTdG9yZWApIHRoYXQgc3VwcG9ydFxuICAgKiBsaWdodCBwdXNoIHByb3RvY29sLiBXYWt1IG1heSBvciAgbWF5IG5vdCBiZSBjdXJyZW50bHkgY29ubmVjdGVkIHRvIHRoZXNlIHBlZXJzLlxuICAgKi9cbiAgZ2V0IHBlZXJzKCk6IFBlZXJbXSB7XG4gICAgcmV0dXJuIGdldFBlZXJzRm9yUHJvdG9jb2wodGhpcy5saWJwMnAsIExpZ2h0UHVzaENvZGVjKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcmFuZG9tIHBlZXIgdGhhdCBzdXBwb3J0cyBsaWdodCBwdXNoIHByb3RvY29sIGZyb20gdGhlIGFkZHJlc3NcbiAgICogYm9vayAoYGxpYnAycC5wZWVyU3RvcmVgKS4gV2FrdSBtYXkgb3IgIG1heSBub3QgYmUgY3VycmVudGx5IGNvbm5lY3RlZCB0b1xuICAgKiB0aGlzIHBlZXIuXG4gICAqL1xuICBnZXQgcmFuZG9tUGVlcigpOiBQZWVyIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gc2VsZWN0UmFuZG9tUGVlcih0aGlzLnBlZXJzKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUmVhZGVyIH0gZnJvbSAncHJvdG9idWZqcy9taW5pbWFsJztcbmltcG9ydCB7IHY0IGFzIHV1aWQgfSBmcm9tICd1dWlkJztcblxuaW1wb3J0ICogYXMgcHJvdG8gZnJvbSAnLi4vLi4vcHJvdG8vd2FrdS92Mi9saWdodF9wdXNoJztcbmltcG9ydCB7IFdha3VNZXNzYWdlIH0gZnJvbSAnLi4vd2FrdV9tZXNzYWdlJztcblxuZXhwb3J0IGNsYXNzIFB1c2hSUEMge1xuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIHByb3RvOiBwcm90by5QdXNoUlBDKSB7fVxuXG4gIHN0YXRpYyBjcmVhdGVSZXF1ZXN0KG1lc3NhZ2U6IFdha3VNZXNzYWdlLCBwdWJTdWJUb3BpYzogc3RyaW5nKTogUHVzaFJQQyB7XG4gICAgcmV0dXJuIG5ldyBQdXNoUlBDKHtcbiAgICAgIHJlcXVlc3RJZDogdXVpZCgpLFxuICAgICAgcmVxdWVzdDoge1xuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLnByb3RvLFxuICAgICAgICBwdWJTdWJUb3BpYzogcHViU3ViVG9waWMsXG4gICAgICB9LFxuICAgICAgcmVzcG9uc2U6IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBkZWNvZGUoYnl0ZXM6IFVpbnQ4QXJyYXkpOiBQdXNoUlBDIHtcbiAgICBjb25zdCByZXMgPSBwcm90by5QdXNoUlBDLmRlY29kZShSZWFkZXIuY3JlYXRlKGJ5dGVzKSk7XG4gICAgcmV0dXJuIG5ldyBQdXNoUlBDKHJlcyk7XG4gIH1cblxuICBlbmNvZGUoKTogVWludDhBcnJheSB7XG4gICAgcmV0dXJuIHByb3RvLlB1c2hSUEMuZW5jb2RlKHRoaXMucHJvdG8pLmZpbmlzaCgpO1xuICB9XG5cbiAgZ2V0IHF1ZXJ5KCk6IHByb3RvLlB1c2hSZXF1ZXN0IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5wcm90by5yZXF1ZXN0O1xuICB9XG5cbiAgZ2V0IHJlc3BvbnNlKCk6IHByb3RvLlB1c2hSZXNwb25zZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMucHJvdG8ucmVzcG9uc2U7XG4gIH1cbn1cbiIsIi8vIEVuc3VyZSB0aGF0IHRoaXMgY2xhc3MgbWF0Y2hlcyB0aGUgcHJvdG8gaW50ZXJmYWNlIHdoaWxlXG5pbXBvcnQgeyBCdWZmZXIgfSBmcm9tICdidWZmZXInO1xuXG5pbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IHsgUmVhZGVyIH0gZnJvbSAncHJvdG9idWZqcy9taW5pbWFsJztcblxuLy8gUHJvdGVjdGluZyB0aGUgdXNlciBmcm9tIHByb3RvYnVmIG9kZGl0aWVzXG5pbXBvcnQgKiBhcyBwcm90byBmcm9tICcuLi8uLi9wcm90by93YWt1L3YyL21lc3NhZ2UnO1xuXG5pbXBvcnQgKiBhcyB2ZXJzaW9uXzEgZnJvbSAnLi92ZXJzaW9uXzEnO1xuXG5jb25zdCBEZWZhdWx0VmVyc2lvbiA9IDA7XG5jb25zdCBkYmcgPSBkZWJ1Zygnd2FrdTptZXNzYWdlJyk7XG5cbmV4cG9ydCBlbnVtIERlY3J5cHRpb25NZXRob2Qge1xuICBBc3ltbWV0cmljID0gJ2FzeW1tZXRyaWMnLFxuICBTeW1tZXRyaWMgPSAnc3ltbWV0cmljJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPcHRpb25zIHtcbiAgLyoqXG4gICAqIFRpbWVzdGFtcCB0byBzZXQgb24gdGhlIG1lc3NhZ2UsIGRlZmF1bHRzIHRvIG5vdyBpZiBub3QgcGFzc2VkLlxuICAgKi9cbiAgdGltZXN0YW1wPzogRGF0ZTtcbiAgLyoqXG4gICAqIFB1YmxpYyBLZXkgdG8gdXNlIHRvIGVuY3J5cHQgdGhlIG1lc3NhZ2VzIHVzaW5nIEVDSUVTIChBc3ltbWV0cmljIEVuY3J5cHRpb24pLlxuICAgKlxuICAgKiBAdGhyb3dzIGlmIGJvdGggYGVuY1B1YmxpY0tleWAgYW5kIGBzeW1LZXlgIGFyZSBwYXNzZWRcbiAgICovXG4gIGVuY1B1YmxpY0tleT86IFVpbnQ4QXJyYXkgfCBzdHJpbmc7XG4gIC8qKlxuICAgKiBLZXkgdG8gdXNlIHRvIGVuY3J5cHQgdGhlIG1lc3NhZ2VzIHVzaW5nIEFFUyAoU3ltbWV0cmljIEVuY3J5cHRpb24pLlxuICAgKlxuICAgKiBAdGhyb3dzIGlmIGJvdGggYGVuY1B1YmxpY0tleWAgYW5kIGBzeW1LZXlgIGFyZSBwYXNzZWRcbiAgICovXG4gIHN5bUtleT86IFVpbnQ4QXJyYXkgfCBzdHJpbmc7XG4gIC8qKlxuICAgKiBQcml2YXRlIGtleSB0byB1c2UgdG8gc2lnbiB0aGUgbWVzc2FnZSwgZWl0aGVyIGBlbmNQdWJsaWNLZXlgIG9yIGBzeW1LZXlgIG11c3QgYmUgcHJvdmlkZWQgYXMgb25seVxuICAgKiBlbmNyeXB0ZWQgbWVzc2FnZXMgYXJlIHNpZ25lZC5cbiAgICovXG4gIHNpZ1ByaXZLZXk/OiBVaW50OEFycmF5O1xufVxuXG5leHBvcnQgY2xhc3MgV2FrdU1lc3NhZ2Uge1xuICBwcml2YXRlIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBwcm90bzogcHJvdG8uV2FrdU1lc3NhZ2UsXG4gICAgcHJpdmF0ZSBfc2lnbmF0dXJlUHVibGljS2V5PzogVWludDhBcnJheSxcbiAgICBwcml2YXRlIF9zaWduYXR1cmU/OiBVaW50OEFycmF5XG4gICkge31cblxuICAvKipcbiAgICogQ3JlYXRlIE1lc3NhZ2Ugd2l0aCBhbiB1dGYtOCBzdHJpbmcgYXMgcGF5bG9hZC5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBmcm9tVXRmOFN0cmluZyhcbiAgICB1dGY4OiBzdHJpbmcsXG4gICAgY29udGVudFRvcGljOiBzdHJpbmcsXG4gICAgb3B0cz86IE9wdGlvbnNcbiAgKTogUHJvbWlzZTxXYWt1TWVzc2FnZT4ge1xuICAgIGNvbnN0IHBheWxvYWQgPSBCdWZmZXIuZnJvbSh1dGY4LCAndXRmLTgnKTtcbiAgICByZXR1cm4gV2FrdU1lc3NhZ2UuZnJvbUJ5dGVzKHBheWxvYWQsIGNvbnRlbnRUb3BpYywgb3B0cyk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgV2FrdSBNZXNzYWdlIHdpdGggdGhlIGdpdmVuIHBheWxvYWQuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQsIHRoZSBwYXlsb2FkIGlzIGtlcHQgY2xlYXIgKHZlcnNpb24gMCkuXG4gICAqIElmIGBvcHRzLmVuY1B1YmxpY0tleWAgaXMgcGFzc2VkLCB0aGUgcGF5bG9hZCBpcyBlbmNyeXB0ZWQgdXNpbmdcbiAgICogYXN5bW1ldHJpYyBlbmNyeXB0aW9uICh2ZXJzaW9uIDEpLlxuICAgKlxuICAgKiBJZiBgb3B0cy5zaWdQcml2S2V5YCBpcyBwYXNzZWQgYW5kIHZlcnNpb24gMSBpcyB1c2VkLCB0aGUgcGF5bG9hZCBpcyBzaWduZWRcbiAgICogYmVmb3JlIGVuY3J5cHRpb24uXG4gICAqXG4gICAqIEB0aHJvd3MgaWYgYm90aCBgb3B0cy5lbmNQdWJsaWNLZXlgIGFuZCBgb3B0LnN5bUtleWAgYXJlIHBhc3NlZFxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGZyb21CeXRlcyhcbiAgICBwYXlsb2FkOiBVaW50OEFycmF5LFxuICAgIGNvbnRlbnRUb3BpYzogc3RyaW5nLFxuICAgIG9wdHM/OiBPcHRpb25zXG4gICk6IFByb21pc2U8V2FrdU1lc3NhZ2U+IHtcbiAgICBjb25zdCB7IHRpbWVzdGFtcCwgZW5jUHVibGljS2V5LCBzeW1LZXksIHNpZ1ByaXZLZXkgfSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7IHRpbWVzdGFtcDogbmV3IERhdGUoKSB9LFxuICAgICAgb3B0cyA/IG9wdHMgOiB7fVxuICAgICk7XG5cbiAgICBsZXQgX3BheWxvYWQgPSBwYXlsb2FkO1xuICAgIGxldCB2ZXJzaW9uID0gRGVmYXVsdFZlcnNpb247XG4gICAgbGV0IHNpZztcblxuICAgIGlmIChlbmNQdWJsaWNLZXkgJiYgc3ltS2V5KSB7XG4gICAgICB0aHJvdyAnUGFzcyBlaXRoZXIgYGVuY1B1YmxpY0tleWAgb3IgYHN5bUtleWAsIG5vdCBib3RoLic7XG4gICAgfVxuXG4gICAgaWYgKGVuY1B1YmxpY0tleSkge1xuICAgICAgY29uc3QgZW5jID0gdmVyc2lvbl8xLmNsZWFyRW5jb2RlKF9wYXlsb2FkLCBzaWdQcml2S2V5KTtcbiAgICAgIF9wYXlsb2FkID0gYXdhaXQgdmVyc2lvbl8xLmVuY3J5cHRBc3ltbWV0cmljKGVuYy5wYXlsb2FkLCBlbmNQdWJsaWNLZXkpO1xuICAgICAgc2lnID0gZW5jLnNpZztcbiAgICAgIHZlcnNpb24gPSAxO1xuICAgIH0gZWxzZSBpZiAoc3ltS2V5KSB7XG4gICAgICBjb25zdCBlbmMgPSB2ZXJzaW9uXzEuY2xlYXJFbmNvZGUoX3BheWxvYWQsIHNpZ1ByaXZLZXkpO1xuICAgICAgX3BheWxvYWQgPSBhd2FpdCB2ZXJzaW9uXzEuZW5jcnlwdFN5bW1ldHJpYyhlbmMucGF5bG9hZCwgc3ltS2V5KTtcbiAgICAgIHNpZyA9IGVuYy5zaWc7XG4gICAgICB2ZXJzaW9uID0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFdha3VNZXNzYWdlKFxuICAgICAge1xuICAgICAgICBwYXlsb2FkOiBfcGF5bG9hZCxcbiAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAudmFsdWVPZigpIC8gMTAwMCxcbiAgICAgICAgdmVyc2lvbixcbiAgICAgICAgY29udGVudFRvcGljLFxuICAgICAgfSxcbiAgICAgIHNpZz8ucHVibGljS2V5LFxuICAgICAgc2lnPy5zaWduYXR1cmVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIERlY29kZSBhIGJ5dGUgYXJyYXkgaW50byBXYWt1IE1lc3NhZ2UuXG4gICAqXG4gICAqIEBwYXJhbXMgYnl0ZXMgVGhlIG1lc3NhZ2UgZW5jb2RlZCB1c2luZyBwcm90b2J1ZiBhcyBkZWZpbmVkIGluIFsxNC9XQUtVMi1NRVNTQUdFXShodHRwczovL3JmYy52YWMuZGV2L3NwZWMvMTQvKS5cbiAgICogQHBhcmFtcyBkZWNyeXB0aW9uS2V5cyBJZiB0aGUgcGF5bG9hZCBpcyBlbmNyeXB0ZWQgKHZlcnNpb24gPSAxKSwgdGhlbiB0aGVcbiAgICoga2V5cyBhcmUgdXNlZCB0byBhdHRlbXB0IGRlY3J5cHRpb24gb2YgdGhlIG1lc3NhZ2UuIFRoZSBwYXNzZWQga2V5IGNhbiBlaXRoZXJcbiAgICogYmUgYXN5bW1ldHJpYyBwcml2YXRlIGtleXMgb3Igc3ltbWV0cmljIGtleXMsIGJvdGggbWV0aG9kIGFyZSB0cmllZCBmb3IgZWFjaFxuICAgKiBrZXkgdW50aWwgdGhlIG1lc3NhZ2UgaXMgZGVjcnlwdGVkIG9yIGNvbWJpbmF0aW9ucyBhcmUgcnVuIG91dC5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBkZWNvZGUoXG4gICAgYnl0ZXM6IFVpbnQ4QXJyYXksXG4gICAgZGVjcnlwdGlvbktleXM/OiBBcnJheTx7XG4gICAgICBrZXk6IFVpbnQ4QXJyYXk7XG4gICAgICBtZXRob2Q/OiBEZWNyeXB0aW9uTWV0aG9kO1xuICAgICAgY29udGVudFRvcGljPzogc3RyaW5nW107XG4gICAgfT5cbiAgKTogUHJvbWlzZTxXYWt1TWVzc2FnZSB8IHVuZGVmaW5lZD4ge1xuICAgIGNvbnN0IHByb3RvQnVmID0gcHJvdG8uV2FrdU1lc3NhZ2UuZGVjb2RlKFJlYWRlci5jcmVhdGUoYnl0ZXMpKTtcblxuICAgIHJldHVybiBXYWt1TWVzc2FnZS5kZWNvZGVQcm90byhwcm90b0J1ZiwgZGVjcnlwdGlvbktleXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlY29kZSBhbmQgZGVjcnlwdCBXYWt1IE1lc3NhZ2UgUHJvdG9idWYgT2JqZWN0IGludG8gV2FrdSBNZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW1zIHByb3RvQnVmIFRoZSBtZXNzYWdlIHRvIGRlY29kZSBhbmQgZGVjcnlwdC5cbiAgICogQHBhcmFtcyBkZWNyeXB0aW9uS2V5cyBJZiB0aGUgcGF5bG9hZCBpcyBlbmNyeXB0ZWQgKHZlcnNpb24gPSAxKSwgdGhlbiB0aGVcbiAgICoga2V5cyBhcmUgdXNlZCB0byBhdHRlbXB0IGRlY3J5cHRpb24gb2YgdGhlIG1lc3NhZ2UuIFRoZSBwYXNzZWQga2V5IGNhbiBlaXRoZXJcbiAgICogYmUgYXN5bW1ldHJpYyBwcml2YXRlIGtleXMgb3Igc3ltbWV0cmljIGtleXMsIGJvdGggbWV0aG9kIGFyZSB0cmllZCBmb3IgZWFjaFxuICAgKiBrZXkgdW50aWwgdGhlIG1lc3NhZ2UgaXMgZGVjcnlwdGVkIG9yIGNvbWJpbmF0aW9ucyBhcmUgcnVuIG91dC5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBkZWNvZGVQcm90byhcbiAgICBwcm90b0J1ZjogcHJvdG8uV2FrdU1lc3NhZ2UsXG4gICAgZGVjcnlwdGlvbktleXM/OiBBcnJheTx7XG4gICAgICBrZXk6IFVpbnQ4QXJyYXk7XG4gICAgICBtZXRob2Q/OiBEZWNyeXB0aW9uTWV0aG9kO1xuICAgICAgY29udGVudFRvcGljcz86IHN0cmluZ1tdO1xuICAgIH0+XG4gICk6IFByb21pc2U8V2FrdU1lc3NhZ2UgfCB1bmRlZmluZWQ+IHtcbiAgICBpZiAocHJvdG9CdWYucGF5bG9hZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBkYmcoJ1BheWxvYWQgaXMgdW5kZWZpbmVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBheWxvYWQgPSBwcm90b0J1Zi5wYXlsb2FkO1xuXG4gICAgbGV0IHNpZ25hdHVyZVB1YmxpY0tleTtcbiAgICBsZXQgc2lnbmF0dXJlO1xuICAgIGlmIChwcm90b0J1Zi52ZXJzaW9uID09PSAxICYmIHByb3RvQnVmLnBheWxvYWQpIHtcbiAgICAgIGlmIChkZWNyeXB0aW9uS2V5cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRiZygnUGF5bG9hZCBpcyBlbmNyeXB0ZWQgYnV0IG5vIHByaXZhdGUga2V5cyBoYXZlIGJlZW4gcHJvdmlkZWQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUmV0dXJucyBhIGJ1bmNoIG9mIGB1bmRlZmluZWRgIGFuZCBob3BlZnVsbHkgb25lIGRlY3J5cHRlZCByZXN1bHRcbiAgICAgIGNvbnN0IGFsbFJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgZGVjcnlwdGlvbktleXMubWFwKGFzeW5jICh7IGtleSwgbWV0aG9kLCBjb250ZW50VG9waWNzIH0pID0+IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhY29udGVudFRvcGljcyB8fFxuICAgICAgICAgICAgKHByb3RvQnVmLmNvbnRlbnRUb3BpYyAmJlxuICAgICAgICAgICAgICBjb250ZW50VG9waWNzLmluY2x1ZGVzKHByb3RvQnVmLmNvbnRlbnRUb3BpYykpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgICAgICAgICAgICBjYXNlIERlY3J5cHRpb25NZXRob2QuQXN5bW1ldHJpYzpcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHZlcnNpb25fMS5kZWNyeXB0QXN5bW1ldHJpYyhwYXlsb2FkLCBrZXkpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgIGRiZyhcbiAgICAgICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byBkZWNyeXB0IG1lc3NhZ2UgdXNpbmcgc3ltbWV0cmljIGVuY3J5cHRpb24gZGVzcGl0ZSBkZWNyeXB0aW9uIG1ldGhvZCBiZWluZyBzcGVjaWZpZWQnLFxuICAgICAgICAgICAgICAgICAgICBlXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2FzZSBEZWNyeXB0aW9uTWV0aG9kLlN5bW1ldHJpYzpcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHZlcnNpb25fMS5kZWNyeXB0U3ltbWV0cmljKHBheWxvYWQsIGtleSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgZGJnKFxuICAgICAgICAgICAgICAgICAgICAnRmFpbGVkIHRvIGRlY3J5cHQgbWVzc2FnZSB1c2luZyBhc3ltbWV0cmljIGVuY3J5cHRpb24gZGVzcGl0ZSBkZWNyeXB0aW9uIG1ldGhvZCBiZWluZyBzcGVjaWZpZWQnLFxuICAgICAgICAgICAgICAgICAgICBlXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHZlcnNpb25fMS5kZWNyeXB0U3ltbWV0cmljKHBheWxvYWQsIGtleSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgZGJnKFxuICAgICAgICAgICAgICAgICAgICAnRmFpbGVkIHRvIGRlY3J5cHQgbWVzc2FnZSB1c2luZyBzeW1tZXRyaWMgZW5jcnlwdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGVcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdmVyc2lvbl8xLmRlY3J5cHRBc3ltbWV0cmljKHBheWxvYWQsIGtleSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRiZyhcbiAgICAgICAgICAgICAgICAgICAgICAnRmFpbGVkIHRvIGRlY3J5cHQgbWVzc2FnZSB1c2luZyBhc3ltbWV0cmljIGVuY3J5cHRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgIGVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTm8ga2V5IGF2YWlsYWJsZSBmb3IgdGhpcyBjb250ZW50IHRvcGljXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgY29uc3QgaXNEZWZpbmVkID0gKGRlYzogVWludDhBcnJheSB8IHVuZGVmaW5lZCk6IGRlYyBpcyBVaW50OEFycmF5ID0+IHtcbiAgICAgICAgcmV0dXJuICEhZGVjO1xuICAgICAgfTtcblxuICAgICAgY29uc3QgZGVjb2RlZFJlc3VsdHMgPSBhbGxSZXN1bHRzLmZpbHRlcihpc0RlZmluZWQpO1xuXG4gICAgICBpZiAoZGVjb2RlZFJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRiZygnRmFpbGVkIHRvIGRlY3J5cHQgcGF5bG9hZC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGVjID0gZGVjb2RlZFJlc3VsdHNbMF07XG5cbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHZlcnNpb25fMS5jbGVhckRlY29kZShkZWMpO1xuICAgICAgaWYgKCFyZXMpIHtcbiAgICAgICAgZGJnKCdGYWlsZWQgdG8gZGVjb2RlIHBheWxvYWQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5hc3NpZ24ocHJvdG9CdWYsIHsgcGF5bG9hZDogcmVzLnBheWxvYWQgfSk7XG4gICAgICBzaWduYXR1cmVQdWJsaWNLZXkgPSByZXMuc2lnPy5wdWJsaWNLZXk7XG4gICAgICBzaWduYXR1cmUgPSByZXMuc2lnPy5zaWduYXR1cmU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBXYWt1TWVzc2FnZShwcm90b0J1Ziwgc2lnbmF0dXJlUHVibGljS2V5LCBzaWduYXR1cmUpO1xuICB9XG5cbiAgZW5jb2RlKCk6IFVpbnQ4QXJyYXkge1xuICAgIHJldHVybiBwcm90by5XYWt1TWVzc2FnZS5lbmNvZGUodGhpcy5wcm90bykuZmluaXNoKCk7XG4gIH1cblxuICBnZXQgcGF5bG9hZEFzVXRmOCgpOiBzdHJpbmcge1xuICAgIGlmICghdGhpcy5wcm90by5wYXlsb2FkKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHRoaXMucHJvdG8ucGF5bG9hZCkudG9TdHJpbmcoJ3V0Zi04Jyk7XG4gIH1cblxuICBnZXQgcGF5bG9hZCgpOiBVaW50OEFycmF5IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5wcm90by5wYXlsb2FkO1xuICB9XG5cbiAgZ2V0IGNvbnRlbnRUb3BpYygpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLnByb3RvLmNvbnRlbnRUb3BpYztcbiAgfVxuXG4gIGdldCB2ZXJzaW9uKCk6IG51bWJlciB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMucHJvdG8udmVyc2lvbjtcbiAgfVxuXG4gIGdldCB0aW1lc3RhbXAoKTogRGF0ZSB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHRoaXMucHJvdG8udGltZXN0YW1wKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUodGhpcy5wcm90by50aW1lc3RhbXAgKiAxMDAwKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBwdWJsaWMga2V5IHVzZWQgdG8gc2lnbiB0aGUgbWVzc2FnZS5cbiAgICpcbiAgICogTUFZIGJlIHByZXNlbnQgaWYgdGhlIG1lc3NhZ2UgaXMgdmVyc2lvbiAxLlxuICAgKi9cbiAgZ2V0IHNpZ25hdHVyZVB1YmxpY0tleSgpOiBVaW50OEFycmF5IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5fc2lnbmF0dXJlUHVibGljS2V5O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBzaWduYXR1cmUgb2YgdGhlIG1lc3NhZ2UuXG4gICAqXG4gICAqIE1BWSBiZSBwcmVzZW50IGlmIHRoZSBtZXNzYWdlIGlzIHZlcnNpb24gMS5cbiAgICovXG4gIGdldCBzaWduYXR1cmUoKTogVWludDhBcnJheSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuX3NpZ25hdHVyZTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSXZTaXplIH0gZnJvbSAnLi9pbmRleCc7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgbXNDcnlwdG8/OiBDcnlwdG87XG4gIH1cbiAgaW50ZXJmYWNlIENyeXB0byB7XG4gICAgd2Via2l0U3VidGxlPzogU3VidGxlQ3J5cHRvO1xuICB9XG59XG5cbmNvbnN0IGNyeXB0byA9IHdpbmRvdy5jcnlwdG8gfHwgd2luZG93Lm1zQ3J5cHRvO1xuY29uc3Qgc3VidGxlOiBTdWJ0bGVDcnlwdG8gPSBjcnlwdG8uc3VidGxlIHx8IGNyeXB0by53ZWJraXRTdWJ0bGU7XG5cbmNvbnN0IEFsZ29yaXRobSA9IHsgbmFtZTogJ0FFUy1HQ00nLCBsZW5ndGg6IDEyOCB9O1xuXG5pZiAoc3VidGxlID09PSB1bmRlZmluZWQpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBTdWJ0bGUgQ3J5cHRvQVBJJyk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmNyeXB0KFxuICBpdjogQnVmZmVyIHwgVWludDhBcnJheSxcbiAga2V5OiBCdWZmZXIsXG4gIGNsZWFyVGV4dDogQnVmZmVyXG4pOiBQcm9taXNlPEJ1ZmZlcj4ge1xuICByZXR1cm4gc3VidGxlXG4gICAgLmltcG9ydEtleSgncmF3Jywga2V5LCBBbGdvcml0aG0sIGZhbHNlLCBbJ2VuY3J5cHQnXSlcbiAgICAudGhlbigoY3J5cHRvS2V5KSA9PlxuICAgICAgc3VidGxlLmVuY3J5cHQoeyBpdiwgLi4uQWxnb3JpdGhtIH0sIGNyeXB0b0tleSwgY2xlYXJUZXh0KVxuICAgIClcbiAgICAudGhlbihCdWZmZXIuZnJvbSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNyeXB0KFxuICBpdjogQnVmZmVyLFxuICBrZXk6IEJ1ZmZlcixcbiAgY2lwaGVyVGV4dDogQnVmZmVyXG4pOiBQcm9taXNlPEJ1ZmZlcj4ge1xuICByZXR1cm4gc3VidGxlXG4gICAgLmltcG9ydEtleSgncmF3Jywga2V5LCBBbGdvcml0aG0sIGZhbHNlLCBbJ2RlY3J5cHQnXSlcbiAgICAudGhlbigoY3J5cHRvS2V5KSA9PlxuICAgICAgc3VidGxlLmRlY3J5cHQoeyBpdiwgLi4uQWxnb3JpdGhtIH0sIGNyeXB0b0tleSwgY2lwaGVyVGV4dClcbiAgICApXG4gICAgLnRoZW4oQnVmZmVyLmZyb20pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVJdigpOiBVaW50OEFycmF5IHtcbiAgY29uc3QgaXYgPSBuZXcgVWludDhBcnJheShJdlNpemUpO1xuICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGl2KTtcbiAgcmV0dXJuIGl2O1xufVxuIiwiZXhwb3J0IGNvbnN0IFN5bW1ldHJpY0tleVNpemUgPSAzMjtcbmV4cG9ydCBjb25zdCBJdlNpemUgPSAxMjtcbmV4cG9ydCBjb25zdCBUYWdTaXplID0gMTY7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3ltbWV0cmljIHtcbiAgLyoqXG4gICAqIFByb2NlZWQgd2l0aCBzeW1tZXRyaWMgZW5jcnlwdGlvbiBvZiBgY2xlYXJUZXh0YCB2YWx1ZS5cbiAgICovXG4gIGVuY3J5cHQ6IChcbiAgICBpdjogQnVmZmVyIHwgVWludDhBcnJheSxcbiAgICBrZXk6IEJ1ZmZlcixcbiAgICBjbGVhclRleHQ6IEJ1ZmZlclxuICApID0+IFByb21pc2U8QnVmZmVyPjtcbiAgLyoqXG4gICAqIFByb2NlZWQgd2l0aCBzeW1tZXRyaWMgZGVjcnlwdGlvbiBvZiBgY2lwaGVyVGV4dGAgdmFsdWUuXG4gICAqL1xuICBkZWNyeXB0OiAoaXY6IEJ1ZmZlciwga2V5OiBCdWZmZXIsIGNpcGhlclRleHQ6IEJ1ZmZlcikgPT4gUHJvbWlzZTxCdWZmZXI+O1xuICAvKipcbiAgICogR2VuZXJhdGUgYW4gSW5pdGlhbGl6YXRpb24gVmVjdG9yIChpdikgZm9yIGZvciBTeW1tZXRyaWMgZW5jcnlwdGlvbiBwdXJwb3Nlcy5cbiAgICovXG4gIGdlbmVyYXRlSXY6ICgpID0+IFVpbnQ4QXJyYXk7XG59XG5cbmV4cG9ydCBsZXQgc3ltbWV0cmljOiBTeW1tZXRyaWMgPSB7fSBhcyB1bmtub3duIGFzIFN5bW1ldHJpYztcblxuaW1wb3J0KCcuL2Jyb3dzZXInKVxuICAudGhlbigobW9kKSA9PiB7XG4gICAgc3ltbWV0cmljID0gbW9kO1xuICB9KVxuICAuY2F0Y2goKGVCcm93c2VyKSA9PiB7XG4gICAgaW1wb3J0KCcuL25vZGUnKVxuICAgICAgLnRoZW4oKG1vZCkgPT4ge1xuICAgICAgICBzeW1tZXRyaWMgPSBtb2Q7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlTm9kZSkgPT4ge1xuICAgICAgICB0aHJvdyBgQ291bGQgbm90IGxvYWQgYW55IHN5bW1ldHJpYyBjcnlwdG8gbW9kdWxlczogJHtlQnJvd3Nlcn0sICR7ZU5vZGV9YDtcbiAgICAgIH0pO1xuICB9KTtcbiIsImltcG9ydCB7IGNyZWF0ZUNpcGhlcml2LCBjcmVhdGVEZWNpcGhlcml2LCByYW5kb21CeXRlcyB9IGZyb20gJ2NyeXB0byc7XG5cbmltcG9ydCB7IEl2U2l6ZSwgVGFnU2l6ZSB9IGZyb20gJy4vaW5kZXgnO1xuXG5jb25zdCBBbGdvcml0aG0gPSAnYWVzLTI1Ni1nY20nO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW5jcnlwdChcbiAgaXY6IEJ1ZmZlciB8IFVpbnQ4QXJyYXksXG4gIGtleTogQnVmZmVyLFxuICBjbGVhclRleHQ6IEJ1ZmZlclxuKTogUHJvbWlzZTxCdWZmZXI+IHtcbiAgY29uc3QgY2lwaGVyID0gY3JlYXRlQ2lwaGVyaXYoQWxnb3JpdGhtLCBrZXksIGl2KTtcbiAgY29uc3QgYSA9IGNpcGhlci51cGRhdGUoY2xlYXJUZXh0KTtcbiAgY29uc3QgYiA9IGNpcGhlci5maW5hbCgpO1xuICBjb25zdCB0YWcgPSBjaXBoZXIuZ2V0QXV0aFRhZygpO1xuICByZXR1cm4gQnVmZmVyLmNvbmNhdChbYSwgYiwgdGFnXSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNyeXB0KFxuICBpdjogQnVmZmVyLFxuICBrZXk6IEJ1ZmZlcixcbiAgZGF0YTogQnVmZmVyXG4pOiBQcm9taXNlPEJ1ZmZlcj4ge1xuICBjb25zdCB0YWdTdGFydCA9IGRhdGEubGVuZ3RoIC0gVGFnU2l6ZTtcbiAgY29uc3QgY2lwaGVyVGV4dCA9IGRhdGEuc2xpY2UoMCwgdGFnU3RhcnQpO1xuICBjb25zdCB0YWcgPSBkYXRhLnNsaWNlKHRhZ1N0YXJ0KTtcbiAgY29uc3QgZGVjaXBoZXIgPSBjcmVhdGVEZWNpcGhlcml2KEFsZ29yaXRobSwga2V5LCBpdik7XG4gIGRlY2lwaGVyLnNldEF1dGhUYWcodGFnKTtcbiAgY29uc3QgYSA9IGRlY2lwaGVyLnVwZGF0ZShjaXBoZXJUZXh0KTtcbiAgY29uc3QgYiA9IGRlY2lwaGVyLmZpbmFsKCk7XG4gIHJldHVybiBCdWZmZXIuY29uY2F0KFthLCBiXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUl2KCk6IEJ1ZmZlciB7XG4gIHJldHVybiByYW5kb21CeXRlcyhJdlNpemUpO1xufVxuIiwiaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnYnVmZmVyJztcbmltcG9ydCAqIGFzIGNyeXB0byBmcm9tICdjcnlwdG8nO1xuXG5pbXBvcnQgKiBhcyBlY2llcyBmcm9tICdlY2llcy1nZXRoJztcbmltcG9ydCB7IGtlY2NhazI1NiB9IGZyb20gJ2pzLXNoYTMnO1xuaW1wb3J0ICogYXMgc2VjcDI1NmsxIGZyb20gJ3NlY3AyNTZrMSc7XG5cbmltcG9ydCB7IGhleFRvQnVmIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbXBvcnQgeyBJdlNpemUsIHN5bW1ldHJpYywgU3ltbWV0cmljS2V5U2l6ZSB9IGZyb20gJy4vc3ltbWV0cmljJztcblxuY29uc3QgRmxhZ3NMZW5ndGggPSAxO1xuY29uc3QgRmxhZ01hc2sgPSAzOyAvLyAwMDExXG5jb25zdCBJc1NpZ25lZE1hc2sgPSA0OyAvLyAwMTAwXG5jb25zdCBQYWRkaW5nVGFyZ2V0ID0gMjU2O1xuY29uc3QgU2lnbmF0dXJlTGVuZ3RoID0gNjU7XG5cbmV4cG9ydCBjb25zdCBQcml2YXRlS2V5U2l6ZSA9IDMyO1xuXG4vKipcbiAqIEVuY29kZSB0aGUgcGF5bG9hZCBwcmUtZW5jcnlwdGlvbi5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSBtZXNzYWdlUGF5bG9hZDogVGhlIHBheWxvYWQgdG8gaW5jbHVkZSBpbiB0aGUgbWVzc2FnZVxuICogQHBhcmFtIHNpZ1ByaXZLZXk6IElmIHNldCwgYSBzaWduYXR1cmUgdXNpbmcgdGhpcyBwcml2YXRlIGtleSBpcyBhZGRlZC5cbiAqIEByZXR1cm5zIFRoZSBlbmNvZGVkIHBheWxvYWQsIHJlYWR5IGZvciBlbmNyeXB0aW9uIHVzaW5nIHtAbGluayBlbmNyeXB0QXN5bW1ldHJpY31cbiAqIG9yIHtAbGluayBlbmNyeXB0U3ltbWV0cmljfS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyRW5jb2RlKFxuICBtZXNzYWdlUGF5bG9hZDogVWludDhBcnJheSxcbiAgc2lnUHJpdktleT86IFVpbnQ4QXJyYXlcbik6IHsgcGF5bG9hZDogVWludDhBcnJheTsgc2lnPzogU2lnbmF0dXJlIH0ge1xuICBsZXQgZW52ZWxvcGUgPSBCdWZmZXIuZnJvbShbMF0pOyAvLyBObyBmbGFnc1xuICBlbnZlbG9wZSA9IGFkZFBheWxvYWRTaXplRmllbGQoZW52ZWxvcGUsIG1lc3NhZ2VQYXlsb2FkKTtcbiAgZW52ZWxvcGUgPSBCdWZmZXIuY29uY2F0KFtlbnZlbG9wZSwgQnVmZmVyLmZyb20obWVzc2FnZVBheWxvYWQpXSk7XG5cbiAgLy8gQ2FsY3VsYXRlIHBhZGRpbmc6XG4gIGxldCByYXdTaXplID1cbiAgICBGbGFnc0xlbmd0aCArXG4gICAgZ2V0U2l6ZU9mUGF5bG9hZFNpemVGaWVsZChtZXNzYWdlUGF5bG9hZCkgK1xuICAgIG1lc3NhZ2VQYXlsb2FkLmxlbmd0aDtcblxuICBpZiAoc2lnUHJpdktleSkge1xuICAgIHJhd1NpemUgKz0gU2lnbmF0dXJlTGVuZ3RoO1xuICB9XG5cbiAgY29uc3QgcmVtYWluZGVyID0gcmF3U2l6ZSAlIFBhZGRpbmdUYXJnZXQ7XG4gIGNvbnN0IHBhZGRpbmdTaXplID0gUGFkZGluZ1RhcmdldCAtIHJlbWFpbmRlcjtcbiAgY29uc3QgcGFkID0gQnVmZmVyLmZyb20ocmFuZG9tQnl0ZXMocGFkZGluZ1NpemUpKTtcblxuICBpZiAoIXZhbGlkYXRlRGF0YUludGVncml0eShwYWQsIHBhZGRpbmdTaXplKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIGdlbmVyYXRlIHJhbmRvbSBwYWRkaW5nIG9mIHNpemUgJyArIHBhZGRpbmdTaXplKTtcbiAgfVxuXG4gIGVudmVsb3BlID0gQnVmZmVyLmNvbmNhdChbZW52ZWxvcGUsIHBhZF0pO1xuXG4gIGxldCBzaWc7XG4gIGlmIChzaWdQcml2S2V5KSB7XG4gICAgZW52ZWxvcGVbMF0gfD0gSXNTaWduZWRNYXNrO1xuICAgIGNvbnN0IGhhc2ggPSBrZWNjYWsyNTYoZW52ZWxvcGUpO1xuICAgIGNvbnN0IHMgPSBzZWNwMjU2azEuZWNkc2FTaWduKGhleFRvQnVmKGhhc2gpLCBzaWdQcml2S2V5KTtcbiAgICBlbnZlbG9wZSA9IEJ1ZmZlci5jb25jYXQoW2VudmVsb3BlLCBzLnNpZ25hdHVyZSwgQnVmZmVyLmZyb20oW3MucmVjaWRdKV0pO1xuICAgIHNpZyA9IHtcbiAgICAgIHNpZ25hdHVyZTogQnVmZmVyLmZyb20ocy5zaWduYXR1cmUpLFxuICAgICAgcHVibGljS2V5OiBnZXRQdWJsaWNLZXkoc2lnUHJpdktleSksXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7IHBheWxvYWQ6IGVudmVsb3BlLCBzaWcgfTtcbn1cblxuZXhwb3J0IHR5cGUgU2lnbmF0dXJlID0ge1xuICBzaWduYXR1cmU6IFVpbnQ4QXJyYXk7XG4gIHB1YmxpY0tleTogVWludDhBcnJheTtcbn07XG5cbi8qKlxuICogRGVjb2RlIGEgZGVjcnlwdGVkIHBheWxvYWQuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGVhckRlY29kZShcbiAgbWVzc2FnZTogVWludDhBcnJheSB8IEJ1ZmZlclxuKTogeyBwYXlsb2FkOiBVaW50OEFycmF5OyBzaWc/OiBTaWduYXR1cmUgfSB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IGJ1ZiA9IEJ1ZmZlci5mcm9tKG1lc3NhZ2UpO1xuICBsZXQgc3RhcnQgPSAxO1xuICBsZXQgc2lnO1xuXG4gIGNvbnN0IHNpemVPZlBheWxvYWRTaXplRmllbGQgPSBidWYucmVhZFVJbnRMRSgwLCAxKSAmIEZsYWdNYXNrO1xuXG4gIGlmIChzaXplT2ZQYXlsb2FkU2l6ZUZpZWxkID09PSAwKSByZXR1cm47XG5cbiAgY29uc3QgcGF5bG9hZFNpemUgPSBidWYucmVhZFVJbnRMRShzdGFydCwgc2l6ZU9mUGF5bG9hZFNpemVGaWVsZCk7XG4gIHN0YXJ0ICs9IHNpemVPZlBheWxvYWRTaXplRmllbGQ7XG4gIGNvbnN0IHBheWxvYWQgPSBidWYuc2xpY2Uoc3RhcnQsIHN0YXJ0ICsgcGF5bG9hZFNpemUpO1xuXG4gIGNvbnN0IGlzU2lnbmVkID0gKGJ1Zi5yZWFkVUludExFKDAsIDEpICYgSXNTaWduZWRNYXNrKSA9PSBJc1NpZ25lZE1hc2s7XG4gIGlmIChpc1NpZ25lZCkge1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IGdldFNpZ25hdHVyZShidWYpO1xuICAgIGNvbnN0IGhhc2ggPSBnZXRIYXNoKGJ1ZiwgaXNTaWduZWQpO1xuICAgIGNvbnN0IHB1YmxpY0tleSA9IGVjUmVjb3ZlclB1YktleShoYXNoLCBzaWduYXR1cmUpO1xuICAgIHNpZyA9IHsgc2lnbmF0dXJlLCBwdWJsaWNLZXkgfTtcbiAgfVxuXG4gIHJldHVybiB7IHBheWxvYWQsIHNpZyB9O1xufVxuXG4vKipcbiAqIFByb2NlZWQgd2l0aCBBc3ltbWV0cmljIGVuY3J5cHRpb24gb2YgdGhlIGRhdGEgYXMgcGVyIFsyNi9XQUtVLVBBWUxPQURdKGh0dHBzOi8vcmZjLnZhYy5kZXYvc3BlYy8yNi8pLlxuICogVGhlIGRhdGEgTVVTVCBiZSBmbGFncyB8IHBheWxvYWQtbGVuZ3RoIHwgcGF5bG9hZCB8IFtzaWduYXR1cmVdLlxuICogVGhlIHJldHVybmVkIHJlc3VsdCBjYW4gYmUgc2V0IHRvIGBXYWt1TWVzc2FnZS5wYXlsb2FkYC5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuY3J5cHRBc3ltbWV0cmljKFxuICBkYXRhOiBVaW50OEFycmF5IHwgQnVmZmVyLFxuICBwdWJsaWNLZXk6IFVpbnQ4QXJyYXkgfCBCdWZmZXIgfCBzdHJpbmdcbik6IFByb21pc2U8VWludDhBcnJheT4ge1xuICByZXR1cm4gZWNpZXMuZW5jcnlwdChoZXhUb0J1ZihwdWJsaWNLZXkpLCBCdWZmZXIuZnJvbShkYXRhKSk7XG59XG5cbi8qKlxuICogUHJvY2VlZCB3aXRoIEFzeW1tZXRyaWMgZGVjcnlwdGlvbiBvZiB0aGUgZGF0YSBhcyBwZXIgWzI2L1dBS1UtUEFZTE9BRF0oaHR0cHM6Ly9yZmMudmFjLmRldi9zcGVjLzI2LykuXG4gKiBUaGUgcmV0dXJuIGRhdGEgaXMgZXhwZWN0IHRvIGJlIGZsYWdzIHwgcGF5bG9hZC1sZW5ndGggfCBwYXlsb2FkIHwgW3NpZ25hdHVyZV0uXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNyeXB0QXN5bW1ldHJpYyhcbiAgcGF5bG9hZDogVWludDhBcnJheSB8IEJ1ZmZlcixcbiAgcHJpdktleTogVWludDhBcnJheSB8IEJ1ZmZlclxuKTogUHJvbWlzZTxVaW50OEFycmF5PiB7XG4gIHJldHVybiBlY2llcy5kZWNyeXB0KEJ1ZmZlci5mcm9tKHByaXZLZXkpLCBCdWZmZXIuZnJvbShwYXlsb2FkKSk7XG59XG5cbi8qKlxuICogUHJvY2VlZCB3aXRoIFN5bW1ldHJpYyBlbmNyeXB0aW9uIG9mIHRoZSBkYXRhIGFzIHBlciBbMjYvV0FLVS1QQVlMT0FEXShodHRwczovL3JmYy52YWMuZGV2L3NwZWMvMjYvKS5cbiAqXG4gKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byBlbmNyeXB0LCBleHBlY3RlZCB0byBiZSBgZmxhZ3MgfCBwYXlsb2FkLWxlbmd0aCB8IHBheWxvYWQgfCBbc2lnbmF0dXJlXWAuXG4gKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gdXNlIGZvciBlbmNyeXB0aW9uLlxuICogQHJldHVybnMgVGhlIGRlY3J5cHRlZCBkYXRhLCBgY2lwaGVyVGV4dCB8IHRhZyB8IGl2YCBhbmQgY2FuIGJlIHNldCB0byBgV2FrdU1lc3NhZ2UucGF5bG9hZGAuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmNyeXB0U3ltbWV0cmljKFxuICBkYXRhOiBVaW50OEFycmF5IHwgQnVmZmVyLFxuICBrZXk6IFVpbnQ4QXJyYXkgfCBCdWZmZXIgfCBzdHJpbmdcbik6IFByb21pc2U8VWludDhBcnJheT4ge1xuICBjb25zdCBpdiA9IHN5bW1ldHJpYy5nZW5lcmF0ZUl2KCk7XG5cbiAgLy8gUmV0dXJucyBgY2lwaGVyIHwgdGFnYFxuICBjb25zdCBjaXBoZXIgPSBhd2FpdCBzeW1tZXRyaWMuZW5jcnlwdChpdiwgaGV4VG9CdWYoa2V5KSwgQnVmZmVyLmZyb20oZGF0YSkpO1xuICByZXR1cm4gQnVmZmVyLmNvbmNhdChbY2lwaGVyLCBCdWZmZXIuZnJvbShpdildKTtcbn1cblxuLyoqXG4gKiBQcm9jZWVkIHdpdGggU3ltbWV0cmljIGRlY3J5cHRpb24gb2YgdGhlIGRhdGEgYXMgcGVyIFsyNi9XQUtVLVBBWUxPQURdKGh0dHBzOi8vcmZjLnZhYy5kZXYvc3BlYy8yNi8pLlxuICpcbiAqIEBwYXJhbSBwYXlsb2FkIFRoZSBjaXBoZXIgZGF0YSwgaXQgaXMgZXhwZWN0ZWQgdG8gYmUgYGNpcGhlclRleHQgfCB0YWcgfCBpdmAuXG4gKiBAcGFyYW0ga2V5IFRoZSBrZXkgdG8gdXNlIGZvciBkZWNyeXB0aW9uLlxuICogQHJldHVybnMgVGhlIGRlY3J5cHRlZCBkYXRhLCBleHBlY3RlZCB0byBiZSBgZmxhZ3MgfCBwYXlsb2FkLWxlbmd0aCB8IHBheWxvYWQgfCBbc2lnbmF0dXJlXWAuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWNyeXB0U3ltbWV0cmljKFxuICBwYXlsb2FkOiBVaW50OEFycmF5IHwgQnVmZmVyLFxuICBrZXk6IFVpbnQ4QXJyYXkgfCBCdWZmZXIgfCBzdHJpbmdcbik6IFByb21pc2U8VWludDhBcnJheT4ge1xuICBjb25zdCBkYXRhID0gQnVmZmVyLmZyb20ocGF5bG9hZCk7XG4gIGNvbnN0IGl2U3RhcnQgPSBkYXRhLmxlbmd0aCAtIEl2U2l6ZTtcbiAgY29uc3QgY2lwaGVyID0gZGF0YS5zbGljZSgwLCBpdlN0YXJ0KTtcbiAgY29uc3QgaXYgPSBkYXRhLnNsaWNlKGl2U3RhcnQpO1xuXG4gIHJldHVybiBzeW1tZXRyaWMuZGVjcnlwdChpdiwgaGV4VG9CdWYoa2V5KSwgY2lwaGVyKTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIG5ldyBwcml2YXRlIGtleSB0byBiZSB1c2VkIGZvciBhc3ltbWV0cmljIGVuY3J5cHRpb24uXG4gKlxuICogVXNlIHtAbGluayBnZXRQdWJsaWNLZXl9IHRvIGdldCB0aGUgY29ycmVzcG9uZGluZyBQdWJsaWMgS2V5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVQcml2YXRlS2V5KCk6IFVpbnQ4QXJyYXkge1xuICByZXR1cm4gcmFuZG9tQnl0ZXMoUHJpdmF0ZUtleVNpemUpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlIGEgbmV3IHN5bW1ldHJpYyBrZXkgdG8gYmUgdXNlZCBmb3Igc3ltbWV0cmljIGVuY3J5cHRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVN5bW1ldHJpY0tleSgpOiBVaW50OEFycmF5IHtcbiAgcmV0dXJuIHJhbmRvbUJ5dGVzKFN5bW1ldHJpY0tleVNpemUpO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgcHVibGljIGtleSBmb3IgdGhlIGdpdmVuIHByaXZhdGUga2V5LCB0byBiZSB1c2VkIGZvciBhc3ltbWV0cmljXG4gKiBlbmNyeXB0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHVibGljS2V5KHByaXZhdGVLZXk6IFVpbnQ4QXJyYXkgfCBCdWZmZXIpOiBVaW50OEFycmF5IHtcbiAgcmV0dXJuIHNlY3AyNTZrMS5wdWJsaWNLZXlDcmVhdGUocHJpdmF0ZUtleSwgZmFsc2UpO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBmbGFncyAmIGF1eGlsaWFyeS1maWVsZCBhcyBwZXIgWzI2L1dBS1UtUEFZTE9BRF0oaHR0cHM6Ly9yZmMudmFjLmRldi9zcGVjLzI2LykuXG4gKi9cbmZ1bmN0aW9uIGFkZFBheWxvYWRTaXplRmllbGQobXNnOiBCdWZmZXIsIHBheWxvYWQ6IFVpbnQ4QXJyYXkpOiBCdWZmZXIge1xuICBjb25zdCBmaWVsZFNpemUgPSBnZXRTaXplT2ZQYXlsb2FkU2l6ZUZpZWxkKHBheWxvYWQpO1xuICBsZXQgZmllbGQgPSBCdWZmZXIuYWxsb2MoNCk7XG4gIGZpZWxkLndyaXRlVUludDMyTEUocGF5bG9hZC5sZW5ndGgsIDApO1xuICBmaWVsZCA9IGZpZWxkLnNsaWNlKDAsIGZpZWxkU2l6ZSk7XG4gIG1zZyA9IEJ1ZmZlci5jb25jYXQoW21zZywgZmllbGRdKTtcbiAgbXNnWzBdIHw9IGZpZWxkU2l6ZTtcbiAgcmV0dXJuIG1zZztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzaXplIG9mIHRoZSBhdXhpbGlhcnktZmllbGQgd2hpY2ggaW4gdHVybnMgY29udGFpbnMgdGhlIHBheWxvYWQgc2l6ZVxuICovXG5mdW5jdGlvbiBnZXRTaXplT2ZQYXlsb2FkU2l6ZUZpZWxkKHBheWxvYWQ6IFVpbnQ4QXJyYXkpOiBudW1iZXIge1xuICBsZXQgcyA9IDE7XG4gIGZvciAobGV0IGkgPSBwYXlsb2FkLmxlbmd0aDsgaSA+PSAyNTY7IGkgLz0gMjU2KSB7XG4gICAgcysrO1xuICB9XG4gIHJldHVybiBzO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZURhdGFJbnRlZ3JpdHkoXG4gIHZhbHVlOiBVaW50OEFycmF5LFxuICBleHBlY3RlZFNpemU6IG51bWJlclxuKTogYm9vbGVhbiB7XG4gIGlmICh2YWx1ZS5sZW5ndGggIT09IGV4cGVjdGVkU2l6ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiAhKFxuICAgIGV4cGVjdGVkU2l6ZSA+IDMgJiYgQnVmZmVyLmZyb20odmFsdWUpLmVxdWFscyhCdWZmZXIuYWxsb2ModmFsdWUubGVuZ3RoKSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2lnbmF0dXJlKG1lc3NhZ2U6IEJ1ZmZlcik6IEJ1ZmZlciB7XG4gIHJldHVybiBtZXNzYWdlLnNsaWNlKG1lc3NhZ2UubGVuZ3RoIC0gU2lnbmF0dXJlTGVuZ3RoLCBtZXNzYWdlLmxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIGdldEhhc2gobWVzc2FnZTogQnVmZmVyLCBpc1NpZ25lZDogYm9vbGVhbik6IHN0cmluZyB7XG4gIGlmIChpc1NpZ25lZCkge1xuICAgIHJldHVybiBrZWNjYWsyNTYobWVzc2FnZS5zbGljZSgwLCBtZXNzYWdlLmxlbmd0aCAtIFNpZ25hdHVyZUxlbmd0aCkpO1xuICB9XG4gIHJldHVybiBrZWNjYWsyNTYobWVzc2FnZSk7XG59XG5cbmZ1bmN0aW9uIGVjUmVjb3ZlclB1YktleShtZXNzYWdlSGFzaDogc3RyaW5nLCBzaWduYXR1cmU6IEJ1ZmZlcik6IFVpbnQ4QXJyYXkge1xuICBjb25zdCByZWNvdmVyeSA9IHNpZ25hdHVyZS5zbGljZSg2NCkucmVhZEludEJFKDAsIDEpO1xuICByZXR1cm4gc2VjcDI1NmsxLmVjZHNhUmVjb3ZlcihcbiAgICBzaWduYXR1cmUuc2xpY2UoMCwgNjQpLFxuICAgIHJlY292ZXJ5LFxuICAgIGhleFRvQnVmKG1lc3NhZ2VIYXNoKSxcbiAgICBmYWxzZVxuICApO1xufVxuXG5mdW5jdGlvbiByYW5kb21CeXRlcyhsZW5ndGg6IG51bWJlcik6IFVpbnQ4QXJyYXkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93ICYmIHdpbmRvdy5jcnlwdG8pIHtcbiAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyYXkpO1xuICAgIHJldHVybiBhcnJheTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3J5cHRvLnJhbmRvbUJ5dGVzKGxlbmd0aCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBzZWNvbmQgPSAxMDAwO1xuZXhwb3J0IGNvbnN0IG1pbnV0ZSA9IDYwICogc2Vjb25kO1xuXG4vKipcbiAqIFJlbGF5Q29kZWMgaXMgdGhlIGxpYnAycCBpZGVudGlmaWVyIGZvciB0aGUgd2FrdSByZWxheSBwcm90b2NvbFxuICovXG5leHBvcnQgY29uc3QgUmVsYXlDb2RlY3MgPSBbXG4gICcvdmFjL3dha3UvcmVsYXkvMi4wLjAtYmV0YTInLFxuICAnL3ZhYy93YWt1L3JlbGF5LzIuMC4wJyxcbl07XG5cbmV4cG9ydCBjb25zdCBSZWxheVBpbmdDb250ZW50VG9waWMgPSAnL3JlbGF5LXBpbmcvMS9waW5nL251bGwnO1xuXG4vKipcbiAqIFJlbGF5R29zc2lwRmFjdG9yIGFmZmVjdHMgaG93IG1hbnkgcGVlcnMgd2Ugd2lsbCBlbWl0IGdvc3NpcCB0byBhdCBlYWNoIGhlYXJ0YmVhdC5cbiAqIFdlIHdpbGwgc2VuZCBnb3NzaXAgdG8gUmVsYXlHb3NzaXBGYWN0b3IgKiAodG90YWwgbnVtYmVyIG9mIG5vbi1tZXNoIHBlZXJzKSwgb3JcbiAqIFJlbGF5RGxhenksIHdoaWNoZXZlciBpcyBncmVhdGVyLlxuICovXG5leHBvcnQgY29uc3QgUmVsYXlHb3NzaXBGYWN0b3IgPSAwLjI1O1xuXG4vKipcbiAqIEdvc3NpcHN1YkhlYXJ0YmVhdEluaXRpYWxEZWxheSBpcyB0aGUgc2hvcnQgZGVsYXkgYmVmb3JlIHRoZSBoZWFydGJlYXQgdGltZXIgYmVnaW5zXG4gKiBhZnRlciB0aGUgcm91dGVyIGlzIGluaXRpYWxpemVkLlxuICovXG5leHBvcnQgY29uc3QgUmVsYXlIZWFydGJlYXRJbml0aWFsRGVsYXkgPSAxMDA7XG5cbi8qKlxuICogUmVsYXlIZWFydGJlYXRJbnRlcnZhbCBjb250cm9scyB0aGUgdGltZSBiZXR3ZWVuIGhlYXJ0YmVhdHMuXG4gKi9cbmV4cG9ydCBjb25zdCBSZWxheUhlYXJ0YmVhdEludGVydmFsID0gc2Vjb25kO1xuXG4vKipcbiAqIFJlbGF5UHJ1bmVQZWVycyBjb250cm9scyB0aGUgbnVtYmVyIG9mIHBlZXJzIHRvIGluY2x1ZGUgaW4gcHJ1bmUgUGVlciBlWGNoYW5nZS5cbiAqIFdoZW4gd2UgcHJ1bmUgYSBwZWVyIHRoYXQncyBlbGlnaWJsZSBmb3IgUFggKGhhcyBhIGdvb2Qgc2NvcmUsIGV0YyksIHdlIHdpbGwgdHJ5IHRvXG4gKiBzZW5kIHRoZW0gc2lnbmVkIHBlZXIgcmVjb3JkcyBmb3IgdXAgdG8gUmVsYXlQcnVuZVBlZXJzIG90aGVyIHBlZXJzIHRoYXQgd2VcbiAqIGtub3cgb2YuXG4gKi9cbmV4cG9ydCBjb25zdCBSZWxheVBydW5lUGVlcnMgPSAxNjtcblxuLyoqXG4gKiBSZWxheVBydW5lQmFja29mZiBjb250cm9scyB0aGUgYmFja29mZiB0aW1lIGZvciBwcnVuZWQgcGVlcnMuIFRoaXMgaXMgaG93IGxvbmdcbiAqIGEgcGVlciBtdXN0IHdhaXQgYmVmb3JlIGF0dGVtcHRpbmcgdG8gZ3JhZnQgaW50byBvdXIgbWVzaCBhZ2FpbiBhZnRlciBiZWluZyBwcnVuZWQuXG4gKiBXaGVuIHBydW5pbmcgYSBwZWVyLCB3ZSBzZW5kIHRoZW0gb3VyIHZhbHVlIG9mIFJlbGF5UHJ1bmVCYWNrb2ZmIHNvIHRoZXkga25vd1xuICogdGhlIG1pbmltdW0gdGltZSB0byB3YWl0LiBQZWVycyBydW5uaW5nIG9sZGVyIHZlcnNpb25zIG1heSBub3Qgc2VuZCBhIGJhY2tvZmYgdGltZSxcbiAqIHNvIGlmIHdlIHJlY2VpdmUgYSBwcnVuZSBtZXNzYWdlIHdpdGhvdXQgb25lLCB3ZSB3aWxsIHdhaXQgYXQgbGVhc3QgUmVsYXlQcnVuZUJhY2tvZmZcbiAqIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHJlLWdyYWZ0LlxuICovXG5leHBvcnQgY29uc3QgUmVsYXlQcnVuZUJhY2tvZmYgPSBtaW51dGU7XG5cbi8qKlxuICogUmVsYXlGYW5vdXRUVEwgY29udHJvbHMgaG93IGxvbmcgd2Uga2VlcCB0cmFjayBvZiB0aGUgZmFub3V0IHN0YXRlLiBJZiBpdCdzIGJlZW5cbiAqIFJlbGF5RmFub3V0VFRMIHNpbmNlIHdlJ3ZlIHB1Ymxpc2hlZCB0byBhIHRvcGljIHRoYXQgd2UncmUgbm90IHN1YnNjcmliZWQgdG8sXG4gKiB3ZSdsbCBkZWxldGUgdGhlIGZhbm91dCBtYXAgZm9yIHRoYXQgdG9waWMuXG4gKi9cbmV4cG9ydCBjb25zdCBSZWxheUZhbm91dFRUTCA9IG1pbnV0ZTtcblxuLyoqXG4gKiBSZWxheU9wcG9ydHVuaXN0aWNHcmFmdFRpY2tzIGlzIHRoZSBudW1iZXIgb2YgaGVhcnRiZWF0IHRpY2tzIGZvciBhdHRlbXB0aW5nIHRvIGltcHJvdmUgdGhlIG1lc2hcbiAqIHdpdGggb3Bwb3J0dW5pc3RpYyBncmFmdGluZy4gRXZlcnkgUmVsYXlPcHBvcnR1bmlzdGljR3JhZnRUaWNrcyB3ZSB3aWxsIGF0dGVtcHQgdG8gc2VsZWN0IHNvbWVcbiAqIGhpZ2gtc2NvcmluZyBtZXNoIHBlZXJzIHRvIHJlcGxhY2UgbG93ZXItc2NvcmluZyBvbmVzLCBpZiB0aGUgbWVkaWFuIHNjb3JlIG9mIG91ciBtZXNoIHBlZXJzIGZhbGxzXG4gKiBiZWxvdyBhIHRocmVzaG9sZFxuICovXG5leHBvcnQgY29uc3QgUmVsYXlPcHBvcnR1bmlzdGljR3JhZnRUaWNrcyA9IDYwO1xuXG4vKipcbiAqIFJlbGF5T3Bwb3J0dW5pc3RpY0dyYWZ0UGVlcnMgaXMgdGhlIG51bWJlciBvZiBwZWVycyB0byBvcHBvcnR1bmlzdGljYWxseSBncmFmdC5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlbGF5T3Bwb3J0dW5pc3RpY0dyYWZ0UGVlcnMgPSAyO1xuXG4vKipcbiAqIFJlbGF5TWF4SUhhdmVMZW5ndGggaXMgdGhlIG1heGltdW0gbnVtYmVyIG9mIG1lc3NhZ2VzIHRvIGluY2x1ZGUgaW4gYW4gSUhBVkUgbWVzc2FnZS5cbiAqIEFsc28gY29udHJvbHMgdGhlIG1heGltdW0gbnVtYmVyIG9mIElIQVZFIGlkcyB3ZSB3aWxsIGFjY2VwdCBhbmQgcmVxdWVzdCB3aXRoIElXQU5UIGZyb20gYVxuICogcGVlciB3aXRoaW4gYSBoZWFydGJlYXQsIHRvIHByb3RlY3QgZnJvbSBJSEFWRSBmbG9vZHMuIFlvdSBzaG91bGQgYWRqdXN0IHRoaXMgdmFsdWUgZnJvbSB0aGVcbiAqIGRlZmF1bHQgaWYgeW91ciBzeXN0ZW0gaXMgcHVzaGluZyBtb3JlIHRoYW4gNTAwMCBtZXNzYWdlcyBpbiBHb3NzaXBzdWJIaXN0b3J5R29zc2lwIGhlYXJ0YmVhdHM7XG4gKiB3aXRoIHRoZSBkZWZhdWx0cyB0aGlzIGlzIDE2NjYgbWVzc2FnZXMvcy5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlbGF5TWF4SUhhdmVMZW5ndGggPSA1MDAwO1xuIiwiaW1wb3J0IEdvc3NpcHN1YiBmcm9tICdsaWJwMnAtZ29zc2lwc3ViJztcbmltcG9ydCB7IHNodWZmbGUgfSBmcm9tICdsaWJwMnAtZ29zc2lwc3ViL3NyYy91dGlscyc7XG5cbmltcG9ydCB7IFJlbGF5Q29kZWNzIH0gZnJvbSAnLi9pbmRleCc7XG5cbi8qKlxuICogR2l2ZW4gYSB0b3BpYywgcmV0dXJucyB1cCB0byBjb3VudCBwZWVycyBzdWJzY3JpYmVkIHRvIHRoYXQgdG9waWNcbiAqIHRoYXQgcGFzcyBhbiBvcHRpb25hbCBmaWx0ZXIgZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge0dvc3NpcHN1Yn0gcm91dGVyXG4gKiBAcGFyYW0ge1N0cmluZ30gdG9waWNcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2ZpbHRlcl0gYSBmdW5jdGlvbiB0byBmaWx0ZXIgYWNjZXB0YWJsZSBwZWVyc1xuICogQHJldHVybnMge1NldDxzdHJpbmc+fVxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJlbGF5UGVlcnMoXG4gIHJvdXRlcjogR29zc2lwc3ViLFxuICB0b3BpYzogc3RyaW5nLFxuICBjb3VudDogbnVtYmVyLFxuICBmaWx0ZXI6IChpZDogc3RyaW5nKSA9PiBib29sZWFuID0gKCk6IGJvb2xlYW4gPT4gdHJ1ZVxuKTogU2V0PHN0cmluZz4ge1xuICBjb25zdCBwZWVyc0luVG9waWMgPSByb3V0ZXIudG9waWNzLmdldCh0b3BpYyk7XG4gIGlmICghcGVlcnNJblRvcGljKSB7XG4gICAgcmV0dXJuIG5ldyBTZXQoKTtcbiAgfVxuXG4gIC8vIEFkZHMgYWxsIHBlZXJzIHVzaW5nIG91ciBwcm90b2NvbFxuICAvLyB0aGF0IGFsc28gcGFzcyB0aGUgZmlsdGVyIGZ1bmN0aW9uXG4gIGxldCBwZWVyczogc3RyaW5nW10gPSBbXTtcbiAgcGVlcnNJblRvcGljLmZvckVhY2goKGlkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBwZWVyU3RyZWFtcyA9IHJvdXRlci5wZWVycy5nZXQoaWQpO1xuICAgIGlmICghcGVlclN0cmVhbXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFJlbGF5Q29kZWNzLmluY2x1ZGVzKHBlZXJTdHJlYW1zLnByb3RvY29sKSAmJiBmaWx0ZXIoaWQpKSB7XG4gICAgICBwZWVycy5wdXNoKGlkKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFBzZXVkby1yYW5kb21seSBzaHVmZmxlcyBwZWVyc1xuICBwZWVycyA9IHNodWZmbGUocGVlcnMpO1xuICBpZiAoY291bnQgPiAwICYmIHBlZXJzLmxlbmd0aCA+IGNvdW50KSB7XG4gICAgcGVlcnMgPSBwZWVycy5zbGljZSgwLCBjb3VudCk7XG4gIH1cblxuICByZXR1cm4gbmV3IFNldChwZWVycyk7XG59XG4iLCJpbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IExpYnAycCBmcm9tICdsaWJwMnAnO1xuaW1wb3J0IEdvc3NpcHN1YiBmcm9tICdsaWJwMnAtZ29zc2lwc3ViJztcbmltcG9ydCB7IEFkZHJJbmZvLCBNZXNzYWdlSWRGdW5jdGlvbiB9IGZyb20gJ2xpYnAycC1nb3NzaXBzdWIvc3JjL2ludGVyZmFjZXMnO1xuaW1wb3J0IHsgTWVzc2FnZUNhY2hlIH0gZnJvbSAnbGlicDJwLWdvc3NpcHN1Yi9zcmMvbWVzc2FnZS1jYWNoZSc7XG5pbXBvcnQgeyBSUEMgfSBmcm9tICdsaWJwMnAtZ29zc2lwc3ViL3NyYy9tZXNzYWdlL3JwYyc7XG5pbXBvcnQge1xuICBQZWVyU2NvcmVQYXJhbXMsXG4gIFBlZXJTY29yZVRocmVzaG9sZHMsXG59IGZyb20gJ2xpYnAycC1nb3NzaXBzdWIvc3JjL3Njb3JlJztcbmltcG9ydCB7XG4gIGNyZWF0ZUdvc3NpcFJwYyxcbiAgbWVzc2FnZUlkVG9TdHJpbmcsXG4gIHNodWZmbGUsXG59IGZyb20gJ2xpYnAycC1nb3NzaXBzdWIvc3JjL3V0aWxzJztcbmltcG9ydCB7IEluTWVzc2FnZSB9IGZyb20gJ2xpYnAycC1pbnRlcmZhY2VzL3NyYy9wdWJzdWInO1xuaW1wb3J0IHsgU2lnbmF0dXJlUG9saWN5IH0gZnJvbSAnbGlicDJwLWludGVyZmFjZXMvc3JjL3B1YnN1Yi9zaWduYXR1cmUtcG9saWN5JztcbmltcG9ydCBQZWVySWQgZnJvbSAncGVlci1pZCc7XG5cbmltcG9ydCB7IGhleFRvQnVmIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgQ3JlYXRlT3B0aW9ucywgRGVmYXVsdFB1YlN1YlRvcGljIH0gZnJvbSAnLi4vd2FrdSc7XG5pbXBvcnQgeyBEZWNyeXB0aW9uTWV0aG9kLCBXYWt1TWVzc2FnZSB9IGZyb20gJy4uL3dha3VfbWVzc2FnZSc7XG5cbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBSZWxheUNvZGVjcyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGdldFJlbGF5UGVlcnMgfSBmcm9tICcuL2dldF9yZWxheV9wZWVycyc7XG5pbXBvcnQgeyBSZWxheUhlYXJ0YmVhdCB9IGZyb20gJy4vcmVsYXlfaGVhcnRiZWF0JztcblxuY29uc3QgZGJnID0gZGVidWcoJ3dha3U6cmVsYXknKTtcblxuZXhwb3J0IHsgUmVsYXlDb2RlY3MgfTtcblxuLyoqXG4gKiBTZWUgY29uc3RydWN0b3IgbGlicDJwLWdvc3NpcHN1YiBbQVBJXShodHRwczovL2dpdGh1Yi5jb20vQ2hhaW5TYWZlL2pzLWxpYnAycC1nb3NzaXBzdWIjYXBpKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHb3NzaXBPcHRpb25zIHtcbiAgZW1pdFNlbGY6IGJvb2xlYW47XG4gIGdvc3NpcEluY29taW5nOiBib29sZWFuO1xuICBmYWxsYmFja1RvRmxvb2RzdWI6IGJvb2xlYW47XG4gIGZsb29kUHVibGlzaDogYm9vbGVhbjtcbiAgZG9QWDogYm9vbGVhbjtcbiAgbXNnSWRGbjogTWVzc2FnZUlkRnVuY3Rpb247XG4gIG1lc3NhZ2VDYWNoZTogTWVzc2FnZUNhY2hlO1xuICAvLyBUaGlzIG9wdGlvbiBpcyBhbHdheXMgb3ZlcnJpZGRlblxuICAvLyBnbG9iYWxTaWduYXR1cmVQb2xpY3k6IHN0cmluZztcbiAgc2NvcmVQYXJhbXM6IFBhcnRpYWw8UGVlclNjb3JlUGFyYW1zPjtcbiAgc2NvcmVUaHJlc2hvbGRzOiBQYXJ0aWFsPFBlZXJTY29yZVRocmVzaG9sZHM+O1xuICBkaXJlY3RQZWVyczogQWRkckluZm9bXTtcbiAgRDogbnVtYmVyO1xuICBEbG86IG51bWJlcjtcbiAgRGhpOiBudW1iZXI7XG4gIERzY29yZTogbnVtYmVyO1xuICBEb3V0OiBudW1iZXI7XG4gIERsYXp5OiBudW1iZXI7XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgW1dha3UgdjIgUmVsYXkgcHJvdG9jb2xde0BsaW5rIGh0dHBzOi8vcmZjLnZhYy5kZXYvc3BlYy8xMS99LlxuICogTXVzdCBiZSBwYXNzZWQgYXMgYSBgcHVic3ViYCBtb2R1bGUgdG8gYSB7TGlicDJwfSBpbnN0YW5jZS5cbiAqXG4gKiBAaW1wbGVtZW50cyB7cmVxdWlyZSgnbGlicDJwLWludGVyZmFjZXMvc3JjL3B1YnN1YicpfVxuICogQG5vSW5oZXJpdERvY1xuICovXG5leHBvcnQgY2xhc3MgV2FrdVJlbGF5IGV4dGVuZHMgR29zc2lwc3ViIHtcbiAgaGVhcnRiZWF0OiBSZWxheUhlYXJ0YmVhdDtcbiAgcHViU3ViVG9waWM6IHN0cmluZztcblxuICBwdWJsaWMgZGVjcnlwdGlvbktleXM6IE1hcDxcbiAgICBVaW50OEFycmF5LFxuICAgIHsgbWV0aG9kPzogRGVjcnlwdGlvbk1ldGhvZDsgY29udGVudFRvcGljcz86IHN0cmluZ1tdIH1cbiAgPjtcblxuICAvKipcbiAgICogb2JzZXJ2ZXJzIGNhbGxlZCB3aGVuIHJlY2VpdmluZyBuZXcgbWVzc2FnZS5cbiAgICogT2JzZXJ2ZXJzIHVuZGVyIGtleSBgXCJcImAgYXJlIGFsd2F5cyBjYWxsZWQuXG4gICAqL1xuICBwdWJsaWMgb2JzZXJ2ZXJzOiB7XG4gICAgW2NvbnRlbnRUb3BpYzogc3RyaW5nXTogU2V0PChtZXNzYWdlOiBXYWt1TWVzc2FnZSkgPT4gdm9pZD47XG4gIH07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgbGlicDJwOiBMaWJwMnAsXG4gICAgb3B0aW9ucz86IFBhcnRpYWw8Q3JlYXRlT3B0aW9ucyAmIEdvc3NpcE9wdGlvbnM+XG4gICkge1xuICAgIHN1cGVyKFxuICAgICAgbGlicDJwLFxuICAgICAgT2JqZWN0LmFzc2lnbihvcHRpb25zLCB7XG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IG5vIHNpZ25hdHVyZSBpcyBpbmNsdWRlZCBub3IgZXhwZWN0ZWQgaW4gdGhlIG1lc3NhZ2VzLlxuICAgICAgICBnbG9iYWxTaWduYXR1cmVQb2xpY3k6IFNpZ25hdHVyZVBvbGljeS5TdHJpY3ROb1NpZ24sXG4gICAgICB9KVxuICAgICk7XG5cbiAgICB0aGlzLmhlYXJ0YmVhdCA9IG5ldyBSZWxheUhlYXJ0YmVhdCh0aGlzKTtcbiAgICB0aGlzLm9ic2VydmVycyA9IHt9O1xuICAgIHRoaXMuZGVjcnlwdGlvbktleXMgPSBuZXcgTWFwKCk7XG5cbiAgICBjb25zdCBtdWx0aWNvZGVjcyA9IGNvbnN0YW50cy5SZWxheUNvZGVjcztcblxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgeyBtdWx0aWNvZGVjcyB9KTtcblxuICAgIHRoaXMucHViU3ViVG9waWMgPSBvcHRpb25zPy5wdWJTdWJUb3BpYyB8fCBEZWZhdWx0UHViU3ViVG9waWM7XG5cbiAgICBvcHRpb25zPy5kZWNyeXB0aW9uS2V5cz8uZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICB0aGlzLmFkZERlY3J5cHRpb25LZXkoa2V5KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3VudHMgdGhlIGdvc3NpcHN1YiBwcm90b2NvbCBvbnRvIHRoZSBsaWJwMnAgbm9kZVxuICAgKiBhbmQgc3Vic2NyaWJlcyB0byB0aGUgZGVmYXVsdCB0b3BpYy5cbiAgICpcbiAgICogQG92ZXJyaWRlXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgcHVibGljIHN0YXJ0KCk6IHZvaWQge1xuICAgIHN1cGVyLnN0YXJ0KCk7XG4gICAgdGhpcy5zdWJzY3JpYmUodGhpcy5wdWJTdWJUb3BpYyk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBXYWt1IG1lc3NhZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7V2FrdU1lc3NhZ2V9IG1lc3NhZ2VcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAqL1xuICBwdWJsaWMgYXN5bmMgc2VuZChtZXNzYWdlOiBXYWt1TWVzc2FnZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IG1zZyA9IG1lc3NhZ2UuZW5jb2RlKCk7XG4gICAgYXdhaXQgc3VwZXIucHVibGlzaCh0aGlzLnB1YlN1YlRvcGljLCBCdWZmZXIuZnJvbShtc2cpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIGRlY3J5cHRpb24ga2V5IHRvIGF0dGVtcHQgZGVjcnlwdGlvbiBvZiByZWNlaXZlZCBtZXNzYWdlcy5cbiAgICogVGhpcyBjYW4gZWl0aGVyIGJlIGEgcHJpdmF0ZSBrZXkgZm9yIGFzeW1tZXRyaWMgZW5jcnlwdGlvbiBvciBhIHN5bW1ldHJpY1xuICAgKiBrZXkuIGBXYWt1UmVsYXlgIHdpbGwgYXR0ZW1wdCB0byBkZWNyeXB0IG1lc3NhZ2VzIHVzaW5nIGJvdGggbWV0aG9kcy5cbiAgICpcbiAgICogU3RyaW5ncyBtdXN0IGJlIGluIGhleCBmb3JtYXQuXG4gICAqL1xuICBhZGREZWNyeXB0aW9uS2V5KFxuICAgIGtleTogVWludDhBcnJheSB8IHN0cmluZyxcbiAgICBvcHRpb25zPzogeyBtZXRob2Q/OiBEZWNyeXB0aW9uTWV0aG9kOyBjb250ZW50VG9waWNzPzogc3RyaW5nW10gfVxuICApOiB2b2lkIHtcbiAgICB0aGlzLmRlY3J5cHRpb25LZXlzLnNldChoZXhUb0J1ZihrZXkpLCBvcHRpb25zID8/IHt9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSBkZWNyeXB0aW9uIGtleSB0aGF0IHdhcyB1c2VkIHRvIGF0dGVtcHQgZGVjcnlwdGlvbiBvZiByZWNlaXZlZFxuICAgKiBtZXNzYWdlcy5cbiAgICpcbiAgICogU3RyaW5ncyBtdXN0IGJlIGluIGhleCBmb3JtYXQuXG4gICAqL1xuICBkZWxldGVEZWNyeXB0aW9uS2V5KGtleTogVWludDhBcnJheSB8IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuZGVjcnlwdGlvbktleXMuZGVsZXRlKGhleFRvQnVmKGtleSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGFuIG9ic2VydmVyIG9mIG5ldyBtZXNzYWdlcyByZWNlaXZlZCB2aWEgd2FrdSByZWxheVxuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgY2FsbGVkIHdoZW4gYSBuZXcgbWVzc2FnZSBpcyByZWNlaXZlZCB2aWEgd2FrdSByZWxheVxuICAgKiBAcGFyYW0gY29udGVudFRvcGljcyBDb250ZW50IFRvcGljcyBmb3Igd2hpY2ggdGhlIGNhbGxiYWNrIHdpdGggYmUgY2FsbGVkLFxuICAgKiBhbGwgb2YgdGhlbSBpZiB1bmRlZmluZWQsIFtdIG9yIFtcIlwiLC4uXSBpcyBwYXNzZWQuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgYWRkT2JzZXJ2ZXIoXG4gICAgY2FsbGJhY2s6IChtZXNzYWdlOiBXYWt1TWVzc2FnZSkgPT4gdm9pZCxcbiAgICBjb250ZW50VG9waWNzOiBzdHJpbmdbXSA9IFtdXG4gICk6IHZvaWQge1xuICAgIGlmIChjb250ZW50VG9waWNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKCF0aGlzLm9ic2VydmVyc1snJ10pIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnNbJyddID0gbmV3IFNldCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5vYnNlcnZlcnNbJyddLmFkZChjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRlbnRUb3BpY3MuZm9yRWFjaCgoY29udGVudFRvcGljKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5vYnNlcnZlcnNbY29udGVudFRvcGljXSkge1xuICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzW2NvbnRlbnRUb3BpY10gPSBuZXcgU2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnNlcnZlcnNbY29udGVudFRvcGljXS5hZGQoY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBvYnNlcnZlciBvZiBuZXcgbWVzc2FnZXMgcmVjZWl2ZWQgdmlhIHdha3UgcmVsYXkuXG4gICAqIFVzZWZ1bCB0byBlbnN1cmUgdGhlIHNhbWUgb2JzZXJ2ZXIgaXMgbm90IHJlZ2lzdGVyZWQgc2V2ZXJhbCB0aW1lXG4gICAqIChlLmcgd2hlbiBsb2FkaW5nIFJlYWN0IGNvbXBvbmVudHMpXG4gICAqL1xuICBkZWxldGVPYnNlcnZlcihcbiAgICBjYWxsYmFjazogKG1lc3NhZ2U6IFdha3VNZXNzYWdlKSA9PiB2b2lkLFxuICAgIGNvbnRlbnRUb3BpY3M6IHN0cmluZ1tdID0gW11cbiAgKTogdm9pZCB7XG4gICAgaWYgKGNvbnRlbnRUb3BpY3MubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAodGhpcy5vYnNlcnZlcnNbJyddKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzWycnXS5kZWxldGUoY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZW50VG9waWNzLmZvckVhY2goKGNvbnRlbnRUb3BpYykgPT4ge1xuICAgICAgICBpZiAodGhpcy5vYnNlcnZlcnNbY29udGVudFRvcGljXSkge1xuICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzW2NvbnRlbnRUb3BpY10uZGVsZXRlKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgcmVsYXkgcGVlcnMgd2UgYXJlIGNvbm5lY3RlZCB0byBhbmQgd2Ugd291bGQgcHVibGlzaCBhIG1lc3NhZ2UgdG9cbiAgICovXG4gIGdldFBlZXJzKCk6IFNldDxzdHJpbmc+IHtcbiAgICByZXR1cm4gZ2V0UmVsYXlQZWVycyh0aGlzLCB0aGlzLnB1YlN1YlRvcGljLCB0aGlzLl9vcHRpb25zLkQsIChpZCkgPT4ge1xuICAgICAgLy8gRmlsdGVyIHBlZXJzIHdlIHdvdWxkIG5vdCBwdWJsaXNoIHRvXG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLnNjb3JlLnNjb3JlKGlkKSA+PSB0aGlzLl9vcHRpb25zLnNjb3JlVGhyZXNob2xkcy5wdWJsaXNoVGhyZXNob2xkXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byBhIHB1YnN1YiB0b3BpYyBhbmQgc3RhcnQgZW1pdHRpbmcgV2FrdSBtZXNzYWdlcyB0byBvYnNlcnZlcnMuXG4gICAqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3Vic2NyaWJlKHB1YlN1YlRvcGljOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLm9uKHB1YlN1YlRvcGljLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGRlY3J5cHRpb25LZXlzID0gQXJyYXkuZnJvbSh0aGlzLmRlY3J5cHRpb25LZXlzKS5tYXAoXG4gICAgICAgIChba2V5LCB7IG1ldGhvZCwgY29udGVudFRvcGljcyB9XSkgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICBjb250ZW50VG9waWNzLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIGRiZyhgTWVzc2FnZSByZWNlaXZlZCBvbiAke3B1YlN1YlRvcGljfWApO1xuICAgICAgV2FrdU1lc3NhZ2UuZGVjb2RlKGV2ZW50LmRhdGEsIGRlY3J5cHRpb25LZXlzKVxuICAgICAgICAudGhlbigod2FrdU1zZykgPT4ge1xuICAgICAgICAgIGlmICghd2FrdU1zZykge1xuICAgICAgICAgICAgZGJnKCdGYWlsZWQgdG8gZGVjb2RlIFdha3UgTWVzc2FnZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0aGlzLm9ic2VydmVyc1snJ10pIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzWycnXS5mb3JFYWNoKChjYWxsYmFja0ZuKSA9PiB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrRm4od2FrdU1zZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHdha3VNc2cuY29udGVudFRvcGljKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vYnNlcnZlcnNbd2FrdU1zZy5jb250ZW50VG9waWNdKSB7XG4gICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzW3dha3VNc2cuY29udGVudFRvcGljXS5mb3JFYWNoKChjYWxsYmFja0ZuKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tGbih3YWt1TXNnKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICBkYmcoJ0ZhaWxlZCB0byBkZWNvZGUgV2FrdSBNZXNzYWdlJywgZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgc3VwZXIuc3Vic2NyaWJlKHB1YlN1YlRvcGljKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBKb2luIHB1YnN1YiB0b3BpYy5cbiAgICogVGhpcyBpcyBwcmVzZW50IHRvIG92ZXJyaWRlIHRoZSBiZWhhdmlvciBvZiBHb3NzaXBzdWIgYW5kIHNob3VsZCBub3RcbiAgICogYmUgdXNlZCBieSBBUEkgQ29uc3VtZXJzXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9waWNcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgam9pbih0b3BpYzogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignV2FrdVJlbGF5UHViU3ViIGhhcyBub3Qgc3RhcnRlZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGZhbm91dFBlZXJzID0gdGhpcy5mYW5vdXQuZ2V0KHRvcGljKTtcbiAgICBpZiAoZmFub3V0UGVlcnMpIHtcbiAgICAgIC8vIHRoZXNlIHBlZXJzIGhhdmUgYSBzY29yZSBhYm92ZSB0aGUgcHVibGlzaCB0aHJlc2hvbGQsIHdoaWNoIG1heSBiZSBuZWdhdGl2ZVxuICAgICAgLy8gc28gZHJvcCB0aGUgb25lcyB3aXRoIGEgbmVnYXRpdmUgc2NvcmVcbiAgICAgIGZhbm91dFBlZXJzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnNjb3JlLnNjb3JlKGlkKSA8IDApIHtcbiAgICAgICAgICBmYW5vdXRQZWVycy5kZWxldGUoaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChmYW5vdXRQZWVycy5zaXplIDwgdGhpcy5fb3B0aW9ucy5EKSB7XG4gICAgICAgIC8vIHdlIG5lZWQgbW9yZSBwZWVyczsgZWFnZXIsIGFzIHRoaXMgd291bGQgZ2V0IGZpeGVkIGluIHRoZSBuZXh0IGhlYXJ0YmVhdFxuICAgICAgICBnZXRSZWxheVBlZXJzKFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgdG9waWMsXG4gICAgICAgICAgdGhpcy5fb3B0aW9ucy5EIC0gZmFub3V0UGVlcnMuc2l6ZSxcbiAgICAgICAgICAoaWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgICAgICAgICAgLy8gZmlsdGVyIG91ciBjdXJyZW50IHBlZXJzLCBkaXJlY3QgcGVlcnMsIGFuZCBwZWVycyB3aXRoIG5lZ2F0aXZlIHNjb3Jlc1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgIWZhbm91dFBlZXJzLmhhcyhpZCkgJiZcbiAgICAgICAgICAgICAgIXRoaXMuZGlyZWN0LmhhcyhpZCkgJiZcbiAgICAgICAgICAgICAgdGhpcy5zY29yZS5zY29yZShpZCkgPj0gMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICkuZm9yRWFjaCgoaWQpID0+IGZhbm91dFBlZXJzLmFkZChpZCkpO1xuICAgICAgfVxuICAgICAgdGhpcy5tZXNoLnNldCh0b3BpYywgZmFub3V0UGVlcnMpO1xuICAgICAgdGhpcy5mYW5vdXQuZGVsZXRlKHRvcGljKTtcbiAgICAgIHRoaXMubGFzdHB1Yi5kZWxldGUodG9waWMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwZWVycyA9IGdldFJlbGF5UGVlcnMoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHRvcGljLFxuICAgICAgICB0aGlzLl9vcHRpb25zLkQsXG4gICAgICAgIChpZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgICAgICAgLy8gZmlsdGVyIGRpcmVjdCBwZWVycyBhbmQgcGVlcnMgd2l0aCBuZWdhdGl2ZSBzY29yZVxuICAgICAgICAgIHJldHVybiAhdGhpcy5kaXJlY3QuaGFzKGlkKSAmJiB0aGlzLnNjb3JlLnNjb3JlKGlkKSA+PSAwO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdGhpcy5tZXNoLnNldCh0b3BpYywgcGVlcnMpO1xuICAgIH1cbiAgICB0aGlzLm1lc2guZ2V0KHRvcGljKT8uZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIHRoaXMubG9nKCdKT0lOOiBBZGQgbWVzaCBsaW5rIHRvICVzIGluICVzJywgaWQsIHRvcGljKTtcbiAgICAgIHRoaXMuX3NlbmRHcmFmdChpZCwgdG9waWMpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1Ymxpc2ggbWVzc2FnZXMuXG4gICAqIFRoaXMgaXMgcHJlc2VudCB0byBvdmVycmlkZSB0aGUgYmVoYXZpb3Igb2YgR29zc2lwc3ViIGFuZCBzaG91bGQgbm90XG4gICAqIGJlIHVzZWQgYnkgQVBJIENvbnN1bWVyc1xuICAgKlxuICAgKiBAaWdub3JlXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcGFyYW0ge0luTWVzc2FnZX0gbXNnXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgYXN5bmMgX3B1Ymxpc2gobXNnOiBJbk1lc3NhZ2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAobXNnLnJlY2VpdmVkRnJvbSAhPT0gdGhpcy5wZWVySWQudG9CNThTdHJpbmcoKSkge1xuICAgICAgdGhpcy5zY29yZS5kZWxpdmVyTWVzc2FnZShtc2cpO1xuICAgICAgdGhpcy5nb3NzaXBUcmFjZXIuZGVsaXZlck1lc3NhZ2UobXNnKTtcbiAgICB9XG5cbiAgICBjb25zdCBtc2dJRCA9IGF3YWl0IHRoaXMuZ2V0TXNnSWQobXNnKTtcbiAgICBjb25zdCBtc2dJZFN0ciA9IG1lc3NhZ2VJZFRvU3RyaW5nKG1zZ0lEKTtcbiAgICAvLyBwdXQgaW4gc2VlbiBjYWNoZVxuICAgIHRoaXMuc2VlbkNhY2hlLnB1dChtc2dJZFN0cik7XG5cbiAgICB0aGlzLm1lc3NhZ2VDYWNoZS5wdXQobXNnKTtcblxuICAgIGNvbnN0IHRvU2VuZCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIG1zZy50b3BpY0lEcy5mb3JFYWNoKCh0b3BpYykgPT4ge1xuICAgICAgY29uc3QgcGVlcnNJblRvcGljID0gdGhpcy50b3BpY3MuZ2V0KHRvcGljKTtcbiAgICAgIGlmICghcGVlcnNJblRvcGljKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gZGlyZWN0IHBlZXJzXG4gICAgICB0aGlzLmRpcmVjdC5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgICB0b1NlbmQuYWRkKGlkKTtcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgbWVzaFBlZXJzID0gdGhpcy5tZXNoLmdldCh0b3BpYyk7XG4gICAgICBpZiAoIW1lc2hQZWVycyB8fCAhbWVzaFBlZXJzLnNpemUpIHtcbiAgICAgICAgLy8gV2UgYXJlIG5vdCBpbiB0aGUgbWVzaCBmb3IgdG9waWMsIHVzZSBmYW5vdXQgcGVlcnNcbiAgICAgICAgbWVzaFBlZXJzID0gdGhpcy5mYW5vdXQuZ2V0KHRvcGljKTtcbiAgICAgICAgaWYgKCFtZXNoUGVlcnMpIHtcbiAgICAgICAgICAvLyBJZiB3ZSBhcmUgbm90IGluIHRoZSBmYW5vdXQsIHRoZW4gcGljayBwZWVycyBpbiB0b3BpYyBhYm92ZSB0aGUgcHVibGlzaFRocmVzaG9sZFxuICAgICAgICAgIGNvbnN0IHBlZXJzID0gZ2V0UmVsYXlQZWVycyh0aGlzLCB0b3BpYywgdGhpcy5fb3B0aW9ucy5ELCAoaWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIHRoaXMuc2NvcmUuc2NvcmUoaWQpID49XG4gICAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuc2NvcmVUaHJlc2hvbGRzLnB1Ymxpc2hUaHJlc2hvbGRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAocGVlcnMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIG1lc2hQZWVycyA9IHBlZXJzO1xuICAgICAgICAgICAgdGhpcy5mYW5vdXQuc2V0KHRvcGljLCBwZWVycyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lc2hQZWVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RvcmUgdGhlIGxhdGVzdCBwdWJsaXNoaW5nIHRpbWVcbiAgICAgICAgdGhpcy5sYXN0cHViLnNldCh0b3BpYywgdGhpcy5fbm93KCkpO1xuICAgICAgfVxuXG4gICAgICBtZXNoUGVlcnM/LmZvckVhY2goKHBlZXIpID0+IHtcbiAgICAgICAgdG9TZW5kLmFkZChwZWVyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vIFB1Ymxpc2ggbWVzc2FnZXMgdG8gcGVlcnNcbiAgICBjb25zdCBycGMgPSBjcmVhdGVHb3NzaXBScGMoW0dvc3NpcHN1Yi51dGlscy5ub3JtYWxpemVPdXRScGNNZXNzYWdlKG1zZyldKTtcbiAgICB0b1NlbmQuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGlmIChpZCA9PT0gbXNnLmZyb20pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fc2VuZFJwYyhpZCwgcnBjKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbWl0cyBnb3NzaXAgdG8gcGVlcnMgaW4gYSBwYXJ0aWN1bGFyIHRvcGljLlxuICAgKlxuICAgKiBUaGlzIGlzIHByZXNlbnQgdG8gb3ZlcnJpZGUgdGhlIGJlaGF2aW9yIG9mIEdvc3NpcHN1YiBhbmQgc2hvdWxkIG5vdFxuICAgKiBiZSB1c2VkIGJ5IEFQSSBDb25zdW1lcnNcbiAgICpcbiAgICogQGlnbm9yZVxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvcGljXG4gICAqIEBwYXJhbSB7U2V0PHN0cmluZz59IGV4Y2x1ZGUgcGVlcnMgdG8gZXhjbHVkZVxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIF9lbWl0R29zc2lwKHRvcGljOiBzdHJpbmcsIGV4Y2x1ZGU6IFNldDxzdHJpbmc+KTogdm9pZCB7XG4gICAgY29uc3QgbWVzc2FnZUlEcyA9IHRoaXMubWVzc2FnZUNhY2hlLmdldEdvc3NpcElEcyh0b3BpYyk7XG4gICAgaWYgKCFtZXNzYWdlSURzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHNodWZmbGUgdG8gZW1pdCBpbiByYW5kb20gb3JkZXJcbiAgICBzaHVmZmxlKG1lc3NhZ2VJRHMpO1xuXG4gICAgLy8gaWYgd2UgYXJlIGVtaXR0aW5nIG1vcmUgdGhhbiBHb3NzaXBzdWJNYXhJSGF2ZUxlbmd0aCBpZHMsIHRydW5jYXRlIHRoZSBsaXN0XG4gICAgaWYgKG1lc3NhZ2VJRHMubGVuZ3RoID4gY29uc3RhbnRzLlJlbGF5TWF4SUhhdmVMZW5ndGgpIHtcbiAgICAgIC8vIHdlIGRvIHRoZSB0cnVuY2F0aW9uICh3aXRoIHNodWZmbGluZykgcGVyIHBlZXIgYmVsb3dcbiAgICAgIHRoaXMubG9nKFxuICAgICAgICAndG9vIG1hbnkgbWVzc2FnZXMgZm9yIGdvc3NpcDsgd2lsbCB0cnVuY2F0ZSBJSEFWRSBsaXN0ICglZCBtZXNzYWdlcyknLFxuICAgICAgICBtZXNzYWdlSURzLmxlbmd0aFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBTZW5kIGdvc3NpcCB0byBHb3NzaXBGYWN0b3IgcGVlcnMgYWJvdmUgdGhyZXNob2xkIHdpdGggYSBtaW5pbXVtIG9mIERfbGF6eVxuICAgIC8vIEZpcnN0IHdlIGNvbGxlY3QgdGhlIHBlZXJzIGFib3ZlIGdvc3NpcFRocmVzaG9sZCB0aGF0IGFyZSBub3QgaW4gdGhlIGV4Y2x1ZGUgc2V0XG4gICAgLy8gYW5kIHRoZW4gcmFuZG9tbHkgc2VsZWN0IGZyb20gdGhhdCBzZXRcbiAgICAvLyBXZSBhbHNvIGV4Y2x1ZGUgZGlyZWN0IHBlZXJzLCBhcyB0aGVyZSBpcyBubyByZWFzb24gdG8gZW1pdCBnb3NzaXAgdG8gdGhlbVxuICAgIGNvbnN0IHBlZXJzVG9Hb3NzaXA6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgdG9waWNQZWVycyA9IHRoaXMudG9waWNzLmdldCh0b3BpYyk7XG4gICAgaWYgKCF0b3BpY1BlZXJzKSB7XG4gICAgICAvLyBubyB0b3BpYyBwZWVycywgbm8gZ29zc2lwXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRvcGljUGVlcnMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGNvbnN0IHBlZXJTdHJlYW1zID0gdGhpcy5wZWVycy5nZXQoaWQpO1xuICAgICAgaWYgKCFwZWVyU3RyZWFtcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgICFleGNsdWRlLmhhcyhpZCkgJiZcbiAgICAgICAgIXRoaXMuZGlyZWN0LmhhcyhpZCkgJiZcbiAgICAgICAgY29uc3RhbnRzLlJlbGF5Q29kZWNzLmluY2x1ZGVzKHBlZXJTdHJlYW1zLnByb3RvY29sKSAmJlxuICAgICAgICB0aGlzLnNjb3JlLnNjb3JlKGlkKSA+PSB0aGlzLl9vcHRpb25zLnNjb3JlVGhyZXNob2xkcy5nb3NzaXBUaHJlc2hvbGRcbiAgICAgICkge1xuICAgICAgICBwZWVyc1RvR29zc2lwLnB1c2goaWQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbGV0IHRhcmdldCA9IHRoaXMuX29wdGlvbnMuRGxhenk7XG4gICAgY29uc3QgZmFjdG9yID0gY29uc3RhbnRzLlJlbGF5R29zc2lwRmFjdG9yICogcGVlcnNUb0dvc3NpcC5sZW5ndGg7XG4gICAgaWYgKGZhY3RvciA+IHRhcmdldCkge1xuICAgICAgdGFyZ2V0ID0gZmFjdG9yO1xuICAgIH1cbiAgICBpZiAodGFyZ2V0ID4gcGVlcnNUb0dvc3NpcC5sZW5ndGgpIHtcbiAgICAgIHRhcmdldCA9IHBlZXJzVG9Hb3NzaXAubGVuZ3RoO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaHVmZmxlKHBlZXJzVG9Hb3NzaXApO1xuICAgIH1cbiAgICAvLyBFbWl0IHRoZSBJSEFWRSBnb3NzaXAgdG8gdGhlIHNlbGVjdGVkIHBlZXJzIHVwIHRvIHRoZSB0YXJnZXRcbiAgICBwZWVyc1RvR29zc2lwLnNsaWNlKDAsIHRhcmdldCkuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGxldCBwZWVyTWVzc2FnZUlEcyA9IG1lc3NhZ2VJRHM7XG4gICAgICBpZiAobWVzc2FnZUlEcy5sZW5ndGggPiBjb25zdGFudHMuUmVsYXlNYXhJSGF2ZUxlbmd0aCkge1xuICAgICAgICAvLyBzaHVmZmxlIGFuZCBzbGljZSBtZXNzYWdlIElEcyBwZXIgcGVlciBzbyB0aGF0IHdlIGVtaXQgYSBkaWZmZXJlbnQgc2V0IGZvciBlYWNoIHBlZXJcbiAgICAgICAgLy8gd2UgaGF2ZSBlbm91Z2ggcmVkdW5kYW5jeSBpbiB0aGUgc3lzdGVtIHRoYXQgdGhpcyB3aWxsIHNpZ25pZmljYW50bHkgaW5jcmVhc2UgdGhlIG1lc3NhZ2VcbiAgICAgICAgLy8gY292ZXJhZ2Ugd2hlbiB3ZSBkbyB0cnVuY2F0ZVxuICAgICAgICBwZWVyTWVzc2FnZUlEcyA9IHNodWZmbGUocGVlck1lc3NhZ2VJRHMuc2xpY2UoKSkuc2xpY2UoXG4gICAgICAgICAgMCxcbiAgICAgICAgICBjb25zdGFudHMuUmVsYXlNYXhJSGF2ZUxlbmd0aFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhpcy5fcHVzaEdvc3NpcChpZCwge1xuICAgICAgICB0b3BpY0lEOiB0b3BpYyxcbiAgICAgICAgbWVzc2FnZUlEczogcGVlck1lc3NhZ2VJRHMsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGEgUFJVTkUgY29udHJvbCBtZXNzYWdlIGZvciBhIHBlZXIgaW4gYSB0b3BpYy5cbiAgICogVGhpcyBpcyBwcmVzZW50IHRvIG92ZXJyaWRlIHRoZSBiZWhhdmlvciBvZiBHb3NzaXBzdWIgYW5kIHNob3VsZCBub3RcbiAgICogYmUgdXNlZCBieSBBUEkgQ29uc3VtZXJzXG4gICAqXG4gICAqIEBpZ25vcmVcbiAgICogQG92ZXJyaWRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9waWNcbiAgICogQHBhcmFtIHtib29sZWFufSBkb1BYXG4gICAqIEByZXR1cm5zIHtSUEMuSUNvbnRyb2xQcnVuZX1cbiAgICovXG4gIF9tYWtlUHJ1bmUoaWQ6IHN0cmluZywgdG9waWM6IHN0cmluZywgZG9QWDogYm9vbGVhbik6IFJQQy5JQ29udHJvbFBydW5lIHtcbiAgICAvLyBiYWNrb2ZmIGlzIG1lYXN1cmVkIGluIHNlY29uZHNcbiAgICAvLyBSZWxheVBydW5lQmFja29mZiBpcyBtZWFzdXJlZCBpbiBtaWxsaXNlY29uZHNcbiAgICBjb25zdCBiYWNrb2ZmID0gY29uc3RhbnRzLlJlbGF5UHJ1bmVCYWNrb2ZmIC8gMTAwMDtcbiAgICBjb25zdCBweDogUlBDLklQZWVySW5mb1tdID0gW107XG4gICAgaWYgKGRvUFgpIHtcbiAgICAgIC8vIHNlbGVjdCBwZWVycyBmb3IgUGVlciBlWGNoYW5nZVxuICAgICAgY29uc3QgcGVlcnMgPSBnZXRSZWxheVBlZXJzKFxuICAgICAgICB0aGlzLFxuICAgICAgICB0b3BpYyxcbiAgICAgICAgY29uc3RhbnRzLlJlbGF5UHJ1bmVQZWVycyxcbiAgICAgICAgKHhpZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgICAgICAgcmV0dXJuIHhpZCAhPT0gaWQgJiYgdGhpcy5zY29yZS5zY29yZSh4aWQpID49IDA7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBwZWVycy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgIC8vIHNlZSBpZiB3ZSBoYXZlIGEgc2lnbmVkIHJlY29yZCB0byBzZW5kIGJhY2s7IGlmIHdlIGRvbid0LCBqdXN0IHNlbmRcbiAgICAgICAgLy8gdGhlIHBlZXIgSUQgYW5kIGxldCB0aGUgcHJ1bmVkIHBlZXIgZmluZCB0aGVtIGluIHRoZSBESFQgLS0gd2UgY2FuJ3QgdHJ1c3RcbiAgICAgICAgLy8gdW5zaWduZWQgYWRkcmVzcyByZWNvcmRzIHRocm91Z2ggUFggYW55d2F5c1xuICAgICAgICAvLyBGaW5kaW5nIHNpZ25lZCByZWNvcmRzIGluIHRoZSBESFQgaXMgbm90IHN1cHBvcnRlZCBhdCB0aGUgdGltZSBvZiB3cml0aW5nIGluIGpzLWxpYnAycFxuICAgICAgICBjb25zdCBwZWVySWQgPSBQZWVySWQuY3JlYXRlRnJvbUI1OFN0cmluZyhwKTtcbiAgICAgICAgcHgucHVzaCh7XG4gICAgICAgICAgcGVlcklEOiBwZWVySWQudG9CeXRlcygpLFxuICAgICAgICAgIHNpZ25lZFBlZXJSZWNvcmQ6XG4gICAgICAgICAgICB0aGlzLl9saWJwMnAucGVlclN0b3JlLmFkZHJlc3NCb29rLmdldFJhd0VudmVsb3BlKHBlZXJJZCksXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0b3BpY0lEOiB0b3BpYyxcbiAgICAgIHBlZXJzOiBweCxcbiAgICAgIGJhY2tvZmY6IGJhY2tvZmYsXG4gICAgfTtcbiAgfVxufVxuIiwiLyoqXG4gKiBAaGlkZGVuXG4gKiBAbW9kdWxlXG4gKi9cblxuaW1wb3J0IEdvc3NpcHN1YiBmcm9tICdsaWJwMnAtZ29zc2lwc3ViJztcbmltcG9ydCB7IEhlYXJ0YmVhdCB9IGZyb20gJ2xpYnAycC1nb3NzaXBzdWIvc3JjL2hlYXJ0YmVhdCc7XG5pbXBvcnQgeyBzaHVmZmxlIH0gZnJvbSAnbGlicDJwLWdvc3NpcHN1Yi9zcmMvdXRpbHMnO1xuXG5pbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0UmVsYXlQZWVycyB9IGZyb20gJy4vZ2V0X3JlbGF5X3BlZXJzJztcblxuZXhwb3J0IGNsYXNzIFJlbGF5SGVhcnRiZWF0IGV4dGVuZHMgSGVhcnRiZWF0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBnb3NzaXBzdWJcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihnb3NzaXBzdWI6IEdvc3NpcHN1Yikge1xuICAgIHN1cGVyKGdvc3NpcHN1Yik7XG4gIH1cblxuICBzdGFydCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5faGVhcnRiZWF0VGltZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBoZWFydGJlYXQgPSB0aGlzLl9oZWFydGJlYXQuYmluZCh0aGlzKTtcblxuICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGhlYXJ0YmVhdCgpO1xuICAgICAgdGhpcy5faGVhcnRiZWF0VGltZXI/LnJ1blBlcmlvZGljYWxseShcbiAgICAgICAgaGVhcnRiZWF0LFxuICAgICAgICBjb25zdGFudHMuUmVsYXlIZWFydGJlYXRJbnRlcnZhbFxuICAgICAgKTtcbiAgICB9LCBjb25zdGFudHMuUmVsYXlIZWFydGJlYXRJbml0aWFsRGVsYXkpO1xuXG4gICAgdGhpcy5faGVhcnRiZWF0VGltZXIgPSB7XG4gICAgICBfaW50ZXJ2YWxJZDogdW5kZWZpbmVkLFxuICAgICAgcnVuUGVyaW9kaWNhbGx5OiAoZm4sIHBlcmlvZCk6IHZvaWQgPT4ge1xuICAgICAgICAvLyB0aGlzLl9oZWFydGJlYXRUaW1lciBjYW5ub3QgYmUgbnVsbCwgaXQgaXMgYmVpbmcgYXNzaWduZWQuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdFRpbWVyIS5faW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZuLCBwZXJpb2QpO1xuICAgICAgfSxcbiAgICAgIGNhbmNlbDogKCk6IHZvaWQgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faGVhcnRiZWF0VGltZXI/Ll9pbnRlcnZhbElkIGFzIE5vZGVKUy5UaW1lb3V0KTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbm1vdW50cyB0aGUgZ29zc2lwc3ViIHByb3RvY29sIGFuZCBzaHV0cyBkb3duIGV2ZXJ5IGNvbm5lY3Rpb25cbiAgICogQG92ZXJyaWRlXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgc3RvcCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuX2hlYXJ0YmVhdFRpbWVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faGVhcnRiZWF0VGltZXIuY2FuY2VsKCk7XG4gICAgdGhpcy5faGVhcnRiZWF0VGltZXIgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIE1haW50YWlucyB0aGUgbWVzaCBhbmQgZmFub3V0IG1hcHMgaW4gZ29zc2lwc3ViLlxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIF9oZWFydGJlYXQoKTogdm9pZCB7XG4gICAgY29uc3QgeyBELCBEbG8sIERoaSwgRHNjb3JlLCBEb3V0IH0gPSB0aGlzLmdvc3NpcHN1Yi5fb3B0aW9ucztcbiAgICB0aGlzLmdvc3NpcHN1Yi5oZWFydGJlYXRUaWNrcysrO1xuXG4gICAgLy8gY2FjaGUgc2NvcmVzIHRocm91Z2ggdGhlIGhlYXJ0YmVhdFxuICAgIGNvbnN0IHNjb3JlcyA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gICAgY29uc3QgZ2V0U2NvcmUgPSAoaWQ6IHN0cmluZyk6IG51bWJlciA9PiB7XG4gICAgICBsZXQgcyA9IHNjb3Jlcy5nZXQoaWQpO1xuICAgICAgaWYgKHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzID0gdGhpcy5nb3NzaXBzdWIuc2NvcmUuc2NvcmUoaWQpO1xuICAgICAgICBzY29yZXMuc2V0KGlkLCBzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzO1xuICAgIH07XG5cbiAgICAvLyBwZWVyIGlkID0+IHRvcGljW11cbiAgICBjb25zdCB0b0dyYWZ0ID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZ1tdPigpO1xuICAgIC8vIHBlZXIgaWQgPT4gdG9waWNbXVxuICAgIGNvbnN0IHRvUHJ1bmUgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nW10+KCk7XG4gICAgLy8gcGVlciBpZCA9PiBkb24ndCBweFxuICAgIGNvbnN0IG5vUFggPSBuZXcgTWFwPHN0cmluZywgYm9vbGVhbj4oKTtcblxuICAgIC8vIGNsZWFuIHVwIGV4cGlyZWQgYmFja29mZnNcbiAgICB0aGlzLmdvc3NpcHN1Yi5fY2xlYXJCYWNrb2ZmKCk7XG5cbiAgICAvLyBjbGVhbiB1cCBwZWVyaGF2ZS9pYXNrZWQgY291bnRlcnNcbiAgICB0aGlzLmdvc3NpcHN1Yi5wZWVyaGF2ZS5jbGVhcigpO1xuICAgIHRoaXMuZ29zc2lwc3ViLmlhc2tlZC5jbGVhcigpO1xuXG4gICAgLy8gYXBwbHkgSVdBTlQgcmVxdWVzdCBwZW5hbHRpZXNcbiAgICB0aGlzLmdvc3NpcHN1Yi5fYXBwbHlJd2FudFBlbmFsdGllcygpO1xuXG4gICAgLy8gZW5zdXJlIGRpcmVjdCBwZWVycyBhcmUgY29ubmVjdGVkXG4gICAgdGhpcy5nb3NzaXBzdWIuX2RpcmVjdENvbm5lY3QoKTtcblxuICAgIC8vIG1haW50YWluIHRoZSBtZXNoIGZvciB0b3BpY3Mgd2UgaGF2ZSBqb2luZWRcbiAgICB0aGlzLmdvc3NpcHN1Yi5tZXNoLmZvckVhY2goKHBlZXJzLCB0b3BpYykgPT4ge1xuICAgICAgLy8gcHJ1bmUvZ3JhZnQgaGVscGVyIGZ1bmN0aW9ucyAoZGVmaW5lZCBwZXIgdG9waWMpXG4gICAgICBjb25zdCBwcnVuZVBlZXIgPSAoaWQ6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLmdvc3NpcHN1Yi5sb2coXG4gICAgICAgICAgJ0hFQVJUQkVBVDogUmVtb3ZlIG1lc2ggbGluayB0byAlcyBpbiAlcycsXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgdG9waWNcbiAgICAgICAgKTtcbiAgICAgICAgLy8gdXBkYXRlIHBlZXIgc2NvcmVcbiAgICAgICAgdGhpcy5nb3NzaXBzdWIuc2NvcmUucHJ1bmUoaWQsIHRvcGljKTtcbiAgICAgICAgLy8gYWRkIHBydW5lIGJhY2tvZmYgcmVjb3JkXG4gICAgICAgIHRoaXMuZ29zc2lwc3ViLl9hZGRCYWNrb2ZmKGlkLCB0b3BpYyk7XG4gICAgICAgIC8vIHJlbW92ZSBwZWVyIGZyb20gbWVzaFxuICAgICAgICBwZWVycy5kZWxldGUoaWQpO1xuICAgICAgICAvLyBhZGQgdG8gdG9QcnVuZVxuICAgICAgICBjb25zdCB0b3BpY3MgPSB0b1BydW5lLmdldChpZCk7XG4gICAgICAgIGlmICghdG9waWNzKSB7XG4gICAgICAgICAgdG9QcnVuZS5zZXQoaWQsIFt0b3BpY10pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvcGljcy5wdXNoKHRvcGljKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IGdyYWZ0UGVlciA9IChpZDogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICAgIHRoaXMuZ29zc2lwc3ViLmxvZygnSEVBUlRCRUFUOiBBZGQgbWVzaCBsaW5rIHRvICVzIGluICVzJywgaWQsIHRvcGljKTtcbiAgICAgICAgLy8gdXBkYXRlIHBlZXIgc2NvcmVcbiAgICAgICAgdGhpcy5nb3NzaXBzdWIuc2NvcmUuZ3JhZnQoaWQsIHRvcGljKTtcbiAgICAgICAgLy8gYWRkIHBlZXIgdG8gbWVzaFxuICAgICAgICBwZWVycy5hZGQoaWQpO1xuICAgICAgICAvLyBhZGQgdG8gdG9HcmFmdFxuICAgICAgICBjb25zdCB0b3BpY3MgPSB0b0dyYWZ0LmdldChpZCk7XG4gICAgICAgIGlmICghdG9waWNzKSB7XG4gICAgICAgICAgdG9HcmFmdC5zZXQoaWQsIFt0b3BpY10pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvcGljcy5wdXNoKHRvcGljKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gZHJvcCBhbGwgcGVlcnMgd2l0aCBuZWdhdGl2ZSBzY29yZSwgd2l0aG91dCBQWFxuICAgICAgcGVlcnMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgICAgY29uc3Qgc2NvcmUgPSBnZXRTY29yZShpZCk7XG4gICAgICAgIGlmIChzY29yZSA8IDApIHtcbiAgICAgICAgICB0aGlzLmdvc3NpcHN1Yi5sb2coXG4gICAgICAgICAgICAnSEVBUlRCRUFUOiBQcnVuZSBwZWVyICVzIHdpdGggbmVnYXRpdmUgc2NvcmU6IHNjb3JlPSVkLCB0b3BpYz0lcycsXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHNjb3JlLFxuICAgICAgICAgICAgdG9waWNcbiAgICAgICAgICApO1xuICAgICAgICAgIHBydW5lUGVlcihpZCk7XG4gICAgICAgICAgbm9QWC5zZXQoaWQsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gZG8gd2UgaGF2ZSBlbm91Z2ggcGVlcnM/XG4gICAgICBpZiAocGVlcnMuc2l6ZSA8IERsbykge1xuICAgICAgICBjb25zdCBiYWNrb2ZmID0gdGhpcy5nb3NzaXBzdWIuYmFja29mZi5nZXQodG9waWMpO1xuICAgICAgICBjb25zdCBpbmVlZCA9IEQgLSBwZWVycy5zaXplO1xuICAgICAgICBjb25zdCBwZWVyc1NldCA9IGdldFJlbGF5UGVlcnMoXG4gICAgICAgICAgdGhpcy5nb3NzaXBzdWIsXG4gICAgICAgICAgdG9waWMsXG4gICAgICAgICAgaW5lZWQsXG4gICAgICAgICAgKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgbWVzaCBwZWVycywgZGlyZWN0IHBlZXJzLCBwZWVycyB3ZSBhcmUgYmFja2luZyBvZmYsIHBlZXJzIHdpdGggbmVnYXRpdmUgc2NvcmVcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICFwZWVycy5oYXMoaWQpICYmXG4gICAgICAgICAgICAgICF0aGlzLmdvc3NpcHN1Yi5kaXJlY3QuaGFzKGlkKSAmJlxuICAgICAgICAgICAgICAoIWJhY2tvZmYgfHwgIWJhY2tvZmYuaGFzKGlkKSkgJiZcbiAgICAgICAgICAgICAgZ2V0U2NvcmUoaWQpID49IDBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHBlZXJzU2V0LmZvckVhY2goZ3JhZnRQZWVyKTtcbiAgICAgIH1cblxuICAgICAgLy8gZG8gd2UgaGF2ZSB0byBtYW55IHBlZXJzP1xuICAgICAgaWYgKHBlZXJzLnNpemUgPiBEaGkpIHtcbiAgICAgICAgbGV0IHBlZXJzQXJyYXkgPSBBcnJheS5mcm9tKHBlZXJzKTtcbiAgICAgICAgLy8gc29ydCBieSBzY29yZVxuICAgICAgICBwZWVyc0FycmF5LnNvcnQoKGEsIGIpID0+IGdldFNjb3JlKGIpIC0gZ2V0U2NvcmUoYSkpO1xuICAgICAgICAvLyBXZSBrZWVwIHRoZSBmaXJzdCBEX3Njb3JlIHBlZXJzIGJ5IHNjb3JlIGFuZCB0aGUgcmVtYWluaW5nIHVwIHRvIEQgcmFuZG9tbHlcbiAgICAgICAgLy8gdW5kZXIgdGhlIGNvbnN0cmFpbnQgdGhhdCB3ZSBrZWVwIERfb3V0IHBlZXJzIGluIHRoZSBtZXNoIChpZiB3ZSBoYXZlIHRoYXQgbWFueSlcbiAgICAgICAgcGVlcnNBcnJheSA9IHBlZXJzQXJyYXlcbiAgICAgICAgICAuc2xpY2UoMCwgRHNjb3JlKVxuICAgICAgICAgIC5jb25jYXQoc2h1ZmZsZShwZWVyc0FycmF5LnNsaWNlKERzY29yZSkpKTtcblxuICAgICAgICAvLyBjb3VudCB0aGUgb3V0Ym91bmQgcGVlcnMgd2UgYXJlIGtlZXBpbmdcbiAgICAgICAgbGV0IG91dGJvdW5kID0gMDtcbiAgICAgICAgcGVlcnNBcnJheS5zbGljZSgwLCBEKS5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuZ29zc2lwc3ViLm91dGJvdW5kLmdldChwKSkge1xuICAgICAgICAgICAgb3V0Ym91bmQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGlmIGl0J3MgbGVzcyB0aGFuIERfb3V0LCBidWJibGUgdXAgc29tZSBvdXRib3VuZCBwZWVycyBmcm9tIHRoZSByYW5kb20gc2VsZWN0aW9uXG4gICAgICAgIGlmIChvdXRib3VuZCA8IERvdXQpIHtcbiAgICAgICAgICBjb25zdCByb3RhdGUgPSAoaTogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgICAgICAgICAvLyByb3RhdGUgdGhlIHBlZXJzQXJyYXkgdG8gdGhlIHJpZ2h0IGFuZCBwdXQgdGhlIGl0aCBwZWVyIGluIHRoZSBmcm9udFxuICAgICAgICAgICAgY29uc3QgcCA9IHBlZXJzQXJyYXlbaV07XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA+IDA7IGotLSkge1xuICAgICAgICAgICAgICBwZWVyc0FycmF5W2pdID0gcGVlcnNBcnJheVtqIC0gMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwZWVyc0FycmF5WzBdID0gcDtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gZmlyc3QgYnViYmxlIHVwIGFsbCBvdXRib3VuZCBwZWVycyBhbHJlYWR5IGluIHRoZSBzZWxlY3Rpb24gdG8gdGhlIGZyb250XG4gICAgICAgICAgaWYgKG91dGJvdW5kID4gMCkge1xuICAgICAgICAgICAgbGV0IGloYXZlID0gb3V0Ym91bmQ7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IEQgJiYgaWhhdmUgPiAwOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuZ29zc2lwc3ViLm91dGJvdW5kLmdldChwZWVyc0FycmF5W2ldKSkge1xuICAgICAgICAgICAgICAgIHJvdGF0ZShpKTtcbiAgICAgICAgICAgICAgICBpaGF2ZS0tO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gbm93IGJ1YmJsZSB1cCBlbm91Z2ggb3V0Ym91bmQgcGVlcnMgb3V0c2lkZSB0aGUgc2VsZWN0aW9uIHRvIHRoZSBmcm9udFxuICAgICAgICAgIGxldCBpbmVlZCA9IEQgLSBvdXRib3VuZDtcbiAgICAgICAgICBmb3IgKGxldCBpID0gRDsgaSA8IHBlZXJzQXJyYXkubGVuZ3RoICYmIGluZWVkID4gMDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nb3NzaXBzdWIub3V0Ym91bmQuZ2V0KHBlZXJzQXJyYXlbaV0pKSB7XG4gICAgICAgICAgICAgIHJvdGF0ZShpKTtcbiAgICAgICAgICAgICAgaW5lZWQtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwcnVuZSB0aGUgZXhjZXNzIHBlZXJzXG4gICAgICAgIHBlZXJzQXJyYXkuc2xpY2UoRCkuZm9yRWFjaChwcnVuZVBlZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBkbyB3ZSBoYXZlIGVub3VnaCBvdXRib3VuZCBwZWVycz9cbiAgICAgIGlmIChwZWVycy5zaXplID49IERsbykge1xuICAgICAgICAvLyBjb3VudCB0aGUgb3V0Ym91bmQgcGVlcnMgd2UgaGF2ZVxuICAgICAgICBsZXQgb3V0Ym91bmQgPSAwO1xuICAgICAgICBwZWVycy5mb3JFYWNoKChwKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuZ29zc2lwc3ViLm91dGJvdW5kLmdldChwKSkge1xuICAgICAgICAgICAgb3V0Ym91bmQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGlmIGl0J3MgbGVzcyB0aGFuIERfb3V0LCBzZWxlY3Qgc29tZSBwZWVycyB3aXRoIG91dGJvdW5kIGNvbm5lY3Rpb25zIGFuZCBncmFmdCB0aGVtXG4gICAgICAgIGlmIChvdXRib3VuZCA8IERvdXQpIHtcbiAgICAgICAgICBjb25zdCBpbmVlZCA9IERvdXQgLSBvdXRib3VuZDtcbiAgICAgICAgICBjb25zdCBiYWNrb2ZmID0gdGhpcy5nb3NzaXBzdWIuYmFja29mZi5nZXQodG9waWMpO1xuICAgICAgICAgIGdldFJlbGF5UGVlcnModGhpcy5nb3NzaXBzdWIsIHRvcGljLCBpbmVlZCwgKGlkOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICAgICAgICAgIC8vIGZpbHRlciBvdXIgY3VycmVudCBtZXNoIHBlZXJzLCBkaXJlY3QgcGVlcnMsIHBlZXJzIHdlIGFyZSBiYWNraW5nIG9mZiwgcGVlcnMgd2l0aCBuZWdhdGl2ZSBzY29yZVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgIXBlZXJzLmhhcyhpZCkgJiZcbiAgICAgICAgICAgICAgIXRoaXMuZ29zc2lwc3ViLmRpcmVjdC5oYXMoaWQpICYmXG4gICAgICAgICAgICAgICghYmFja29mZiB8fCAhYmFja29mZi5oYXMoaWQpKSAmJlxuICAgICAgICAgICAgICBnZXRTY29yZShpZCkgPj0gMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KS5mb3JFYWNoKGdyYWZ0UGVlcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gc2hvdWxkIHdlIHRyeSB0byBpbXByb3ZlIHRoZSBtZXNoIHdpdGggb3Bwb3J0dW5pc3RpYyBncmFmdGluZz9cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5nb3NzaXBzdWIuaGVhcnRiZWF0VGlja3MgJVxuICAgICAgICAgIGNvbnN0YW50cy5SZWxheU9wcG9ydHVuaXN0aWNHcmFmdFRpY2tzID09PVxuICAgICAgICAgIDAgJiZcbiAgICAgICAgcGVlcnMuc2l6ZSA+IDFcbiAgICAgICkge1xuICAgICAgICAvLyBPcHBvcnR1bmlzdGljIGdyYWZ0aW5nIHdvcmtzIGFzIGZvbGxvd3M6IHdlIGNoZWNrIHRoZSBtZWRpYW4gc2NvcmUgb2YgcGVlcnMgaW4gdGhlXG4gICAgICAgIC8vIG1lc2g7IGlmIHRoaXMgc2NvcmUgaXMgYmVsb3cgdGhlIG9wcG9ydHVuaXN0aWNHcmFmdFRocmVzaG9sZCwgd2Ugc2VsZWN0IGEgZmV3IHBlZXJzIGF0XG4gICAgICAgIC8vIHJhbmRvbSB3aXRoIHNjb3JlIG92ZXIgdGhlIG1lZGlhbi5cbiAgICAgICAgLy8gVGhlIGludGVudGlvbiBpcyB0byAoc2xvd2x5KSBpbXByb3ZlIGFuIHVuZGVyIHBlcmZvcm1pbmcgbWVzaCBieSBpbnRyb2R1Y2luZyBnb29kXG4gICAgICAgIC8vIHNjb3JpbmcgcGVlcnMgdGhhdCBtYXkgaGF2ZSBiZWVuIGdvc3NpcGluZyBhdCB1cy4gVGhpcyBhbGxvd3MgdXMgdG8gZ2V0IG91dCBvZiBzdGlja3lcbiAgICAgICAgLy8gc2l0dWF0aW9ucyB3aGVyZSB3ZSBhcmUgc3R1Y2sgd2l0aCBwb29yIHBlZXJzIGFuZCBhbHNvIHJlY292ZXIgZnJvbSBjaHVybiBvZiBnb29kIHBlZXJzLlxuXG4gICAgICAgIC8vIG5vdyBjb21wdXRlIHRoZSBtZWRpYW4gcGVlciBzY29yZSBpbiB0aGUgbWVzaFxuICAgICAgICBjb25zdCBwZWVyc0xpc3QgPSBBcnJheS5mcm9tKHBlZXJzKS5zb3J0KFxuICAgICAgICAgIChhLCBiKSA9PiBnZXRTY29yZShhKSAtIGdldFNjb3JlKGIpXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IG1lZGlhbkluZGV4ID0gTWF0aC5mbG9vcihwZWVycy5zaXplIC8gMik7XG4gICAgICAgIGNvbnN0IG1lZGlhblNjb3JlID0gZ2V0U2NvcmUocGVlcnNMaXN0W21lZGlhbkluZGV4XSk7XG5cbiAgICAgICAgLy8gaWYgdGhlIG1lZGlhbiBzY29yZSBpcyBiZWxvdyB0aGUgdGhyZXNob2xkLCBzZWxlY3QgYSBiZXR0ZXIgcGVlciAoaWYgYW55KSBhbmQgR1JBRlRcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG1lZGlhblNjb3JlIDxcbiAgICAgICAgICB0aGlzLmdvc3NpcHN1Yi5fb3B0aW9ucy5zY29yZVRocmVzaG9sZHMub3Bwb3J0dW5pc3RpY0dyYWZ0VGhyZXNob2xkXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IGJhY2tvZmYgPSB0aGlzLmdvc3NpcHN1Yi5iYWNrb2ZmLmdldCh0b3BpYyk7XG4gICAgICAgICAgY29uc3QgcGVlcnNUb0dyYWZ0ID0gZ2V0UmVsYXlQZWVycyhcbiAgICAgICAgICAgIHRoaXMuZ29zc2lwc3ViLFxuICAgICAgICAgICAgdG9waWMsXG4gICAgICAgICAgICBjb25zdGFudHMuUmVsYXlPcHBvcnR1bmlzdGljR3JhZnRQZWVycyxcbiAgICAgICAgICAgIChpZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgY3VycmVudCBtZXNoIHBlZXJzLCBkaXJlY3QgcGVlcnMsIHBlZXJzIHdlIGFyZSBiYWNraW5nIG9mZiwgcGVlcnMgYmVsb3cgb3IgYXQgdGhyZXNob2xkXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgcGVlcnMuaGFzKGlkKSAmJlxuICAgICAgICAgICAgICAgICF0aGlzLmdvc3NpcHN1Yi5kaXJlY3QuaGFzKGlkKSAmJlxuICAgICAgICAgICAgICAgICghYmFja29mZiB8fCAhYmFja29mZi5oYXMoaWQpKSAmJlxuICAgICAgICAgICAgICAgIGdldFNjb3JlKGlkKSA+IG1lZGlhblNjb3JlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgICBwZWVyc1RvR3JhZnQuZm9yRWFjaCgoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgdGhpcy5nb3NzaXBzdWIubG9nKFxuICAgICAgICAgICAgICAnSEVBUlRCRUFUOiBPcHBvcnR1bmlzdGljYWxseSBncmFmdCBwZWVyICVzIG9uIHRvcGljICVzJyxcbiAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgIHRvcGljXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZ3JhZnRQZWVyKGlkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyAybmQgYXJnIGFyZSBtZXNoIHBlZXJzIGV4Y2x1ZGVkIGZyb20gZ29zc2lwLiBXZSBoYXZlIGFscmVhZHkgcHVzaGVkXG4gICAgICAvLyBtZXNzYWdlcyB0byB0aGVtLCBzbyBpdHMgcmVkdW5kYW50IHRvIGdvc3NpcCBJSEFWRXMuXG4gICAgICB0aGlzLmdvc3NpcHN1Yi5fZW1pdEdvc3NpcCh0b3BpYywgcGVlcnMpO1xuICAgIH0pO1xuXG4gICAgLy8gZXhwaXJlIGZhbm91dCBmb3IgdG9waWNzIHdlIGhhdmVuJ3QgcHVibGlzaGVkIHRvIGluIGEgd2hpbGVcbiAgICBjb25zdCBub3cgPSB0aGlzLmdvc3NpcHN1Yi5fbm93KCk7XG4gICAgdGhpcy5nb3NzaXBzdWIubGFzdHB1Yi5mb3JFYWNoKChsYXN0cHViLCB0b3BpYykgPT4ge1xuICAgICAgaWYgKGxhc3RwdWIgKyBjb25zdGFudHMuUmVsYXlGYW5vdXRUVEwgPCBub3cpIHtcbiAgICAgICAgdGhpcy5nb3NzaXBzdWIuZmFub3V0LmRlbGV0ZSh0b3BpYyk7XG4gICAgICAgIHRoaXMuZ29zc2lwc3ViLmxhc3RwdWIuZGVsZXRlKHRvcGljKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIG1haW50YWluIG91ciBmYW5vdXQgZm9yIHRvcGljcyB3ZSBhcmUgcHVibGlzaGluZyBidXQgd2UgaGF2ZSBub3Qgam9pbmVkXG4gICAgdGhpcy5nb3NzaXBzdWIuZmFub3V0LmZvckVhY2goKGZhbm91dFBlZXJzLCB0b3BpYykgPT4ge1xuICAgICAgLy8gY2hlY2tzIHdoZXRoZXIgb3VyIHBlZXJzIGFyZSBzdGlsbCBpbiB0aGUgdG9waWMgYW5kIGhhdmUgYSBzY29yZSBhYm92ZSB0aGUgcHVibGlzaCB0aHJlc2hvbGRcbiAgICAgIGNvbnN0IHRvcGljUGVlcnMgPSB0aGlzLmdvc3NpcHN1Yi50b3BpY3MuZ2V0KHRvcGljKTtcbiAgICAgIGZhbm91dFBlZXJzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhdG9waWNQZWVycz8uaGFzKGlkKSB8fFxuICAgICAgICAgIGdldFNjb3JlKGlkKSA8XG4gICAgICAgICAgICB0aGlzLmdvc3NpcHN1Yi5fb3B0aW9ucy5zY29yZVRocmVzaG9sZHMucHVibGlzaFRocmVzaG9sZFxuICAgICAgICApIHtcbiAgICAgICAgICBmYW5vdXRQZWVycy5kZWxldGUoaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gZG8gd2UgbmVlZCBtb3JlIHBlZXJzP1xuICAgICAgaWYgKGZhbm91dFBlZXJzLnNpemUgPCBEKSB7XG4gICAgICAgIGNvbnN0IGluZWVkID0gRCAtIGZhbm91dFBlZXJzLnNpemU7XG4gICAgICAgIGNvbnN0IHBlZXJzU2V0ID0gZ2V0UmVsYXlQZWVycyhcbiAgICAgICAgICB0aGlzLmdvc3NpcHN1YixcbiAgICAgICAgICB0b3BpYyxcbiAgICAgICAgICBpbmVlZCxcbiAgICAgICAgICAoaWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBleGlzdGluZyBmYW5vdXQgcGVlcnMsIGRpcmVjdCBwZWVycywgYW5kIHBlZXJzIHdpdGggc2NvcmUgYWJvdmUgdGhlIHB1Ymxpc2ggdGhyZXNob2xkXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAhZmFub3V0UGVlcnMuaGFzKGlkKSAmJlxuICAgICAgICAgICAgICAhdGhpcy5nb3NzaXBzdWIuZGlyZWN0LmhhcyhpZCkgJiZcbiAgICAgICAgICAgICAgZ2V0U2NvcmUoaWQpID49XG4gICAgICAgICAgICAgICAgdGhpcy5nb3NzaXBzdWIuX29wdGlvbnMuc2NvcmVUaHJlc2hvbGRzLnB1Ymxpc2hUaHJlc2hvbGRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBwZWVyc1NldC5mb3JFYWNoKChpZDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgZmFub3V0UGVlcnMuYWRkKGlkKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIDJuZCBhcmcgYXJlIGZhbm91dCBwZWVycyBleGNsdWRlZCBmcm9tIGdvc3NpcC5cbiAgICAgIC8vIFdlIGhhdmUgYWxyZWFkeSBwdXNoZWQgbWVzc2FnZXMgdG8gdGhlbSwgc28gaXRzIHJlZHVuZGFudCB0byBnb3NzaXAgSUhBVkVzXG4gICAgICB0aGlzLmdvc3NpcHN1Yi5fZW1pdEdvc3NpcCh0b3BpYywgZmFub3V0UGVlcnMpO1xuICAgIH0pO1xuXG4gICAgLy8gc2VuZCBjb2FsZXNjZWQgR1JBRlQvUFJVTkUgbWVzc2FnZXMgKHdpbGwgcGlnZ3liYWNrIGdvc3NpcClcbiAgICB0aGlzLmdvc3NpcHN1Yi5fc2VuZEdyYWZ0UHJ1bmUodG9HcmFmdCwgdG9QcnVuZSwgbm9QWCk7XG5cbiAgICAvLyBmbHVzaCBwZW5kaW5nIGdvc3NpcCB0aGF0IHdhc24ndCBwaWdneWJhY2tlZCBhYm92ZVxuICAgIHRoaXMuZ29zc2lwc3ViLl9mbHVzaCgpO1xuXG4gICAgLy8gYWR2YW5jZSB0aGUgbWVzc2FnZSBoaXN0b3J5IHdpbmRvd1xuICAgIHRoaXMuZ29zc2lwc3ViLm1lc3NhZ2VDYWNoZS5zaGlmdCgpO1xuXG4gICAgdGhpcy5nb3NzaXBzdWIuZW1pdCgnZ29zc2lwc3ViOmhlYXJ0YmVhdCcpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBSZWFkZXIgfSBmcm9tICdwcm90b2J1ZmpzL21pbmltYWwnO1xuaW1wb3J0IHsgdjQgYXMgdXVpZCB9IGZyb20gJ3V1aWQnO1xuXG5pbXBvcnQgKiBhcyBwcm90byBmcm9tICcuLi8uLi9wcm90by93YWt1L3YyL3N0b3JlJztcblxuZXhwb3J0IGVudW0gUGFnZURpcmVjdGlvbiB7XG4gIEJBQ0tXQVJEID0gJ2JhY2t3YXJkJyxcbiAgRk9SV0FSRCA9ICdmb3J3YXJkJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXJhbXMge1xuICBjb250ZW50VG9waWNzOiBzdHJpbmdbXTtcbiAgcHViU3ViVG9waWM6IHN0cmluZztcbiAgcGFnZURpcmVjdGlvbjogUGFnZURpcmVjdGlvbjtcbiAgcGFnZVNpemU6IG51bWJlcjtcbiAgc3RhcnRUaW1lPzogbnVtYmVyO1xuICBlbmRUaW1lPzogbnVtYmVyO1xuICBjdXJzb3I/OiBwcm90by5JbmRleDtcbn1cblxuZXhwb3J0IGNsYXNzIEhpc3RvcnlSUEMge1xuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIHByb3RvOiBwcm90by5IaXN0b3J5UlBDKSB7fVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgSGlzdG9yeSBRdWVyeS5cbiAgICovXG4gIHN0YXRpYyBjcmVhdGVRdWVyeShwYXJhbXM6IFBhcmFtcyk6IEhpc3RvcnlSUEMge1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGRpcmVjdGlvblRvUHJvdG8ocGFyYW1zLnBhZ2VEaXJlY3Rpb24pO1xuICAgIGNvbnN0IHBhZ2luZ0luZm8gPSB7XG4gICAgICBwYWdlU2l6ZTogcGFyYW1zLnBhZ2VTaXplLFxuICAgICAgY3Vyc29yOiBwYXJhbXMuY3Vyc29yLFxuICAgICAgZGlyZWN0aW9uLFxuICAgIH07XG5cbiAgICBjb25zdCBjb250ZW50RmlsdGVycyA9IHBhcmFtcy5jb250ZW50VG9waWNzLm1hcCgoY29udGVudFRvcGljKSA9PiB7XG4gICAgICByZXR1cm4geyBjb250ZW50VG9waWMgfTtcbiAgICB9KTtcblxuICAgIHJldHVybiBuZXcgSGlzdG9yeVJQQyh7XG4gICAgICByZXF1ZXN0SWQ6IHV1aWQoKSxcbiAgICAgIHF1ZXJ5OiB7XG4gICAgICAgIHB1YlN1YlRvcGljOiBwYXJhbXMucHViU3ViVG9waWMsXG4gICAgICAgIGNvbnRlbnRGaWx0ZXJzLFxuICAgICAgICBwYWdpbmdJbmZvLFxuICAgICAgICBzdGFydFRpbWU6IHBhcmFtcy5zdGFydFRpbWUsXG4gICAgICAgIGVuZFRpbWU6IHBhcmFtcy5lbmRUaW1lLFxuICAgICAgfSxcbiAgICAgIHJlc3BvbnNlOiB1bmRlZmluZWQsXG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgZGVjb2RlKGJ5dGVzOiBVaW50OEFycmF5KTogSGlzdG9yeVJQQyB7XG4gICAgY29uc3QgcmVzID0gcHJvdG8uSGlzdG9yeVJQQy5kZWNvZGUoUmVhZGVyLmNyZWF0ZShieXRlcykpO1xuICAgIHJldHVybiBuZXcgSGlzdG9yeVJQQyhyZXMpO1xuICB9XG5cbiAgZW5jb2RlKCk6IFVpbnQ4QXJyYXkge1xuICAgIHJldHVybiBwcm90by5IaXN0b3J5UlBDLmVuY29kZSh0aGlzLnByb3RvKS5maW5pc2goKTtcbiAgfVxuXG4gIGdldCBxdWVyeSgpOiBwcm90by5IaXN0b3J5UXVlcnkgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLnByb3RvLnF1ZXJ5O1xuICB9XG5cbiAgZ2V0IHJlc3BvbnNlKCk6IHByb3RvLkhpc3RvcnlSZXNwb25zZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMucHJvdG8ucmVzcG9uc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGlyZWN0aW9uVG9Qcm90byhcbiAgcGFnZURpcmVjdGlvbjogUGFnZURpcmVjdGlvblxuKTogcHJvdG8uUGFnaW5nSW5mb19EaXJlY3Rpb24ge1xuICBzd2l0Y2ggKHBhZ2VEaXJlY3Rpb24pIHtcbiAgICBjYXNlIFBhZ2VEaXJlY3Rpb24uQkFDS1dBUkQ6XG4gICAgICByZXR1cm4gcHJvdG8uUGFnaW5nSW5mb19EaXJlY3Rpb24uRElSRUNUSU9OX0JBQ0tXQVJEX1VOU1BFQ0lGSUVEO1xuICAgIGNhc2UgUGFnZURpcmVjdGlvbi5GT1JXQVJEOlxuICAgICAgcmV0dXJuIHByb3RvLlBhZ2luZ0luZm9fRGlyZWN0aW9uLkRJUkVDVElPTl9GT1JXQVJEO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJvdG8uUGFnaW5nSW5mb19EaXJlY3Rpb24uRElSRUNUSU9OX0JBQ0tXQVJEX1VOU1BFQ0lGSUVEO1xuICB9XG59XG4iLCJpbXBvcnQgZGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IGNvbmNhdCBmcm9tICdpdC1jb25jYXQnO1xuaW1wb3J0IGxwIGZyb20gJ2l0LWxlbmd0aC1wcmVmaXhlZCc7XG5pbXBvcnQgcGlwZSBmcm9tICdpdC1waXBlJztcbmltcG9ydCBMaWJwMnAgZnJvbSAnbGlicDJwJztcbmltcG9ydCB7IFBlZXIgfSBmcm9tICdsaWJwMnAvc3JjL3BlZXItc3RvcmUnO1xuaW1wb3J0IFBlZXJJZCBmcm9tICdwZWVyLWlkJztcblxuaW1wb3J0IHsgSGlzdG9yeVJlc3BvbnNlX0Vycm9yIH0gZnJvbSAnLi4vLi4vcHJvdG8nO1xuaW1wb3J0IHsgZ2V0UGVlcnNGb3JQcm90b2NvbCwgc2VsZWN0UmFuZG9tUGVlciB9IGZyb20gJy4uL3NlbGVjdF9wZWVyJztcbmltcG9ydCB7IGhleFRvQnVmIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgRGVmYXVsdFB1YlN1YlRvcGljIH0gZnJvbSAnLi4vd2FrdSc7XG5pbXBvcnQgeyBEZWNyeXB0aW9uTWV0aG9kLCBXYWt1TWVzc2FnZSB9IGZyb20gJy4uL3dha3VfbWVzc2FnZSc7XG5cbmltcG9ydCB7IEhpc3RvcnlSUEMsIFBhZ2VEaXJlY3Rpb24gfSBmcm9tICcuL2hpc3RvcnlfcnBjJztcblxuY29uc3QgZGJnID0gZGVidWcoJ3dha3U6c3RvcmUnKTtcblxuZXhwb3J0IGNvbnN0IFN0b3JlQ29kZWMgPSAnL3ZhYy93YWt1L3N0b3JlLzIuMC4wLWJldGEzJztcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRQYWdlU2l6ZSA9IDEwO1xuXG5leHBvcnQgeyBQYWdlRGlyZWN0aW9uIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgUHViU3ViIFRvcGljIHRvIHVzZS4gRGVmYXVsdHMgdG8ge0BsaW5rIERlZmF1bHRQdWJTdWJUb3BpY30uXG4gICAqXG4gICAqIFRoZSB1c2FnZSBvZiB0aGUgZGVmYXVsdCBwdWJzdWIgdG9waWMgaXMgcmVjb21tZW5kZWQuXG4gICAqIFNlZSBbV2FrdSB2MiBUb3BpYyBVc2FnZSBSZWNvbW1lbmRhdGlvbnNdKGh0dHBzOi8vcmZjLnZhYy5kZXYvc3BlYy8yMy8pIGZvciBkZXRhaWxzLlxuICAgKlxuICAgKiBAZGVmYXVsdCB7QGxpbmsgRGVmYXVsdFB1YlN1YlRvcGljfVxuICAgKi9cbiAgcHViU3ViVG9waWM/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGltZUZpbHRlciB7XG4gIHN0YXJ0VGltZTogRGF0ZTtcbiAgZW5kVGltZTogRGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBRdWVyeU9wdGlvbnMge1xuICAvKipcbiAgICogVGhlIHBlZXIgdG8gcXVlcnkuIElmIHVuZGVmaW5lZCwgYSBwc2V1ZG8tcmFuZG9tIHBlZXIgaXMgc2VsZWN0ZWQgZnJvbSB0aGUgY29ubmVjdGVkIFdha3UgU3RvcmUgcGVlcnMuXG4gICAqL1xuICBwZWVySWQ/OiBQZWVySWQ7XG4gIC8qKlxuICAgKiBUaGUgcHVic3ViIHRvcGljIHRvIHBhc3MgdG8gdGhlIHF1ZXJ5LlxuICAgKiBTZWUgW1dha3UgdjIgVG9waWMgVXNhZ2UgUmVjb21tZW5kYXRpb25zXShodHRwczovL3JmYy52YWMuZGV2L3NwZWMvMjMvKS5cbiAgICovXG4gIHB1YlN1YlRvcGljPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGRpcmVjdGlvbiBpbiB3aGljaCBwYWdlcyBhcmUgcmV0cmlldmVkOlxuICAgKiAtIFtbUGFnZURpcmVjdGlvbi5CQUNLV0FSRF1dOiBNb3N0IHJlY2VudCBwYWdlIGZpcnN0LlxuICAgKiAtIFtbUGFnZURpcmVjdGlvbi5GT1JXQVJEXV06IE9sZGVzdCBwYWdlIGZpcnN0LlxuICAgKlxuICAgKiBOb3RlOiBUaGlzIGRvZXMgbm90IGFmZmVjdCB0aGUgb3JkZXJpbmcgb2YgbWVzc2FnZXMgd2l0aCB0aGUgcGFnZVxuICAgKiAob2xkZXN0IG1lc3NhZ2UgaXMgYWx3YXlzIGZpcnN0KS5cbiAgICpcbiAgICogQGRlZmF1bHQgW1tQYWdlRGlyZWN0aW9uLkJBQ0tXQVJEXV1cbiAgICovXG4gIHBhZ2VEaXJlY3Rpb24/OiBQYWdlRGlyZWN0aW9uO1xuICAvKipcbiAgICogVGhlIG51bWJlciBvZiBtZXNzYWdlIHBlciBwYWdlLlxuICAgKlxuICAgKiBAZGVmYXVsdCBbW0RlZmF1bHRQYWdlU2l6ZV1dXG4gICAqL1xuICBwYWdlU2l6ZT86IG51bWJlcjtcbiAgLyoqXG4gICAqIFJldHJpZXZlIG1lc3NhZ2VzIHdpdGggYSB0aW1lc3RhbXAgd2l0aGluIHRoZSBwcm92aWRlZCB2YWx1ZXMuXG4gICAqL1xuICB0aW1lRmlsdGVyPzogVGltZUZpbHRlcjtcbiAgLyoqXG4gICAqIENhbGxiYWNrIGNhbGxlZCBvbiBwYWdlcyBvZiBzdG9yZWQgbWVzc2FnZXMgYXMgdGhleSBhcmUgcmV0cmlldmVkLlxuICAgKlxuICAgKiBBbGxvd3MgZm9yIGEgZmFzdGVyIGFjY2VzcyB0byB0aGUgcmVzdWx0cyBhcyBpdCBpcyBjYWxsZWQgYXMgc29vbiBhcyBhIHBhZ2VcbiAgICogaXMgcmVjZWl2ZWQuIFRyYXZlcnNhbCBvZiB0aGUgcGFnZXMgaXMgZG9uZSBhdXRvbWF0aWNhbGx5IHNvIHRoaXMgZnVuY3Rpb25cbiAgICogd2lsbCBpbnZva2VkIGZvciBlYWNoIHJldHJpZXZlZCBwYWdlLlxuICAgKlxuICAgKiBJZiB0aGUgY2FsbCBvbiBhIHBhZ2UgcmV0dXJucyBgdHJ1ZWAsIHRoZW4gdHJhdmVyc2FsIG9mIHRoZSBwYWdlcyBpcyBhYm9ydGVkLlxuICAgKiBGb3IgZXhhbXBsZSwgdGhpcyBjYW4gYmUgdXNlZCBmb3IgdGhlIGNhbGxlciB0byBzdG9wIHRoZSBxdWVyeSBhZnRlciBhXG4gICAqIHNwZWNpZmljIG1lc3NhZ2UgaXMgZm91bmQuXG4gICAqL1xuICBjYWxsYmFjaz86IChtZXNzYWdlczogV2FrdU1lc3NhZ2VbXSkgPT4gdm9pZCB8IGJvb2xlYW47XG4gIC8qKlxuICAgKiBLZXlzIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGRlY3J5cHQgbWVzc2FnZXMuXG4gICAqXG4gICAqIEl0IGNhbiBiZSBBc3ltbWV0cmljIFByaXZhdGUgS2V5cyBhbmQgU3ltbWV0cmljIEtleXMgaW4gdGhlIHNhbWUgYXJyYXksXG4gICAqIGFsbCBrZXlzIHdpbGwgYmUgdHJpZWQgd2l0aCBib3RoIG1ldGhvZHMuXG4gICAqL1xuICBkZWNyeXB0aW9uS2V5cz86IEFycmF5PFVpbnQ4QXJyYXkgfCBzdHJpbmc+O1xufVxuXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIFtXYWt1IHYyIFN0b3JlIHByb3RvY29sXShodHRwczovL3JmYy52YWMuZGV2L3NwZWMvMTMvKS5cbiAqL1xuZXhwb3J0IGNsYXNzIFdha3VTdG9yZSB7XG4gIHB1YlN1YlRvcGljOiBzdHJpbmc7XG4gIHB1YmxpYyBkZWNyeXB0aW9uS2V5czogTWFwPFxuICAgIFVpbnQ4QXJyYXksXG4gICAgeyBtZXRob2Q/OiBEZWNyeXB0aW9uTWV0aG9kOyBjb250ZW50VG9waWNzPzogc3RyaW5nW10gfVxuICA+O1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBsaWJwMnA6IExpYnAycCwgb3B0aW9ucz86IENyZWF0ZU9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucz8ucHViU3ViVG9waWMpIHtcbiAgICAgIHRoaXMucHViU3ViVG9waWMgPSBvcHRpb25zLnB1YlN1YlRvcGljO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1YlN1YlRvcGljID0gRGVmYXVsdFB1YlN1YlRvcGljO1xuICAgIH1cblxuICAgIHRoaXMuZGVjcnlwdGlvbktleXMgPSBuZXcgTWFwKCk7XG4gIH1cblxuICAvKipcbiAgICogRG8gYSBIaXN0b3J5IFF1ZXJ5IHRvIGEgV2FrdSBTdG9yZS5cbiAgICpcbiAgICogQHBhcmFtIGNvbnRlbnRUb3BpY3MgVGhlIGNvbnRlbnQgdG9waWNzIHRvIHBhc3MgdG8gdGhlIHF1ZXJ5LCBsZWF2ZSBlbXB0eSB0b1xuICAgKiByZXRyaWV2ZSBhbGwgbWVzc2FnZXMuXG4gICAqXG4gICAqIEB0aHJvd3MgSWYgbm90IGFibGUgdG8gcmVhY2ggYSBXYWt1IFN0b3JlIHBlZXIgdG8gcXVlcnlcbiAgICogb3IgaWYgYW4gZXJyb3IgaXMgZW5jb3VudGVyZWQgd2hlbiBwcm9jZXNzaW5nIHRoZSByZXBseS5cbiAgICovXG4gIGFzeW5jIHF1ZXJ5SGlzdG9yeShcbiAgICBjb250ZW50VG9waWNzOiBzdHJpbmdbXSxcbiAgICBvcHRpb25zPzogUXVlcnlPcHRpb25zXG4gICk6IFByb21pc2U8V2FrdU1lc3NhZ2VbXT4ge1xuICAgIGxldCBzdGFydFRpbWUsIGVuZFRpbWU7XG4gICAgaWYgKG9wdGlvbnM/LnRpbWVGaWx0ZXIpIHtcbiAgICAgIHN0YXJ0VGltZSA9IG9wdGlvbnMudGltZUZpbHRlci5zdGFydFRpbWUuZ2V0VGltZSgpIC8gMTAwMDtcbiAgICAgIGVuZFRpbWUgPSBvcHRpb25zLnRpbWVGaWx0ZXIuZW5kVGltZS5nZXRUaW1lKCkgLyAxMDAwO1xuICAgIH1cblxuICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKFxuICAgICAge1xuICAgICAgICBwdWJTdWJUb3BpYzogdGhpcy5wdWJTdWJUb3BpYyxcbiAgICAgICAgcGFnZURpcmVjdGlvbjogUGFnZURpcmVjdGlvbi5CQUNLV0FSRCxcbiAgICAgICAgcGFnZVNpemU6IERlZmF1bHRQYWdlU2l6ZSxcbiAgICAgIH0sXG4gICAgICBvcHRpb25zLFxuICAgICAge1xuICAgICAgICBzdGFydFRpbWUsXG4gICAgICAgIGVuZFRpbWUsXG4gICAgICB9LFxuICAgICAgeyBjb250ZW50VG9waWNzIH1cbiAgICApO1xuICAgIGRiZygnUXVlcnlpbmcgaGlzdG9yeSB3aXRoIHRoZSBmb2xsb3dpbmcgb3B0aW9ucycsIG9wdGlvbnMpO1xuXG4gICAgbGV0IHBlZXI7XG4gICAgaWYgKG9wdHMucGVlcklkKSB7XG4gICAgICBwZWVyID0gdGhpcy5saWJwMnAucGVlclN0b3JlLmdldChvcHRzLnBlZXJJZCk7XG4gICAgICBpZiAoIXBlZXIpXG4gICAgICAgIHRocm93IGBGYWlsZWQgdG8gcmV0cmlldmUgY29ubmVjdGlvbiBkZXRhaWxzIGZvciBwcm92aWRlZCBwZWVyIGluIHBlZXIgc3RvcmU6ICR7b3B0cy5wZWVySWQudG9CNThTdHJpbmcoKX1gO1xuICAgIH0gZWxzZSB7XG4gICAgICBwZWVyID0gdGhpcy5yYW5kb21QZWVyO1xuICAgICAgaWYgKCFwZWVyKVxuICAgICAgICB0aHJvdyAnRmFpbGVkIHRvIGZpbmQga25vd24gcGVlciB0aGF0IHJlZ2lzdGVycyB3YWt1IHN0b3JlIHByb3RvY29sJztcbiAgICB9XG4gICAgaWYgKCFwZWVyLnByb3RvY29scy5pbmNsdWRlcyhTdG9yZUNvZGVjKSlcbiAgICAgIHRocm93IGBQZWVyIGRvZXMgbm90IHJlZ2lzdGVyIHdha3Ugc3RvcmUgcHJvdG9jb2w6ICR7cGVlci5pZC50b0I1OFN0cmluZygpfWA7XG4gICAgY29uc3QgY29ubmVjdGlvbiA9IHRoaXMubGlicDJwLmNvbm5lY3Rpb25NYW5hZ2VyLmdldChwZWVyLmlkKTtcbiAgICBpZiAoIWNvbm5lY3Rpb24pIHRocm93ICdGYWlsZWQgdG8gZ2V0IGEgY29ubmVjdGlvbiB0byB0aGUgcGVlcic7XG5cbiAgICBjb25zdCBkZWNyeXB0aW9uS2V5cyA9IEFycmF5LmZyb20odGhpcy5kZWNyeXB0aW9uS2V5cykubWFwKFxuICAgICAgKFtrZXksIHsgbWV0aG9kLCBjb250ZW50VG9waWNzIH1dKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAga2V5LFxuICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICBjb250ZW50VG9waWNzLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBBZGQgdGhlIGRlY3J5cHRpb24ga2V5cyBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBhZ2FpbnN0IHRoZVxuICAgIC8vIGNvbnRlbnQgdG9waWNzIGFsc28gcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb24uXG4gICAgaWYgKG9wdHMuZGVjcnlwdGlvbktleXMpIHtcbiAgICAgIG9wdHMuZGVjcnlwdGlvbktleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGRlY3J5cHRpb25LZXlzLnB1c2goe1xuICAgICAgICAgIGtleTogaGV4VG9CdWYoa2V5KSxcbiAgICAgICAgICBjb250ZW50VG9waWNzOiBjb250ZW50VG9waWNzLmxlbmd0aCA/IGNvbnRlbnRUb3BpY3MgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbWV0aG9kOiB1bmRlZmluZWQsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgbWVzc2FnZXM6IFdha3VNZXNzYWdlW10gPSBbXTtcbiAgICBsZXQgY3Vyc29yID0gdW5kZWZpbmVkO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCB7IHN0cmVhbSB9ID0gYXdhaXQgY29ubmVjdGlvbi5uZXdTdHJlYW0oU3RvcmVDb2RlYyk7XG4gICAgICBjb25zdCBxdWVyeU9wdHMgPSBPYmplY3QuYXNzaWduKG9wdHMsIHsgY3Vyc29yIH0pO1xuICAgICAgY29uc3QgaGlzdG9yeVJwY1F1ZXJ5ID0gSGlzdG9yeVJQQy5jcmVhdGVRdWVyeShxdWVyeU9wdHMpO1xuICAgICAgZGJnKCdRdWVyeWluZyBzdG9yZSBwZWVyJywgY29ubmVjdGlvbi5yZW1vdGVBZGRyLnRvU3RyaW5nKCkpO1xuXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBwaXBlKFxuICAgICAgICBbaGlzdG9yeVJwY1F1ZXJ5LmVuY29kZSgpXSxcbiAgICAgICAgbHAuZW5jb2RlKCksXG4gICAgICAgIHN0cmVhbSxcbiAgICAgICAgbHAuZGVjb2RlKCksXG4gICAgICAgIGNvbmNhdFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlcGx5ID0gSGlzdG9yeVJQQy5kZWNvZGUocmVzLnNsaWNlKCkpO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IHJlcGx5LnJlc3BvbnNlO1xuICAgICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgICB0aHJvdyAnSGlzdG9yeSByZXNwb25zZSBtaXNzZXMgcmVzcG9uc2UgZmllbGQnO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIHJlc3BvbnNlLmVycm9yICYmXG4gICAgICAgIHJlc3BvbnNlLmVycm9yID09PSBIaXN0b3J5UmVzcG9uc2VfRXJyb3IuRVJST1JfSU5WQUxJRF9DVVJTT1JcbiAgICAgICkge1xuICAgICAgICB0aHJvdyAnSGlzdG9yeSByZXNwb25zZSBjb250YWlucyBhbiBFcnJvcjogSU5WQUxJRCBDVVJTT1InO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXJlc3BvbnNlLm1lc3NhZ2VzIHx8ICFyZXNwb25zZS5tZXNzYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gTm8gbWVzc2FnZXMgbGVmdCAob3Igc3RvcmVkKVxuICAgICAgICBjb25zb2xlLmxvZygnTm8gbWVzc2FnZXMgcHJlc2VudCBpbiBIaXN0b3J5UlBDIHJlc3BvbnNlJyk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlcztcbiAgICAgIH1cblxuICAgICAgZGJnKFxuICAgICAgICBgJHtyZXNwb25zZS5tZXNzYWdlcy5sZW5ndGh9IG1lc3NhZ2VzIHJldHJpZXZlZCBmb3IgcHVic3ViIHRvcGljICR7b3B0cy5wdWJTdWJUb3BpY31gXG4gICAgICApO1xuXG4gICAgICBjb25zdCBwYWdlTWVzc2FnZXM6IFdha3VNZXNzYWdlW10gPSBbXTtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICByZXNwb25zZS5tZXNzYWdlcy5tYXAoYXN5bmMgKHByb3RvTXNnKSA9PiB7XG4gICAgICAgICAgY29uc3QgbXNnID0gYXdhaXQgV2FrdU1lc3NhZ2UuZGVjb2RlUHJvdG8ocHJvdG9Nc2csIGRlY3J5cHRpb25LZXlzKTtcblxuICAgICAgICAgIGlmIChtc2cpIHtcbiAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2gobXNnKTtcbiAgICAgICAgICAgIHBhZ2VNZXNzYWdlcy5wdXNoKG1zZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgbGV0IGFib3J0ID0gZmFsc2U7XG4gICAgICBpZiAob3B0cy5jYWxsYmFjaykge1xuICAgICAgICBhYm9ydCA9IEJvb2xlYW4ob3B0cy5jYWxsYmFjayhwYWdlTWVzc2FnZXMpKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzcG9uc2VQYWdlU2l6ZSA9IHJlc3BvbnNlLnBhZ2luZ0luZm8/LnBhZ2VTaXplO1xuICAgICAgY29uc3QgcXVlcnlQYWdlU2l6ZSA9IGhpc3RvcnlScGNRdWVyeS5xdWVyeT8ucGFnaW5nSW5mbz8ucGFnZVNpemU7XG4gICAgICBpZiAoXG4gICAgICAgIGFib3J0IHx8XG4gICAgICAgIC8vIFJlc3BvbnNlIHBhZ2Ugc2l6ZSBzbWFsbGVyIHRoYW4gcXVlcnksIG1lYW5pbmcgdGhpcyBpcyB0aGUgbGFzdCBwYWdlXG4gICAgICAgIChyZXNwb25zZVBhZ2VTaXplICYmIHF1ZXJ5UGFnZVNpemUgJiYgcmVzcG9uc2VQYWdlU2l6ZSA8IHF1ZXJ5UGFnZVNpemUpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzO1xuICAgICAgfVxuXG4gICAgICBjdXJzb3IgPSByZXNwb25zZS5wYWdpbmdJbmZvPy5jdXJzb3I7XG4gICAgICBpZiAoY3Vyc29yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gSWYgdGhlIHNlcnZlciBkb2VzIG5vdCByZXR1cm4gY3Vyc29yIHRoZW4gdGhlcmUgaXMgYW4gaXNzdWUsXG4gICAgICAgIC8vIE5lZWQgdG8gYWJvcnQgb3Igd2UgZW5kIHVwIGluIGFuIGluZmluaXRlIGxvb3BcbiAgICAgICAgY29uc29sZS5sb2coJ05vIGN1cnNvciByZXR1cm5lZCBieSBwZWVyLicpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZXM7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgZGVjcnlwdGlvbiBrZXkgdG8gYXR0ZW1wdCBkZWNyeXB0aW9uIG9mIG1lc3NhZ2VzIHJlY2VpdmVkIGluIGFueVxuICAgKiBzdWJzZXF1ZW50IFtbcXVlcnlIaXN0b3J5XV0gY2FsbC4gVGhpcyBjYW4gZWl0aGVyIGJlIGEgcHJpdmF0ZSBrZXkgZm9yXG4gICAqIGFzeW1tZXRyaWMgZW5jcnlwdGlvbiBvciBhIHN5bW1ldHJpYyBrZXkuIFtbV2FrdVN0b3JlXV0gd2lsbCBhdHRlbXB0IHRvXG4gICAqIGRlY3J5cHQgbWVzc2FnZXMgdXNpbmcgYm90aCBtZXRob2RzLlxuICAgKlxuICAgKiBTdHJpbmdzIG11c3QgYmUgaW4gaGV4IGZvcm1hdC5cbiAgICovXG4gIGFkZERlY3J5cHRpb25LZXkoXG4gICAga2V5OiBVaW50OEFycmF5IHwgc3RyaW5nLFxuICAgIG9wdGlvbnM/OiB7IG1ldGhvZD86IERlY3J5cHRpb25NZXRob2Q7IGNvbnRlbnRUb3BpY3M/OiBzdHJpbmdbXSB9XG4gICk6IHZvaWQge1xuICAgIHRoaXMuZGVjcnlwdGlvbktleXMuc2V0KGhleFRvQnVmKGtleSksIG9wdGlvbnMgPz8ge30pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGRlY3J5cHRpb24ga2V5IHRoYXQgd2FzIHVzZWQgdG8gYXR0ZW1wdCBkZWNyeXB0aW9uIG9mIG1lc3NhZ2VzXG4gICAqIHJlY2VpdmVkIGluIHN1YnNlcXVlbnQgW1txdWVyeUhpc3RvcnldXSBjYWxscy5cbiAgICpcbiAgICogU3RyaW5ncyBtdXN0IGJlIGluIGhleCBmb3JtYXQuXG4gICAqL1xuICBkZWxldGVEZWNyeXB0aW9uS2V5KGtleTogVWludDhBcnJheSB8IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuZGVjcnlwdGlvbktleXMuZGVsZXRlKGhleFRvQnVmKGtleSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMga25vd24gcGVlcnMgZnJvbSB0aGUgYWRkcmVzcyBib29rIChgbGlicDJwLnBlZXJTdG9yZWApIHRoYXQgc3VwcG9ydFxuICAgKiBzdG9yZSBwcm90b2NvbC4gV2FrdSBtYXkgb3IgIG1heSBub3QgYmUgY3VycmVudGx5IGNvbm5lY3RlZCB0byB0aGVzZSBwZWVycy5cbiAgICovXG4gIGdldCBwZWVycygpOiBQZWVyW10ge1xuICAgIHJldHVybiBnZXRQZWVyc0ZvclByb3RvY29sKHRoaXMubGlicDJwLCBTdG9yZUNvZGVjKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcmFuZG9tIHBlZXIgdGhhdCBzdXBwb3J0cyBzdG9yZSBwcm90b2NvbCBmcm9tIHRoZSBhZGRyZXNzXG4gICAqIGJvb2sgKGBsaWJwMnAucGVlclN0b3JlYCkuIFdha3UgbWF5IG9yICBtYXkgbm90IGJlIGN1cnJlbnRseSBjb25uZWN0ZWQgdG9cbiAgICogdGhpcyBwZWVyLlxuICAgKi9cbiAgZ2V0IHJhbmRvbVBlZXIoKTogUGVlciB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHNlbGVjdFJhbmRvbVBlZXIodGhpcy5wZWVycyk7XG4gIH1cbn1cbiIsImV4cG9ydCB7IFdha3VNZXNzYWdlIH0gZnJvbSAnLi93YWt1L3YyL21lc3NhZ2UnO1xuXG5leHBvcnQge1xuICBJbmRleCxcbiAgUGFnaW5nSW5mbyxcbiAgUGFnaW5nSW5mb19EaXJlY3Rpb24sXG4gIENvbnRlbnRGaWx0ZXIsXG4gIEhpc3RvcnlRdWVyeSxcbiAgSGlzdG9yeVJlc3BvbnNlLFxuICBIaXN0b3J5UmVzcG9uc2VfRXJyb3IsXG4gIEhpc3RvcnlSUEMsXG59IGZyb20gJy4vd2FrdS92Mi9zdG9yZSc7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IExvbmcgZnJvbSAnbG9uZyc7XG5pbXBvcnQgX20wIGZyb20gJ3Byb3RvYnVmanMvbWluaW1hbCc7XG5pbXBvcnQgeyBXYWt1TWVzc2FnZSB9IGZyb20gJy4uLy4uL3dha3UvdjIvbWVzc2FnZSc7XG5cbmV4cG9ydCBjb25zdCBwcm90b2J1ZlBhY2thZ2UgPSAnd2FrdS52Mic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHVzaFJlcXVlc3Qge1xuICBwdWJTdWJUb3BpYzogc3RyaW5nO1xuICBtZXNzYWdlOiBXYWt1TWVzc2FnZSB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQdXNoUmVzcG9uc2Uge1xuICBpc1N1Y2Nlc3M6IGJvb2xlYW47XG4gIGluZm86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQdXNoUlBDIHtcbiAgcmVxdWVzdElkOiBzdHJpbmc7XG4gIHJlcXVlc3Q6IFB1c2hSZXF1ZXN0IHwgdW5kZWZpbmVkO1xuICByZXNwb25zZTogUHVzaFJlc3BvbnNlIHwgdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCYXNlUHVzaFJlcXVlc3QoKTogUHVzaFJlcXVlc3Qge1xuICByZXR1cm4geyBwdWJTdWJUb3BpYzogJycsIG1lc3NhZ2U6IHVuZGVmaW5lZCB9O1xufVxuXG5leHBvcnQgY29uc3QgUHVzaFJlcXVlc3QgPSB7XG4gIGVuY29kZShcbiAgICBtZXNzYWdlOiBQdXNoUmVxdWVzdCxcbiAgICB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpXG4gICk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnB1YlN1YlRvcGljICE9PSAnJykge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UucHViU3ViVG9waWMpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFdha3VNZXNzYWdlLmVuY29kZShtZXNzYWdlLm1lc3NhZ2UsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUHVzaFJlcXVlc3Qge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogbmV3IF9tMC5SZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUHVzaFJlcXVlc3QoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG1lc3NhZ2UucHViU3ViVG9waWMgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLm1lc3NhZ2UgPSBXYWt1TWVzc2FnZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQdXNoUmVxdWVzdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHB1YlN1YlRvcGljOiBpc1NldChvYmplY3QucHViU3ViVG9waWMpID8gU3RyaW5nKG9iamVjdC5wdWJTdWJUb3BpYykgOiAnJyxcbiAgICAgIG1lc3NhZ2U6IGlzU2V0KG9iamVjdC5tZXNzYWdlKVxuICAgICAgICA/IFdha3VNZXNzYWdlLmZyb21KU09OKG9iamVjdC5tZXNzYWdlKVxuICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBQdXNoUmVxdWVzdCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5wdWJTdWJUb3BpYyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLnB1YlN1YlRvcGljID0gbWVzc2FnZS5wdWJTdWJUb3BpYyk7XG4gICAgbWVzc2FnZS5tZXNzYWdlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmoubWVzc2FnZSA9IG1lc3NhZ2UubWVzc2FnZVxuICAgICAgICA/IFdha3VNZXNzYWdlLnRvSlNPTihtZXNzYWdlLm1lc3NhZ2UpXG4gICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQdXNoUmVxdWVzdD4sIEk+PihcbiAgICBvYmplY3Q6IElcbiAgKTogUHVzaFJlcXVlc3Qge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUHVzaFJlcXVlc3QoKTtcbiAgICBtZXNzYWdlLnB1YlN1YlRvcGljID0gb2JqZWN0LnB1YlN1YlRvcGljID8/ICcnO1xuICAgIG1lc3NhZ2UubWVzc2FnZSA9XG4gICAgICBvYmplY3QubWVzc2FnZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5tZXNzYWdlICE9PSBudWxsXG4gICAgICAgID8gV2FrdU1lc3NhZ2UuZnJvbVBhcnRpYWwob2JqZWN0Lm1lc3NhZ2UpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVB1c2hSZXNwb25zZSgpOiBQdXNoUmVzcG9uc2Uge1xuICByZXR1cm4geyBpc1N1Y2Nlc3M6IGZhbHNlLCBpbmZvOiAnJyB9O1xufVxuXG5leHBvcnQgY29uc3QgUHVzaFJlc3BvbnNlID0ge1xuICBlbmNvZGUoXG4gICAgbWVzc2FnZTogUHVzaFJlc3BvbnNlLFxuICAgIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKClcbiAgKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UuaXNTdWNjZXNzID09PSB0cnVlKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS5pc1N1Y2Nlc3MpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5pbmZvICE9PSAnJykge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UuaW5mbyk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUHVzaFJlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVB1c2hSZXNwb25zZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5pc1N1Y2Nlc3MgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5pbmZvID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQdXNoUmVzcG9uc2Uge1xuICAgIHJldHVybiB7XG4gICAgICBpc1N1Y2Nlc3M6IGlzU2V0KG9iamVjdC5pc1N1Y2Nlc3MpID8gQm9vbGVhbihvYmplY3QuaXNTdWNjZXNzKSA6IGZhbHNlLFxuICAgICAgaW5mbzogaXNTZXQob2JqZWN0LmluZm8pID8gU3RyaW5nKG9iamVjdC5pbmZvKSA6ICcnLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFB1c2hSZXNwb25zZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5pc1N1Y2Nlc3MgIT09IHVuZGVmaW5lZCAmJiAob2JqLmlzU3VjY2VzcyA9IG1lc3NhZ2UuaXNTdWNjZXNzKTtcbiAgICBtZXNzYWdlLmluZm8gIT09IHVuZGVmaW5lZCAmJiAob2JqLmluZm8gPSBtZXNzYWdlLmluZm8pO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG5cbiAgZnJvbVBhcnRpYWw8SSBleHRlbmRzIEV4YWN0PERlZXBQYXJ0aWFsPFB1c2hSZXNwb25zZT4sIEk+PihcbiAgICBvYmplY3Q6IElcbiAgKTogUHVzaFJlc3BvbnNlIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVB1c2hSZXNwb25zZSgpO1xuICAgIG1lc3NhZ2UuaXNTdWNjZXNzID0gb2JqZWN0LmlzU3VjY2VzcyA/PyBmYWxzZTtcbiAgICBtZXNzYWdlLmluZm8gPSBvYmplY3QuaW5mbyA/PyAnJztcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQdXNoUlBDKCk6IFB1c2hSUEMge1xuICByZXR1cm4geyByZXF1ZXN0SWQ6ICcnLCByZXF1ZXN0OiB1bmRlZmluZWQsIHJlc3BvbnNlOiB1bmRlZmluZWQgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFB1c2hSUEMgPSB7XG4gIGVuY29kZShcbiAgICBtZXNzYWdlOiBQdXNoUlBDLFxuICAgIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKClcbiAgKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UucmVxdWVzdElkICE9PSAnJykge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UucmVxdWVzdElkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucmVxdWVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQdXNoUmVxdWVzdC5lbmNvZGUobWVzc2FnZS5yZXF1ZXN0LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5yZXNwb25zZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBQdXNoUmVzcG9uc2UuZW5jb2RlKG1lc3NhZ2UucmVzcG9uc2UsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUHVzaFJQQyB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQdXNoUlBDKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnJlcXVlc3RJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UucmVxdWVzdCA9IFB1c2hSZXF1ZXN0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBtZXNzYWdlLnJlc3BvbnNlID0gUHVzaFJlc3BvbnNlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcblxuICBmcm9tSlNPTihvYmplY3Q6IGFueSk6IFB1c2hSUEMge1xuICAgIHJldHVybiB7XG4gICAgICByZXF1ZXN0SWQ6IGlzU2V0KG9iamVjdC5yZXF1ZXN0SWQpID8gU3RyaW5nKG9iamVjdC5yZXF1ZXN0SWQpIDogJycsXG4gICAgICByZXF1ZXN0OiBpc1NldChvYmplY3QucmVxdWVzdClcbiAgICAgICAgPyBQdXNoUmVxdWVzdC5mcm9tSlNPTihvYmplY3QucmVxdWVzdClcbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICByZXNwb25zZTogaXNTZXQob2JqZWN0LnJlc3BvbnNlKVxuICAgICAgICA/IFB1c2hSZXNwb25zZS5mcm9tSlNPTihvYmplY3QucmVzcG9uc2UpXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IFB1c2hSUEMpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UucmVxdWVzdElkICE9PSB1bmRlZmluZWQgJiYgKG9iai5yZXF1ZXN0SWQgPSBtZXNzYWdlLnJlcXVlc3RJZCk7XG4gICAgbWVzc2FnZS5yZXF1ZXN0ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmoucmVxdWVzdCA9IG1lc3NhZ2UucmVxdWVzdFxuICAgICAgICA/IFB1c2hSZXF1ZXN0LnRvSlNPTihtZXNzYWdlLnJlcXVlc3QpXG4gICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICBtZXNzYWdlLnJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmoucmVzcG9uc2UgPSBtZXNzYWdlLnJlc3BvbnNlXG4gICAgICAgID8gUHVzaFJlc3BvbnNlLnRvSlNPTihtZXNzYWdlLnJlc3BvbnNlKVxuICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8UHVzaFJQQz4sIEk+PihvYmplY3Q6IEkpOiBQdXNoUlBDIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVB1c2hSUEMoKTtcbiAgICBtZXNzYWdlLnJlcXVlc3RJZCA9IG9iamVjdC5yZXF1ZXN0SWQgPz8gJyc7XG4gICAgbWVzc2FnZS5yZXF1ZXN0ID1cbiAgICAgIG9iamVjdC5yZXF1ZXN0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnJlcXVlc3QgIT09IG51bGxcbiAgICAgICAgPyBQdXNoUmVxdWVzdC5mcm9tUGFydGlhbChvYmplY3QucmVxdWVzdClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5yZXNwb25zZSA9XG4gICAgICBvYmplY3QucmVzcG9uc2UgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucmVzcG9uc2UgIT09IG51bGxcbiAgICAgICAgPyBQdXNoUmVzcG9uc2UuZnJvbVBhcnRpYWwob2JqZWN0LnJlc3BvbnNlKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbnR5cGUgQnVpbHRpbiA9XG4gIHwgRGF0ZVxuICB8IEZ1bmN0aW9uXG4gIHwgVWludDhBcnJheVxuICB8IHN0cmluZ1xuICB8IG51bWJlclxuICB8IGJvb2xlYW5cbiAgfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCB0eXBlIERlZXBQYXJ0aWFsPFQ+ID0gVCBleHRlbmRzIEJ1aWx0aW5cbiAgPyBUXG4gIDogVCBleHRlbmRzIEFycmF5PGluZmVyIFU+XG4gID8gQXJyYXk8RGVlcFBhcnRpYWw8VT4+XG4gIDogVCBleHRlbmRzIFJlYWRvbmx5QXJyYXk8aW5mZXIgVT5cbiAgPyBSZWFkb25seUFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICA6IFQgZXh0ZW5kcyB7fVxuICA/IHsgW0sgaW4ga2V5b2YgVF0/OiBEZWVwUGFydGlhbDxUW0tdPiB9XG4gIDogUGFydGlhbDxUPjtcblxudHlwZSBLZXlzT2ZVbmlvbjxUPiA9IFQgZXh0ZW5kcyBUID8ga2V5b2YgVCA6IG5ldmVyO1xuZXhwb3J0IHR5cGUgRXhhY3Q8UCwgSSBleHRlbmRzIFA+ID0gUCBleHRlbmRzIEJ1aWx0aW5cbiAgPyBQXG4gIDogUCAmIHsgW0sgaW4ga2V5b2YgUF06IEV4YWN0PFBbS10sIElbS10+IH0gJiBSZWNvcmQ8XG4gICAgICAgIEV4Y2x1ZGU8a2V5b2YgSSwgS2V5c09mVW5pb248UD4+LFxuICAgICAgICBuZXZlclxuICAgICAgPjtcblxuaWYgKF9tMC51dGlsLkxvbmcgIT09IExvbmcpIHtcbiAgX20wLnV0aWwuTG9uZyA9IExvbmcgYXMgYW55O1xuICBfbTAuY29uZmlndXJlKCk7XG59XG5cbmZ1bmN0aW9uIGlzU2V0KHZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IExvbmcgZnJvbSAnbG9uZyc7XG5pbXBvcnQgX20wIGZyb20gJ3Byb3RvYnVmanMvbWluaW1hbCc7XG5cbmV4cG9ydCBjb25zdCBwcm90b2J1ZlBhY2thZ2UgPSAnd2FrdS52Mic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2FrdU1lc3NhZ2Uge1xuICBwYXlsb2FkPzogVWludDhBcnJheSB8IHVuZGVmaW5lZDtcbiAgY29udGVudFRvcGljPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICB2ZXJzaW9uPzogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICB0aW1lc3RhbXA/OiBudW1iZXIgfCB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VXYWt1TWVzc2FnZSgpOiBXYWt1TWVzc2FnZSB7XG4gIHJldHVybiB7XG4gICAgcGF5bG9hZDogdW5kZWZpbmVkLFxuICAgIGNvbnRlbnRUb3BpYzogdW5kZWZpbmVkLFxuICAgIHZlcnNpb246IHVuZGVmaW5lZCxcbiAgICB0aW1lc3RhbXA6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IFdha3VNZXNzYWdlID0ge1xuICBlbmNvZGUoXG4gICAgbWVzc2FnZTogV2FrdU1lc3NhZ2UsXG4gICAgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKVxuICApOiBfbTAuV3JpdGVyIHtcbiAgICBpZiAobWVzc2FnZS5wYXlsb2FkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLmJ5dGVzKG1lc3NhZ2UucGF5bG9hZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmNvbnRlbnRUb3BpYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5jb250ZW50VG9waWMpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52ZXJzaW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjQpLnVpbnQzMihtZXNzYWdlLnZlcnNpb24pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigzMykuZG91YmxlKG1lc3NhZ2UudGltZXN0YW1wKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBXYWt1TWVzc2FnZSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VXYWt1TWVzc2FnZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5wYXlsb2FkID0gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBtZXNzYWdlLmNvbnRlbnRUb3BpYyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2UudmVyc2lvbiA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIG1lc3NhZ2UudGltZXN0YW1wID0gcmVhZGVyLmRvdWJsZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBXYWt1TWVzc2FnZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBheWxvYWQ6IGlzU2V0KG9iamVjdC5wYXlsb2FkKVxuICAgICAgICA/IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QucGF5bG9hZClcbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICBjb250ZW50VG9waWM6IGlzU2V0KG9iamVjdC5jb250ZW50VG9waWMpXG4gICAgICAgID8gU3RyaW5nKG9iamVjdC5jb250ZW50VG9waWMpXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgdmVyc2lvbjogaXNTZXQob2JqZWN0LnZlcnNpb24pID8gTnVtYmVyKG9iamVjdC52ZXJzaW9uKSA6IHVuZGVmaW5lZCxcbiAgICAgIHRpbWVzdGFtcDogaXNTZXQob2JqZWN0LnRpbWVzdGFtcCkgPyBOdW1iZXIob2JqZWN0LnRpbWVzdGFtcCkgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogV2FrdU1lc3NhZ2UpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UucGF5bG9hZCAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLnBheWxvYWQgPVxuICAgICAgICBtZXNzYWdlLnBheWxvYWQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UucGF5bG9hZClcbiAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgbWVzc2FnZS5jb250ZW50VG9waWMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5jb250ZW50VG9waWMgPSBtZXNzYWdlLmNvbnRlbnRUb3BpYyk7XG4gICAgbWVzc2FnZS52ZXJzaW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmoudmVyc2lvbiA9IE1hdGgucm91bmQobWVzc2FnZS52ZXJzaW9uKSk7XG4gICAgbWVzc2FnZS50aW1lc3RhbXAgIT09IHVuZGVmaW5lZCAmJiAob2JqLnRpbWVzdGFtcCA9IG1lc3NhZ2UudGltZXN0YW1wKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxXYWt1TWVzc2FnZT4sIEk+PihcbiAgICBvYmplY3Q6IElcbiAgKTogV2FrdU1lc3NhZ2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlV2FrdU1lc3NhZ2UoKTtcbiAgICBtZXNzYWdlLnBheWxvYWQgPSBvYmplY3QucGF5bG9hZCA/PyB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5jb250ZW50VG9waWMgPSBvYmplY3QuY29udGVudFRvcGljID8/IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLnZlcnNpb24gPSBvYmplY3QudmVyc2lvbiA/PyB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS50aW1lc3RhbXAgPSBvYmplY3QudGltZXN0YW1wID8/IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmRlY2xhcmUgdmFyIHNlbGY6IGFueSB8IHVuZGVmaW5lZDtcbmRlY2xhcmUgdmFyIHdpbmRvdzogYW55IHwgdW5kZWZpbmVkO1xuZGVjbGFyZSB2YXIgZ2xvYmFsOiBhbnkgfCB1bmRlZmluZWQ7XG52YXIgZ2xvYmFsVGhpczogYW55ID0gKCgpID0+IHtcbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIGdsb2JhbFRoaXM7XG4gIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBzZWxmO1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiB3aW5kb3c7XG4gIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIGdsb2JhbDtcbiAgdGhyb3cgJ1VuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdCc7XG59KSgpO1xuXG5jb25zdCBhdG9iOiAoYjY0OiBzdHJpbmcpID0+IHN0cmluZyA9XG4gIGdsb2JhbFRoaXMuYXRvYiB8fFxuICAoKGI2NCkgPT4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiNjQsICdiYXNlNjQnKS50b1N0cmluZygnYmluYXJ5JykpO1xuZnVuY3Rpb24gYnl0ZXNGcm9tQmFzZTY0KGI2NDogc3RyaW5nKTogVWludDhBcnJheSB7XG4gIGNvbnN0IGJpbiA9IGF0b2IoYjY0KTtcbiAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYmluLmxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYmluLmxlbmd0aDsgKytpKSB7XG4gICAgYXJyW2ldID0gYmluLmNoYXJDb2RlQXQoaSk7XG4gIH1cbiAgcmV0dXJuIGFycjtcbn1cblxuY29uc3QgYnRvYTogKGJpbjogc3RyaW5nKSA9PiBzdHJpbmcgPVxuICBnbG9iYWxUaGlzLmJ0b2EgfHxcbiAgKChiaW4pID0+IGdsb2JhbFRoaXMuQnVmZmVyLmZyb20oYmluLCAnYmluYXJ5JykudG9TdHJpbmcoJ2Jhc2U2NCcpKTtcbmZ1bmN0aW9uIGJhc2U2NEZyb21CeXRlcyhhcnI6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICBjb25zdCBiaW46IHN0cmluZ1tdID0gW107XG4gIGZvciAoY29uc3QgYnl0ZSBvZiBhcnIpIHtcbiAgICBiaW4ucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGUpKTtcbiAgfVxuICByZXR1cm4gYnRvYShiaW4uam9pbignJykpO1xufVxuXG50eXBlIEJ1aWx0aW4gPVxuICB8IERhdGVcbiAgfCBGdW5jdGlvblxuICB8IFVpbnQ4QXJyYXlcbiAgfCBzdHJpbmdcbiAgfCBudW1iZXJcbiAgfCBib29sZWFuXG4gIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgdHlwZSBEZWVwUGFydGlhbDxUPiA9IFQgZXh0ZW5kcyBCdWlsdGluXG4gID8gVFxuICA6IFQgZXh0ZW5kcyBBcnJheTxpbmZlciBVPlxuICA/IEFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICA6IFQgZXh0ZW5kcyBSZWFkb25seUFycmF5PGluZmVyIFU+XG4gID8gUmVhZG9ubHlBcnJheTxEZWVwUGFydGlhbDxVPj5cbiAgOiBUIGV4dGVuZHMge31cbiAgPyB7IFtLIGluIGtleW9mIFRdPzogRGVlcFBhcnRpYWw8VFtLXT4gfVxuICA6IFBhcnRpYWw8VD47XG5cbnR5cGUgS2V5c09mVW5pb248VD4gPSBUIGV4dGVuZHMgVCA/IGtleW9mIFQgOiBuZXZlcjtcbmV4cG9ydCB0eXBlIEV4YWN0PFAsIEkgZXh0ZW5kcyBQPiA9IFAgZXh0ZW5kcyBCdWlsdGluXG4gID8gUFxuICA6IFAgJiB7IFtLIGluIGtleW9mIFBdOiBFeGFjdDxQW0tdLCBJW0tdPiB9ICYgUmVjb3JkPFxuICAgICAgICBFeGNsdWRlPGtleW9mIEksIEtleXNPZlVuaW9uPFA+PixcbiAgICAgICAgbmV2ZXJcbiAgICAgID47XG5cbmlmIChfbTAudXRpbC5Mb25nICE9PSBMb25nKSB7XG4gIF9tMC51dGlsLkxvbmcgPSBMb25nIGFzIGFueTtcbiAgX20wLmNvbmZpZ3VyZSgpO1xufVxuXG5mdW5jdGlvbiBpc1NldCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBMb25nIGZyb20gJ2xvbmcnO1xuaW1wb3J0IF9tMCBmcm9tICdwcm90b2J1ZmpzL21pbmltYWwnO1xuaW1wb3J0IHsgV2FrdU1lc3NhZ2UgfSBmcm9tICcuLi8uLi93YWt1L3YyL21lc3NhZ2UnO1xuXG5leHBvcnQgY29uc3QgcHJvdG9idWZQYWNrYWdlID0gJ3dha3UudjInO1xuXG5leHBvcnQgaW50ZXJmYWNlIEluZGV4IHtcbiAgZGlnZXN0OiBVaW50OEFycmF5O1xuICByZWNlaXZlZFRpbWU6IG51bWJlcjtcbiAgc2VuZGVyVGltZTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhZ2luZ0luZm8ge1xuICBwYWdlU2l6ZTogbnVtYmVyO1xuICBjdXJzb3I6IEluZGV4IHwgdW5kZWZpbmVkO1xuICBkaXJlY3Rpb246IFBhZ2luZ0luZm9fRGlyZWN0aW9uO1xufVxuXG5leHBvcnQgZW51bSBQYWdpbmdJbmZvX0RpcmVjdGlvbiB7XG4gIERJUkVDVElPTl9CQUNLV0FSRF9VTlNQRUNJRklFRCA9IDAsXG4gIERJUkVDVElPTl9GT1JXQVJEID0gMSxcbiAgVU5SRUNPR05JWkVEID0gLTEsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYWdpbmdJbmZvX0RpcmVjdGlvbkZyb21KU09OKFxuICBvYmplY3Q6IGFueVxuKTogUGFnaW5nSW5mb19EaXJlY3Rpb24ge1xuICBzd2l0Y2ggKG9iamVjdCkge1xuICAgIGNhc2UgMDpcbiAgICBjYXNlICdESVJFQ1RJT05fQkFDS1dBUkRfVU5TUEVDSUZJRUQnOlxuICAgICAgcmV0dXJuIFBhZ2luZ0luZm9fRGlyZWN0aW9uLkRJUkVDVElPTl9CQUNLV0FSRF9VTlNQRUNJRklFRDtcbiAgICBjYXNlIDE6XG4gICAgY2FzZSAnRElSRUNUSU9OX0ZPUldBUkQnOlxuICAgICAgcmV0dXJuIFBhZ2luZ0luZm9fRGlyZWN0aW9uLkRJUkVDVElPTl9GT1JXQVJEO1xuICAgIGNhc2UgLTE6XG4gICAgY2FzZSAnVU5SRUNPR05JWkVEJzpcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFBhZ2luZ0luZm9fRGlyZWN0aW9uLlVOUkVDT0dOSVpFRDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFnaW5nSW5mb19EaXJlY3Rpb25Ub0pTT04oXG4gIG9iamVjdDogUGFnaW5nSW5mb19EaXJlY3Rpb25cbik6IHN0cmluZyB7XG4gIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgY2FzZSBQYWdpbmdJbmZvX0RpcmVjdGlvbi5ESVJFQ1RJT05fQkFDS1dBUkRfVU5TUEVDSUZJRUQ6XG4gICAgICByZXR1cm4gJ0RJUkVDVElPTl9CQUNLV0FSRF9VTlNQRUNJRklFRCc7XG4gICAgY2FzZSBQYWdpbmdJbmZvX0RpcmVjdGlvbi5ESVJFQ1RJT05fRk9SV0FSRDpcbiAgICAgIHJldHVybiAnRElSRUNUSU9OX0ZPUldBUkQnO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJ1VOS05PV04nO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGVudEZpbHRlciB7XG4gIGNvbnRlbnRUb3BpYzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhpc3RvcnlRdWVyeSB7XG4gIHB1YlN1YlRvcGljPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBjb250ZW50RmlsdGVyczogQ29udGVudEZpbHRlcltdO1xuICBwYWdpbmdJbmZvPzogUGFnaW5nSW5mbyB8IHVuZGVmaW5lZDtcbiAgc3RhcnRUaW1lPzogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICBlbmRUaW1lPzogbnVtYmVyIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhpc3RvcnlSZXNwb25zZSB7XG4gIG1lc3NhZ2VzOiBXYWt1TWVzc2FnZVtdO1xuICBwYWdpbmdJbmZvOiBQYWdpbmdJbmZvIHwgdW5kZWZpbmVkO1xuICBlcnJvcjogSGlzdG9yeVJlc3BvbnNlX0Vycm9yO1xufVxuXG5leHBvcnQgZW51bSBIaXN0b3J5UmVzcG9uc2VfRXJyb3Ige1xuICBFUlJPUl9OT05FX1VOU1BFQ0lGSUVEID0gMCxcbiAgRVJST1JfSU5WQUxJRF9DVVJTT1IgPSAxLFxuICBVTlJFQ09HTklaRUQgPSAtMSxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhpc3RvcnlSZXNwb25zZV9FcnJvckZyb21KU09OKFxuICBvYmplY3Q6IGFueVxuKTogSGlzdG9yeVJlc3BvbnNlX0Vycm9yIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIDA6XG4gICAgY2FzZSAnRVJST1JfTk9ORV9VTlNQRUNJRklFRCc6XG4gICAgICByZXR1cm4gSGlzdG9yeVJlc3BvbnNlX0Vycm9yLkVSUk9SX05PTkVfVU5TUEVDSUZJRUQ7XG4gICAgY2FzZSAxOlxuICAgIGNhc2UgJ0VSUk9SX0lOVkFMSURfQ1VSU09SJzpcbiAgICAgIHJldHVybiBIaXN0b3J5UmVzcG9uc2VfRXJyb3IuRVJST1JfSU5WQUxJRF9DVVJTT1I7XG4gICAgY2FzZSAtMTpcbiAgICBjYXNlICdVTlJFQ09HTklaRUQnOlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gSGlzdG9yeVJlc3BvbnNlX0Vycm9yLlVOUkVDT0dOSVpFRDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGlzdG9yeVJlc3BvbnNlX0Vycm9yVG9KU09OKFxuICBvYmplY3Q6IEhpc3RvcnlSZXNwb25zZV9FcnJvclxuKTogc3RyaW5nIHtcbiAgc3dpdGNoIChvYmplY3QpIHtcbiAgICBjYXNlIEhpc3RvcnlSZXNwb25zZV9FcnJvci5FUlJPUl9OT05FX1VOU1BFQ0lGSUVEOlxuICAgICAgcmV0dXJuICdFUlJPUl9OT05FX1VOU1BFQ0lGSUVEJztcbiAgICBjYXNlIEhpc3RvcnlSZXNwb25zZV9FcnJvci5FUlJPUl9JTlZBTElEX0NVUlNPUjpcbiAgICAgIHJldHVybiAnRVJST1JfSU5WQUxJRF9DVVJTT1InO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJ1VOS05PV04nO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGlzdG9yeVJQQyB7XG4gIHJlcXVlc3RJZDogc3RyaW5nO1xuICBxdWVyeTogSGlzdG9yeVF1ZXJ5IHwgdW5kZWZpbmVkO1xuICByZXNwb25zZTogSGlzdG9yeVJlc3BvbnNlIHwgdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCYXNlSW5kZXgoKTogSW5kZXgge1xuICByZXR1cm4geyBkaWdlc3Q6IG5ldyBVaW50OEFycmF5KCksIHJlY2VpdmVkVGltZTogMCwgc2VuZGVyVGltZTogMCB9O1xufVxuXG5leHBvcnQgY29uc3QgSW5kZXggPSB7XG4gIGVuY29kZShtZXNzYWdlOiBJbmRleCwgd3JpdGVyOiBfbTAuV3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmRpZ2VzdC5sZW5ndGggIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLmJ5dGVzKG1lc3NhZ2UuZGlnZXN0KTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucmVjZWl2ZWRUaW1lICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE3KS5kb3VibGUobWVzc2FnZS5yZWNlaXZlZFRpbWUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zZW5kZXJUaW1lICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI1KS5kb3VibGUobWVzc2FnZS5zZW5kZXJUaW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcblxuICBkZWNvZGUoaW5wdXQ6IF9tMC5SZWFkZXIgfCBVaW50OEFycmF5LCBsZW5ndGg/OiBudW1iZXIpOiBJbmRleCB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VJbmRleCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgbWVzc2FnZS5kaWdlc3QgPSByZWFkZXIuYnl0ZXMoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UucmVjZWl2ZWRUaW1lID0gcmVhZGVyLmRvdWJsZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5zZW5kZXJUaW1lID0gcmVhZGVyLmRvdWJsZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBJbmRleCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRpZ2VzdDogaXNTZXQob2JqZWN0LmRpZ2VzdClcbiAgICAgICAgPyBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmRpZ2VzdClcbiAgICAgICAgOiBuZXcgVWludDhBcnJheSgpLFxuICAgICAgcmVjZWl2ZWRUaW1lOiBpc1NldChvYmplY3QucmVjZWl2ZWRUaW1lKVxuICAgICAgICA/IE51bWJlcihvYmplY3QucmVjZWl2ZWRUaW1lKVxuICAgICAgICA6IDAsXG4gICAgICBzZW5kZXJUaW1lOiBpc1NldChvYmplY3Quc2VuZGVyVGltZSkgPyBOdW1iZXIob2JqZWN0LnNlbmRlclRpbWUpIDogMCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBJbmRleCk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5kaWdlc3QgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5kaWdlc3QgPSBiYXNlNjRGcm9tQnl0ZXMoXG4gICAgICAgIG1lc3NhZ2UuZGlnZXN0ICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLmRpZ2VzdCA6IG5ldyBVaW50OEFycmF5KClcbiAgICAgICkpO1xuICAgIG1lc3NhZ2UucmVjZWl2ZWRUaW1lICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmoucmVjZWl2ZWRUaW1lID0gbWVzc2FnZS5yZWNlaXZlZFRpbWUpO1xuICAgIG1lc3NhZ2Uuc2VuZGVyVGltZSAhPT0gdW5kZWZpbmVkICYmIChvYmouc2VuZGVyVGltZSA9IG1lc3NhZ2Uuc2VuZGVyVGltZSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8SW5kZXg+LCBJPj4ob2JqZWN0OiBJKTogSW5kZXgge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlSW5kZXgoKTtcbiAgICBtZXNzYWdlLmRpZ2VzdCA9IG9iamVjdC5kaWdlc3QgPz8gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICBtZXNzYWdlLnJlY2VpdmVkVGltZSA9IG9iamVjdC5yZWNlaXZlZFRpbWUgPz8gMDtcbiAgICBtZXNzYWdlLnNlbmRlclRpbWUgPSBvYmplY3Quc2VuZGVyVGltZSA/PyAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZVBhZ2luZ0luZm8oKTogUGFnaW5nSW5mbyB7XG4gIHJldHVybiB7IHBhZ2VTaXplOiAwLCBjdXJzb3I6IHVuZGVmaW5lZCwgZGlyZWN0aW9uOiAwIH07XG59XG5cbmV4cG9ydCBjb25zdCBQYWdpbmdJbmZvID0ge1xuICBlbmNvZGUoXG4gICAgbWVzc2FnZTogUGFnaW5nSW5mbyxcbiAgICB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpXG4gICk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnBhZ2VTaXplICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgpLnVpbnQ2NChtZXNzYWdlLnBhZ2VTaXplKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuY3Vyc29yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIEluZGV4LmVuY29kZShtZXNzYWdlLmN1cnNvciwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZGlyZWN0aW9uICE9PSAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI0KS5pbnQzMihtZXNzYWdlLmRpcmVjdGlvbik7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogUGFnaW5nSW5mbyB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQYWdpbmdJbmZvKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnBhZ2VTaXplID0gbG9uZ1RvTnVtYmVyKHJlYWRlci51aW50NjQoKSBhcyBMb25nKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UuY3Vyc29yID0gSW5kZXguZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2UuZGlyZWN0aW9uID0gcmVhZGVyLmludDMyKCkgYXMgYW55O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG5cbiAgZnJvbUpTT04ob2JqZWN0OiBhbnkpOiBQYWdpbmdJbmZvIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGFnZVNpemU6IGlzU2V0KG9iamVjdC5wYWdlU2l6ZSkgPyBOdW1iZXIob2JqZWN0LnBhZ2VTaXplKSA6IDAsXG4gICAgICBjdXJzb3I6IGlzU2V0KG9iamVjdC5jdXJzb3IpID8gSW5kZXguZnJvbUpTT04ob2JqZWN0LmN1cnNvcikgOiB1bmRlZmluZWQsXG4gICAgICBkaXJlY3Rpb246IGlzU2V0KG9iamVjdC5kaXJlY3Rpb24pXG4gICAgICAgID8gcGFnaW5nSW5mb19EaXJlY3Rpb25Gcm9tSlNPTihvYmplY3QuZGlyZWN0aW9uKVxuICAgICAgICA6IDAsXG4gICAgfTtcbiAgfSxcblxuICB0b0pTT04obWVzc2FnZTogUGFnaW5nSW5mbyk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgbWVzc2FnZS5wYWdlU2l6ZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLnBhZ2VTaXplID0gTWF0aC5yb3VuZChtZXNzYWdlLnBhZ2VTaXplKSk7XG4gICAgbWVzc2FnZS5jdXJzb3IgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5jdXJzb3IgPSBtZXNzYWdlLmN1cnNvciA/IEluZGV4LnRvSlNPTihtZXNzYWdlLmN1cnNvcikgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuZGlyZWN0aW9uICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmouZGlyZWN0aW9uID0gcGFnaW5nSW5mb19EaXJlY3Rpb25Ub0pTT04obWVzc2FnZS5kaXJlY3Rpb24pKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxQYWdpbmdJbmZvPiwgST4+KFxuICAgIG9iamVjdDogSVxuICApOiBQYWdpbmdJbmZvIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBhZ2luZ0luZm8oKTtcbiAgICBtZXNzYWdlLnBhZ2VTaXplID0gb2JqZWN0LnBhZ2VTaXplID8/IDA7XG4gICAgbWVzc2FnZS5jdXJzb3IgPVxuICAgICAgb2JqZWN0LmN1cnNvciAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jdXJzb3IgIT09IG51bGxcbiAgICAgICAgPyBJbmRleC5mcm9tUGFydGlhbChvYmplY3QuY3Vyc29yKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmRpcmVjdGlvbiA9IG9iamVjdC5kaXJlY3Rpb24gPz8gMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDb250ZW50RmlsdGVyKCk6IENvbnRlbnRGaWx0ZXIge1xuICByZXR1cm4geyBjb250ZW50VG9waWM6ICcnIH07XG59XG5cbmV4cG9ydCBjb25zdCBDb250ZW50RmlsdGVyID0ge1xuICBlbmNvZGUoXG4gICAgbWVzc2FnZTogQ29udGVudEZpbHRlcixcbiAgICB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpXG4gICk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLmNvbnRlbnRUb3BpYyAhPT0gJycpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmNvbnRlbnRUb3BpYyk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogQ29udGVudEZpbHRlciB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDb250ZW50RmlsdGVyKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLmNvbnRlbnRUb3BpYyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogQ29udGVudEZpbHRlciB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnRlbnRUb3BpYzogaXNTZXQob2JqZWN0LmNvbnRlbnRUb3BpYylcbiAgICAgICAgPyBTdHJpbmcob2JqZWN0LmNvbnRlbnRUb3BpYylcbiAgICAgICAgOiAnJyxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBDb250ZW50RmlsdGVyKTogdW5rbm93biB7XG4gICAgY29uc3Qgb2JqOiBhbnkgPSB7fTtcbiAgICBtZXNzYWdlLmNvbnRlbnRUb3BpYyAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLmNvbnRlbnRUb3BpYyA9IG1lc3NhZ2UuY29udGVudFRvcGljKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxDb250ZW50RmlsdGVyPiwgST4+KFxuICAgIG9iamVjdDogSVxuICApOiBDb250ZW50RmlsdGVyIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbnRlbnRGaWx0ZXIoKTtcbiAgICBtZXNzYWdlLmNvbnRlbnRUb3BpYyA9IG9iamVjdC5jb250ZW50VG9waWMgPz8gJyc7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlSGlzdG9yeVF1ZXJ5KCk6IEhpc3RvcnlRdWVyeSB7XG4gIHJldHVybiB7XG4gICAgcHViU3ViVG9waWM6IHVuZGVmaW5lZCxcbiAgICBjb250ZW50RmlsdGVyczogW10sXG4gICAgcGFnaW5nSW5mbzogdW5kZWZpbmVkLFxuICAgIHN0YXJ0VGltZTogdW5kZWZpbmVkLFxuICAgIGVuZFRpbWU6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IEhpc3RvcnlRdWVyeSA9IHtcbiAgZW5jb2RlKFxuICAgIG1lc3NhZ2U6IEhpc3RvcnlRdWVyeSxcbiAgICB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpXG4gICk6IF9tMC5Xcml0ZXIge1xuICAgIGlmIChtZXNzYWdlLnB1YlN1YlRvcGljICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnB1YlN1YlRvcGljKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuY29udGVudEZpbHRlcnMpIHtcbiAgICAgIENvbnRlbnRGaWx0ZXIuZW5jb2RlKHYhLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5wYWdpbmdJbmZvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIFBhZ2luZ0luZm8uZW5jb2RlKG1lc3NhZ2UucGFnaW5nSW5mbywgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc3RhcnRUaW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHdyaXRlci51aW50MzIoNDEpLmRvdWJsZShtZXNzYWdlLnN0YXJ0VGltZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmVuZFRpbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig0OSkuZG91YmxlKG1lc3NhZ2UuZW5kVGltZSk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogSGlzdG9yeVF1ZXJ5IHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUhpc3RvcnlRdWVyeSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5wdWJTdWJUb3BpYyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2UuY29udGVudEZpbHRlcnMucHVzaChcbiAgICAgICAgICAgIENvbnRlbnRGaWx0ZXIuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBtZXNzYWdlLnBhZ2luZ0luZm8gPSBQYWdpbmdJbmZvLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBtZXNzYWdlLnN0YXJ0VGltZSA9IHJlYWRlci5kb3VibGUoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIG1lc3NhZ2UuZW5kVGltZSA9IHJlYWRlci5kb3VibGUoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogSGlzdG9yeVF1ZXJ5IHtcbiAgICByZXR1cm4ge1xuICAgICAgcHViU3ViVG9waWM6IGlzU2V0KG9iamVjdC5wdWJTdWJUb3BpYylcbiAgICAgICAgPyBTdHJpbmcob2JqZWN0LnB1YlN1YlRvcGljKVxuICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIGNvbnRlbnRGaWx0ZXJzOiBBcnJheS5pc0FycmF5KG9iamVjdD8uY29udGVudEZpbHRlcnMpXG4gICAgICAgID8gb2JqZWN0LmNvbnRlbnRGaWx0ZXJzLm1hcCgoZTogYW55KSA9PiBDb250ZW50RmlsdGVyLmZyb21KU09OKGUpKVxuICAgICAgICA6IFtdLFxuICAgICAgcGFnaW5nSW5mbzogaXNTZXQob2JqZWN0LnBhZ2luZ0luZm8pXG4gICAgICAgID8gUGFnaW5nSW5mby5mcm9tSlNPTihvYmplY3QucGFnaW5nSW5mbylcbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICBzdGFydFRpbWU6IGlzU2V0KG9iamVjdC5zdGFydFRpbWUpID8gTnVtYmVyKG9iamVjdC5zdGFydFRpbWUpIDogdW5kZWZpbmVkLFxuICAgICAgZW5kVGltZTogaXNTZXQob2JqZWN0LmVuZFRpbWUpID8gTnVtYmVyKG9iamVjdC5lbmRUaW1lKSA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9LFxuXG4gIHRvSlNPTihtZXNzYWdlOiBIaXN0b3J5UXVlcnkpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UucHViU3ViVG9waWMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5wdWJTdWJUb3BpYyA9IG1lc3NhZ2UucHViU3ViVG9waWMpO1xuICAgIGlmIChtZXNzYWdlLmNvbnRlbnRGaWx0ZXJzKSB7XG4gICAgICBvYmouY29udGVudEZpbHRlcnMgPSBtZXNzYWdlLmNvbnRlbnRGaWx0ZXJzLm1hcCgoZSkgPT5cbiAgICAgICAgZSA/IENvbnRlbnRGaWx0ZXIudG9KU09OKGUpIDogdW5kZWZpbmVkXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmouY29udGVudEZpbHRlcnMgPSBbXTtcbiAgICB9XG4gICAgbWVzc2FnZS5wYWdpbmdJbmZvICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmoucGFnaW5nSW5mbyA9IG1lc3NhZ2UucGFnaW5nSW5mb1xuICAgICAgICA/IFBhZ2luZ0luZm8udG9KU09OKG1lc3NhZ2UucGFnaW5nSW5mbylcbiAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2Uuc3RhcnRUaW1lICE9PSB1bmRlZmluZWQgJiYgKG9iai5zdGFydFRpbWUgPSBtZXNzYWdlLnN0YXJ0VGltZSk7XG4gICAgbWVzc2FnZS5lbmRUaW1lICE9PSB1bmRlZmluZWQgJiYgKG9iai5lbmRUaW1lID0gbWVzc2FnZS5lbmRUaW1lKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxIaXN0b3J5UXVlcnk+LCBJPj4oXG4gICAgb2JqZWN0OiBJXG4gICk6IEhpc3RvcnlRdWVyeSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VIaXN0b3J5UXVlcnkoKTtcbiAgICBtZXNzYWdlLnB1YlN1YlRvcGljID0gb2JqZWN0LnB1YlN1YlRvcGljID8/IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLmNvbnRlbnRGaWx0ZXJzID1cbiAgICAgIG9iamVjdC5jb250ZW50RmlsdGVycz8ubWFwKChlKSA9PiBDb250ZW50RmlsdGVyLmZyb21QYXJ0aWFsKGUpKSB8fCBbXTtcbiAgICBtZXNzYWdlLnBhZ2luZ0luZm8gPVxuICAgICAgb2JqZWN0LnBhZ2luZ0luZm8gIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucGFnaW5nSW5mbyAhPT0gbnVsbFxuICAgICAgICA/IFBhZ2luZ0luZm8uZnJvbVBhcnRpYWwob2JqZWN0LnBhZ2luZ0luZm8pXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIG1lc3NhZ2Uuc3RhcnRUaW1lID0gb2JqZWN0LnN0YXJ0VGltZSA/PyB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5lbmRUaW1lID0gb2JqZWN0LmVuZFRpbWUgPz8gdW5kZWZpbmVkO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUhpc3RvcnlSZXNwb25zZSgpOiBIaXN0b3J5UmVzcG9uc2Uge1xuICByZXR1cm4geyBtZXNzYWdlczogW10sIHBhZ2luZ0luZm86IHVuZGVmaW5lZCwgZXJyb3I6IDAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IEhpc3RvcnlSZXNwb25zZSA9IHtcbiAgZW5jb2RlKFxuICAgIG1lc3NhZ2U6IEhpc3RvcnlSZXNwb25zZSxcbiAgICB3cml0ZXI6IF9tMC5Xcml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpXG4gICk6IF9tMC5Xcml0ZXIge1xuICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLm1lc3NhZ2VzKSB7XG4gICAgICBXYWt1TWVzc2FnZS5lbmNvZGUodiEsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhZ2luZ0luZm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgUGFnaW5nSW5mby5lbmNvZGUobWVzc2FnZS5wYWdpbmdJbmZvLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5lcnJvciAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigzMikuaW50MzIobWVzc2FnZS5lcnJvcik7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogSGlzdG9yeVJlc3BvbnNlIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IG5ldyBfbTAuUmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUhpc3RvcnlSZXNwb25zZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgbWVzc2FnZS5tZXNzYWdlcy5wdXNoKFdha3VNZXNzYWdlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbWVzc2FnZS5wYWdpbmdJbmZvID0gUGFnaW5nSW5mby5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbWVzc2FnZS5lcnJvciA9IHJlYWRlci5pbnQzMigpIGFzIGFueTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogSGlzdG9yeVJlc3BvbnNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWVzc2FnZXM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py5tZXNzYWdlcylcbiAgICAgICAgPyBvYmplY3QubWVzc2FnZXMubWFwKChlOiBhbnkpID0+IFdha3VNZXNzYWdlLmZyb21KU09OKGUpKVxuICAgICAgICA6IFtdLFxuICAgICAgcGFnaW5nSW5mbzogaXNTZXQob2JqZWN0LnBhZ2luZ0luZm8pXG4gICAgICAgID8gUGFnaW5nSW5mby5mcm9tSlNPTihvYmplY3QucGFnaW5nSW5mbylcbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICBlcnJvcjogaXNTZXQob2JqZWN0LmVycm9yKVxuICAgICAgICA/IGhpc3RvcnlSZXNwb25zZV9FcnJvckZyb21KU09OKG9iamVjdC5lcnJvcilcbiAgICAgICAgOiAwLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IEhpc3RvcnlSZXNwb25zZSk6IHVua25vd24ge1xuICAgIGNvbnN0IG9iajogYW55ID0ge307XG4gICAgaWYgKG1lc3NhZ2UubWVzc2FnZXMpIHtcbiAgICAgIG9iai5tZXNzYWdlcyA9IG1lc3NhZ2UubWVzc2FnZXMubWFwKChlKSA9PlxuICAgICAgICBlID8gV2FrdU1lc3NhZ2UudG9KU09OKGUpIDogdW5kZWZpbmVkXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmoubWVzc2FnZXMgPSBbXTtcbiAgICB9XG4gICAgbWVzc2FnZS5wYWdpbmdJbmZvICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIChvYmoucGFnaW5nSW5mbyA9IG1lc3NhZ2UucGFnaW5nSW5mb1xuICAgICAgICA/IFBhZ2luZ0luZm8udG9KU09OKG1lc3NhZ2UucGFnaW5nSW5mbylcbiAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UuZXJyb3IgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5lcnJvciA9IGhpc3RvcnlSZXNwb25zZV9FcnJvclRvSlNPTihtZXNzYWdlLmVycm9yKSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcblxuICBmcm9tUGFydGlhbDxJIGV4dGVuZHMgRXhhY3Q8RGVlcFBhcnRpYWw8SGlzdG9yeVJlc3BvbnNlPiwgST4+KFxuICAgIG9iamVjdDogSVxuICApOiBIaXN0b3J5UmVzcG9uc2Uge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlSGlzdG9yeVJlc3BvbnNlKCk7XG4gICAgbWVzc2FnZS5tZXNzYWdlcyA9XG4gICAgICBvYmplY3QubWVzc2FnZXM/Lm1hcCgoZSkgPT4gV2FrdU1lc3NhZ2UuZnJvbVBhcnRpYWwoZSkpIHx8IFtdO1xuICAgIG1lc3NhZ2UucGFnaW5nSW5mbyA9XG4gICAgICBvYmplY3QucGFnaW5nSW5mbyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wYWdpbmdJbmZvICE9PSBudWxsXG4gICAgICAgID8gUGFnaW5nSW5mby5mcm9tUGFydGlhbChvYmplY3QucGFnaW5nSW5mbylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgbWVzc2FnZS5lcnJvciA9IG9iamVjdC5lcnJvciA/PyAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZnVuY3Rpb24gY3JlYXRlQmFzZUhpc3RvcnlSUEMoKTogSGlzdG9yeVJQQyB7XG4gIHJldHVybiB7IHJlcXVlc3RJZDogJycsIHF1ZXJ5OiB1bmRlZmluZWQsIHJlc3BvbnNlOiB1bmRlZmluZWQgfTtcbn1cblxuZXhwb3J0IGNvbnN0IEhpc3RvcnlSUEMgPSB7XG4gIGVuY29kZShcbiAgICBtZXNzYWdlOiBIaXN0b3J5UlBDLFxuICAgIHdyaXRlcjogX20wLldyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKClcbiAgKTogX20wLldyaXRlciB7XG4gICAgaWYgKG1lc3NhZ2UucmVxdWVzdElkICE9PSAnJykge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UucmVxdWVzdElkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucXVlcnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgSGlzdG9yeVF1ZXJ5LmVuY29kZShtZXNzYWdlLnF1ZXJ5LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5yZXNwb25zZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBIaXN0b3J5UmVzcG9uc2UuZW5jb2RlKFxuICAgICAgICBtZXNzYWdlLnJlc3BvbnNlLFxuICAgICAgICB3cml0ZXIudWludDMyKDI2KS5mb3JrKClcbiAgICAgICkubGRlbGltKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG5cbiAgZGVjb2RlKGlucHV0OiBfbTAuUmVhZGVyIHwgVWludDhBcnJheSwgbGVuZ3RoPzogbnVtYmVyKTogSGlzdG9yeVJQQyB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBuZXcgX20wLlJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VIaXN0b3J5UlBDKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtZXNzYWdlLnJlcXVlc3RJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1lc3NhZ2UucXVlcnkgPSBIaXN0b3J5UXVlcnkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1lc3NhZ2UucmVzcG9uc2UgPSBIaXN0b3J5UmVzcG9uc2UuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuXG4gIGZyb21KU09OKG9iamVjdDogYW55KTogSGlzdG9yeVJQQyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVlc3RJZDogaXNTZXQob2JqZWN0LnJlcXVlc3RJZCkgPyBTdHJpbmcob2JqZWN0LnJlcXVlc3RJZCkgOiAnJyxcbiAgICAgIHF1ZXJ5OiBpc1NldChvYmplY3QucXVlcnkpXG4gICAgICAgID8gSGlzdG9yeVF1ZXJ5LmZyb21KU09OKG9iamVjdC5xdWVyeSlcbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICByZXNwb25zZTogaXNTZXQob2JqZWN0LnJlc3BvbnNlKVxuICAgICAgICA/IEhpc3RvcnlSZXNwb25zZS5mcm9tSlNPTihvYmplY3QucmVzcG9uc2UpXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH0sXG5cbiAgdG9KU09OKG1lc3NhZ2U6IEhpc3RvcnlSUEMpOiB1bmtub3duIHtcbiAgICBjb25zdCBvYmo6IGFueSA9IHt9O1xuICAgIG1lc3NhZ2UucmVxdWVzdElkICE9PSB1bmRlZmluZWQgJiYgKG9iai5yZXF1ZXN0SWQgPSBtZXNzYWdlLnJlcXVlc3RJZCk7XG4gICAgbWVzc2FnZS5xdWVyeSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAob2JqLnF1ZXJ5ID0gbWVzc2FnZS5xdWVyeVxuICAgICAgICA/IEhpc3RvcnlRdWVyeS50b0pTT04obWVzc2FnZS5xdWVyeSlcbiAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgIG1lc3NhZ2UucmVzcG9uc2UgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgKG9iai5yZXNwb25zZSA9IG1lc3NhZ2UucmVzcG9uc2VcbiAgICAgICAgPyBIaXN0b3J5UmVzcG9uc2UudG9KU09OKG1lc3NhZ2UucmVzcG9uc2UpXG4gICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuXG4gIGZyb21QYXJ0aWFsPEkgZXh0ZW5kcyBFeGFjdDxEZWVwUGFydGlhbDxIaXN0b3J5UlBDPiwgST4+KFxuICAgIG9iamVjdDogSVxuICApOiBIaXN0b3J5UlBDIHtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUhpc3RvcnlSUEMoKTtcbiAgICBtZXNzYWdlLnJlcXVlc3RJZCA9IG9iamVjdC5yZXF1ZXN0SWQgPz8gJyc7XG4gICAgbWVzc2FnZS5xdWVyeSA9XG4gICAgICBvYmplY3QucXVlcnkgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucXVlcnkgIT09IG51bGxcbiAgICAgICAgPyBIaXN0b3J5UXVlcnkuZnJvbVBhcnRpYWwob2JqZWN0LnF1ZXJ5KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBtZXNzYWdlLnJlc3BvbnNlID1cbiAgICAgIG9iamVjdC5yZXNwb25zZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5yZXNwb25zZSAhPT0gbnVsbFxuICAgICAgICA/IEhpc3RvcnlSZXNwb25zZS5mcm9tUGFydGlhbChvYmplY3QucmVzcG9uc2UpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxufTtcblxuZGVjbGFyZSB2YXIgc2VsZjogYW55IHwgdW5kZWZpbmVkO1xuZGVjbGFyZSB2YXIgd2luZG93OiBhbnkgfCB1bmRlZmluZWQ7XG5kZWNsYXJlIHZhciBnbG9iYWw6IGFueSB8IHVuZGVmaW5lZDtcbnZhciBnbG9iYWxUaGlzOiBhbnkgPSAoKCkgPT4ge1xuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gZ2xvYmFsVGhpcztcbiAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIHNlbGY7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIHdpbmRvdztcbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSByZXR1cm4gZ2xvYmFsO1xuICB0aHJvdyAnVW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0Jztcbn0pKCk7XG5cbmNvbnN0IGF0b2I6IChiNjQ6IHN0cmluZykgPT4gc3RyaW5nID1cbiAgZ2xvYmFsVGhpcy5hdG9iIHx8XG4gICgoYjY0KSA9PiBnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGI2NCwgJ2Jhc2U2NCcpLnRvU3RyaW5nKCdiaW5hcnknKSk7XG5mdW5jdGlvbiBieXRlc0Zyb21CYXNlNjQoYjY0OiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgY29uc3QgYmluID0gYXRvYihiNjQpO1xuICBjb25zdCBhcnIgPSBuZXcgVWludDhBcnJheShiaW4ubGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW4ubGVuZ3RoOyArK2kpIHtcbiAgICBhcnJbaV0gPSBiaW4uY2hhckNvZGVBdChpKTtcbiAgfVxuICByZXR1cm4gYXJyO1xufVxuXG5jb25zdCBidG9hOiAoYmluOiBzdHJpbmcpID0+IHN0cmluZyA9XG4gIGdsb2JhbFRoaXMuYnRvYSB8fFxuICAoKGJpbikgPT4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiaW4sICdiaW5hcnknKS50b1N0cmluZygnYmFzZTY0JykpO1xuZnVuY3Rpb24gYmFzZTY0RnJvbUJ5dGVzKGFycjogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGNvbnN0IGJpbjogc3RyaW5nW10gPSBbXTtcbiAgZm9yIChjb25zdCBieXRlIG9mIGFycikge1xuICAgIGJpbi5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSkpO1xuICB9XG4gIHJldHVybiBidG9hKGJpbi5qb2luKCcnKSk7XG59XG5cbnR5cGUgQnVpbHRpbiA9XG4gIHwgRGF0ZVxuICB8IEZ1bmN0aW9uXG4gIHwgVWludDhBcnJheVxuICB8IHN0cmluZ1xuICB8IG51bWJlclxuICB8IGJvb2xlYW5cbiAgfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCB0eXBlIERlZXBQYXJ0aWFsPFQ+ID0gVCBleHRlbmRzIEJ1aWx0aW5cbiAgPyBUXG4gIDogVCBleHRlbmRzIEFycmF5PGluZmVyIFU+XG4gID8gQXJyYXk8RGVlcFBhcnRpYWw8VT4+XG4gIDogVCBleHRlbmRzIFJlYWRvbmx5QXJyYXk8aW5mZXIgVT5cbiAgPyBSZWFkb25seUFycmF5PERlZXBQYXJ0aWFsPFU+PlxuICA6IFQgZXh0ZW5kcyB7fVxuICA/IHsgW0sgaW4ga2V5b2YgVF0/OiBEZWVwUGFydGlhbDxUW0tdPiB9XG4gIDogUGFydGlhbDxUPjtcblxudHlwZSBLZXlzT2ZVbmlvbjxUPiA9IFQgZXh0ZW5kcyBUID8ga2V5b2YgVCA6IG5ldmVyO1xuZXhwb3J0IHR5cGUgRXhhY3Q8UCwgSSBleHRlbmRzIFA+ID0gUCBleHRlbmRzIEJ1aWx0aW5cbiAgPyBQXG4gIDogUCAmIHsgW0sgaW4ga2V5b2YgUF06IEV4YWN0PFBbS10sIElbS10+IH0gJiBSZWNvcmQ8XG4gICAgICAgIEV4Y2x1ZGU8a2V5b2YgSSwgS2V5c09mVW5pb248UD4+LFxuICAgICAgICBuZXZlclxuICAgICAgPjtcblxuZnVuY3Rpb24gbG9uZ1RvTnVtYmVyKGxvbmc6IExvbmcpOiBudW1iZXIge1xuICBpZiAobG9uZy5ndChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikpIHtcbiAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcignVmFsdWUgaXMgbGFyZ2VyIHRoYW4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVInKTtcbiAgfVxuICByZXR1cm4gbG9uZy50b051bWJlcigpO1xufVxuXG5pZiAoX20wLnV0aWwuTG9uZyAhPT0gTG9uZykge1xuICBfbTAudXRpbC5Mb25nID0gTG9uZyBhcyBhbnk7XG4gIF9tMC5jb25maWd1cmUoKTtcbn1cblxuZnVuY3Rpb24gaXNTZXQodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZDtcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdGxvYWRlZDogZmFsc2UsXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmFtZE8gPSB7fTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5tZCA9IChtb2R1bGUpID0+IHtcblx0bW9kdWxlLnBhdGhzID0gW107XG5cdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0cmV0dXJuIG1vZHVsZTtcbn07IiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDIwNDogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5PLmogPSAoY2h1bmtJZCkgPT4gKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9PT0gMCk7XG5cbi8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xudmFyIHdlYnBhY2tKc29ucENhbGxiYWNrID0gKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uLCBkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuXHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcblx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMDtcblx0aWYoY2h1bmtJZHMuc29tZSgoaWQpID0+IChpbnN0YWxsZWRDaHVua3NbaWRdICE9PSAwKSkpIHtcblx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKHJ1bnRpbWUpIHZhciByZXN1bHQgPSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHR9XG5cdGlmKHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKSBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcblx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcblx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0oKTtcblx0XHR9XG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRzW2ldXSA9IDA7XG5cdH1cblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uTyhyZXN1bHQpO1xufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gdGhpc1tcIndlYnBhY2tDaHVua2pzd2FrdVwiXSA9IHRoaXNbXCJ3ZWJwYWNrQ2h1bmtqc3dha3VcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFsyMTZdLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyg2MzYwNykpKVxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiZGVmZXJyZWQiLCJnZXQiLCJnZXROb2Rlc0Zyb21Ib3N0ZWRKc29uIiwiV2FrdSIsIkRlZmF1bHRQdWJTdWJUb3BpYyIsIldha3VNZXNzYWdlIiwiZ2VuZXJhdGVQcml2YXRlS2V5IiwiZ2VuZXJhdGVTeW1tZXRyaWNLZXkiLCJnZXRQdWJsaWNLZXkiLCJXYWt1TGlnaHRQdXNoIiwiTGlnaHRQdXNoQ29kZWMiLCJQdXNoUmVzcG9uc2UiLCJXYWt1UmVsYXkiLCJSZWxheUNvZGVjcyIsIlBhZ2VEaXJlY3Rpb24iLCJXYWt1U3RvcmUiLCJTdG9yZUNvZGVjIiwiZGJnIiwiQm9vdHN0cmFwIiwiY29uc3RydWN0b3IiLCJvcHRzIiwibWF4UGVlcnMiLCJEZWZhdWx0TWF4UGVlcnMiLCJkZWZhdWx0IiwiZ2V0Qm9vdHN0cmFwUGVlcnMiLCJiaW5kIiwidW5kZWZpbmVkIiwicGVlcnMiLCJsZW5ndGgiLCJhbGxQZWVycyIsIm1hcCIsIm5vZGUiLCJNdWx0aWFkZHIiLCJnZXRQc2V1ZG9SYW5kb21TdWJzZXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsImdldFBlZXJzIiwiYXN5bmMiLCJlbnJVcmwiLCJkbnMiLCJEbnNOb2RlRGlzY292ZXJ5IiwiZG5zT3Zlckh0dHAiLCJlbnJzIiwiZW5yIiwiZ2V0RnVsbE11bHRpYWRkcnMiLCJmbGF0IiwiZGVidWciLCJfZXJyb3JUb2xlcmFuY2UiLCJfRE5TVHJlZUNhY2hlIiwic3RhdGljIiwiZW5kcG9pbnRzIiwiZG5zQ2xpZW50IiwiRG5zT3Zlckh0dHBzIiwibWF4UXVhbnRpdHkiLCJlbnJUcmVlVXJscyIsInRvdGFsU2VhcmNoZXMiLCJuZXR3b3JrSW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJwdWJsaWNLZXkiLCJkb21haW4iLCJFTlJUcmVlIiwicGFyc2VUcmVlIiwiY29udGV4dCIsInZpc2l0cyIsInBlZXIiLCJfc2VhcmNoIiwiaXNOZXdQZWVyIiwicHVzaCIsIm5vZGVJZCIsImlwIiwic3ViZG9tYWluIiwiZW50cnkiLCJfZ2V0VFhUUmVjb3JkIiwibmV4dCIsImJyYW5jaGVzIiwiZW50cnlUeXBlIiwic3RhcnRzV2l0aCIsIlJPT1RfUFJFRklYIiwiQlJBTkNIX1BSRUZJWCIsIlJFQ09SRF9QUkVGSVgiLCJnZXRFbnRyeVR5cGUiLCJwYXJzZUFuZFZlcmlmeVJvb3QiLCJwYXJzZUJyYW5jaCIsImNpcmN1bGFyUmVmcyIsImlkeCIsImVudHJpZXMiLCJPYmplY3QiLCJrZXlzIiwiRXJyb3IiLCJpbmRleCIsInNlbGVjdFJhbmRvbVBhdGgiLCJFTlIiLCJkZWNvZGVUeHQiLCJlcnJvciIsImxvY2F0aW9uIiwicmVzcG9uc2UiLCJyZXNvbHZlVFhUIiwicmVzdWx0Iiwiam9pbiIsImV4aXN0aW5nUGVlciIsImNsb3VkZmxhcmUiLCJnb29nbGUiLCJvcGVuZG5zIiwiZGF0YSIsInF1ZXJ5IiwicXVlc3Rpb25zIiwidHlwZSIsIm5hbWUiLCJhbnN3ZXJzIiwiYSIsImZvckVhY2giLCJkIiwiQXJyYXkiLCJpc0FycmF5Iiwic2QiLCJCdWZmZXIiLCJmcm9tIiwidG9TdHJpbmciLCJyb290VmFsdWVzIiwicGFyc2VSb290VmFsdWVzIiwiZGVjb2RlZFB1YmxpY0tleSIsImJhc2UzMiIsImRlY29kZSIsImFzQnl0ZXMiLCJzaWduZWRDb21wb25lbnQiLCJzcGxpdCIsInNpZ25lZENvbXBvbmVudEJ1ZmZlciIsInNpZ25hdHVyZUJ1ZmZlciIsInRvQnVmZmVyIiwic2lnbmF0dXJlIiwic2xpY2UiLCJrZXlCdWZmZXIiLCJpc1ZlcmlmaWVkIiwiZWNkc2FWZXJpZnkiLCJrZWNjYWsyNTZCdWYiLCJlUm9vdCIsInR4dCIsIm1hdGNoZXMiLCJtYXRjaCIsIm9rIiwic2hpZnQiLCJsUm9vdCIsInNlcSIsIk51bWJlciIsInRyZWUiLCJUUkVFX1BSRUZJWCIsImJyYW5jaCIsInBhdGgiLCJ1cmwiLCJ3YW50ZWROdW1iZXIiLCJub2RlcyIsImhlYWRlcnMiLCJwcm9wIiwiSlNPTiIsInN0cmluZ2lmeSIsInZhbHVlcyIsInNodWZmbGUiLCJNQVhfUkVDT1JEX1NJWkUiLCJFUlJfSU5WQUxJRF9JRCIsIkVSUl9OT19TSUdOQVRVUkUiLCJNVUxUSUFERFJfTEVOR1RIX1NJWkUiLCJidWZmZXIiLCJidWZUb0hleCIsIk1hcCIsImt2cyIsInN1cGVyIiwiaWQiLCJzZWNwMjU2azEiLCJwZWVySWQiLCJrZXlwYWlyIiwiY3JlYXRlS2V5cGFpckZyb21QZWVySWQiLCJLZXlwYWlyVHlwZSIsImNyZWF0ZVY0IiwiZGVjb2RlZCIsIm9iaiIsImkiLCJ0b0JpZ0ludEJFIiwidmVyaWZ5IiwiUkxQIiwiZW5jb2RlIiwiZW5jb2RlZCIsImRlY29kZUZyb21WYWx1ZXMiLCJzZXQiLCJrIiwidiIsImtleXBhaXJUeXBlIiwiY3JlYXRlS2V5cGFpciIsImNyZWF0ZVBlZXJJZEZyb21LZXlwYWlyIiwidjQiLCJyYXciLCJwcm90b2NvbHMiLCJuYW1lcyIsImlwNCIsImNvZGUiLCJ0b0J5dGVzIiwiZGVsZXRlIiwidGNwIiwicG9ydCIsInVkcCIsImlwNiIsInRjcDYiLCJ1ZHA2IiwibXVsdGlhZGRycyIsInNpemVCeXRlcyIsInNpemUiLCJyZWFkVUludDE2QkUiLCJtdWx0aWFkZHJCeXRlcyIsIm11bHRpYWRkciIsImUiLCJtdWx0aWFkZHJzQnVmIiwiZ2V0UGVlcklkIiwiYnl0ZXMiLCJidWYiLCJhbGxvYyIsIndyaXRlVUludDE2QkUiLCJjb25jYXQiLCJnZXRMb2NhdGlvbk11bHRpYWRkciIsInByb3RvY29sIiwiaXNJcHY2IiwiZW5kc1dpdGgiLCJpcFZhbCIsImlzVWRwIiwiaXNUY3AiLCJwcm90b05hbWUiLCJwcm90b1ZhbCIsImlwTWEiLCJpcEJ5dGVMZW4iLCJwcm90b01hIiwicHJvdG9CdWYiLCJtYUJ1ZiIsIlVpbnQ4QXJyYXkiLCJzZXRMb2NhdGlvbk11bHRpYWRkciIsInByb3RvTmFtZXMiLCJ0dXBsZXMiLCJnZXRGdWxsTXVsdGlhZGRyIiwibG9jYXRpb25NdWx0aWFkZHIiLCJlbmNhcHN1bGF0ZSIsInRvQjU4U3RyaW5nIiwibWEiLCJzaWduIiwicHJpdmF0ZUtleSIsImVuY29kZVRvVmFsdWVzIiwiY29udGVudCIsInNvcnQiLCJiIiwibG9jYWxlQ29tcGFyZSIsInVuc2hpZnQiLCJlbmNvZGVUeHQiLCJ2NENyeXB0byIsIkVSUl9UWVBFX05PVF9JTVBMRU1FTlRFRCIsIkVSUl9JTlZBTElEX0tFWVBBSVJfVFlQRSIsImtleXNQQk0iLCJzdXBwb3J0ZWRLZXlzIiwiU2VjcDI1NmsxS2V5cGFpciIsImdlbmVyYXRlIiwicHJpdktleSIsImhhc1ByaXZhdGVLZXkiLCJTZWNwMjU2azFQcml2YXRlS2V5IiwicHViS2V5IiwiU2VjcDI1NmsxUHVibGljS2V5IiwicHViIiwiUHVibGljS2V5IiwiVHlwZSIsIm1hcnNoYWwiLCJEYXRhIiwic2VjcDI1NmsxUHVibGljS2V5VG9Db21wcmVzc2VkIiwicHVibGljS2V5Q29udmVydCIsIkFic3RyYWN0S2V5cGFpciIsIndpbmRvdyIsImNyeXB0byIsImFycmF5IiwiZ2V0UmFuZG9tVmFsdWVzIiwicmFuZG9tQnl0ZXMiLCJwdWJsaWNLZXlDcmVhdGUiLCJwcml2YXRlS2V5VmVyaWZ5Iiwia2V5IiwiX3ByaXZhdGVLZXkiLCJwdWJsaWNLZXlWZXJpZnkiLCJfcHVibGljS2V5IiwibXNnIiwicmVjaWQiLCJlY2RzYVNpZ24iLCJzaWciLCJCb29sZWFuIiwiaGFzaCIsImlucHV0Iiwia2VjY2FrMjU2IiwiYXJyYXlCdWZmZXIiLCJjcmVhdGVQcml2YXRlS2V5IiwidW5jb21wcmVzc2VkUHVia2V5IiwiY3JlYXRlTm9kZUlkIiwiRU5SS2V5UGFpciIsIl9ub2RlSWQiLCJyb3VuZCIsImxpYnAycCIsInBlZXJTdG9yZSIsImZpbHRlciIsImluY2x1ZGVzIiwiaGV4VG9CdWYiLCJoZXgiLCJyZXBsYWNlIiwiYUJ1ZiIsImJCdWYiLCJjb21wYXJlIiwibWVzc2FnZSIsIndlYnNvY2tldHNUcmFuc3BvcnRLZXkiLCJwcm90b3R5cGUiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIkRlZmF1bHRQaW5nS2VlcEFsaXZlVmFsdWVTZWNzIiwiRGVmYXVsdFJlbGF5S2VlcEFsaXZlVmFsdWVTZWNzIiwib3B0aW9ucyIsInN0b3JlIiwibGlnaHRQdXNoIiwicmVsYXkiLCJwdWJzdWIiLCJwaW5nS2VlcEFsaXZlVGltZXJzIiwicmVsYXlLZWVwQWxpdmVUaW1lcnMiLCJwaW5nS2VlcEFsaXZlIiwicmVsYXlLZWVwQWxpdmUiLCJjb25uZWN0aW9uTWFuYWdlciIsIm9uIiwiY29ubmVjdGlvbiIsInN0YXJ0S2VlcEFsaXZlIiwicmVtb3RlUGVlciIsInN0b3BLZWVwQWxpdmUiLCJkZWNyeXB0aW9uS2V5cyIsImFkZERlY3J5cHRpb25LZXkiLCJsaWJwMnBPcHRzIiwiYXNzaWduIiwiY29uZmlnIiwidHJhbnNwb3J0IiwiYWxsIiwicHViU3ViVG9waWMiLCJtb2R1bGVzIiwic3RyZWFtTXV4ZXIiLCJjb25uRW5jcnlwdGlvbiIsIk5vaXNlIiwic3RhdGljTm9pc2VLZXkiLCJib290c3RyYXAiLCJsaXN0IiwicGVlckRpc2NvdmVyeSIsInRhZyIsImVuYWJsZWQiLCJjcmVhdGUiLCJ3YWt1U3RvcmUiLCJ3YWt1TGlnaHRQdXNoIiwic3RhcnQiLCJkaWFsUHJvdG9jb2wiLCJhZGRQZWVyVG9BZGRyZXNzQm9vayIsImNyZWF0ZUZyb21CNThTdHJpbmciLCJhZGRyZXNzZXMiLCJhZGRyIiwiYWRkcmVzc0Jvb2siLCJzdG9wIiwiZGVsZXRlRGVjcnlwdGlvbktleSIsImdldExvY2FsTXVsdGlhZGRyV2l0aElEIiwibG9jYWxNdWx0aWFkZHIiLCJmaW5kIiwiZGVzaXJlZFByb3RvY29scyIsImRlc2lyZWRQcm90b2NvbFZlcnNpb25zIiwicHJvdG8iLCJnZXRQZWVyc0ZvclByb3RvY29sIiwiY29ubmVjdGVkUGVlclByb3RvY29scyIsImRlc2lyZWRQcm90byIsInBpbmdQZXJpb2RTZWNzIiwicmVsYXlQZXJpb2RTZWNzIiwicGVlcklkU3RyIiwic2V0SW50ZXJ2YWwiLCJmcm9tQnl0ZXMiLCJSZWxheVBpbmdDb250ZW50VG9waWMiLCJ0aGVuIiwid2FrdU1zZyIsInNlbmQiLCJjbGVhckludGVydmFsIiwicmFuZG9tUGVlciIsInN0cmVhbSIsIm5ld1N0cmVhbSIsIlB1c2hSUEMiLCJjcmVhdGVSZXF1ZXN0IiwicmVzIiwiY29uc29sZSIsImxvZyIsImVyciIsInNlbGVjdFJhbmRvbVBlZXIiLCJyZXF1ZXN0SWQiLCJyZXF1ZXN0IiwiUmVhZGVyIiwiZmluaXNoIiwiRGVjcnlwdGlvbk1ldGhvZCIsIl9zaWduYXR1cmVQdWJsaWNLZXkiLCJfc2lnbmF0dXJlIiwidXRmOCIsImNvbnRlbnRUb3BpYyIsInBheWxvYWQiLCJ0aW1lc3RhbXAiLCJlbmNQdWJsaWNLZXkiLCJzeW1LZXkiLCJzaWdQcml2S2V5IiwiRGF0ZSIsIl9wYXlsb2FkIiwidmVyc2lvbiIsImVuYyIsInZlcnNpb25fMSIsImNsZWFyRW5jb2RlIiwiZW5jcnlwdEFzeW1tZXRyaWMiLCJlbmNyeXB0U3ltbWV0cmljIiwidmFsdWVPZiIsImRlY29kZVByb3RvIiwic2lnbmF0dXJlUHVibGljS2V5IiwiaXNEZWZpbmVkIiwiZGVjIiwiZGVjb2RlZFJlc3VsdHMiLCJtZXRob2QiLCJjb250ZW50VG9waWNzIiwiQXN5bW1ldHJpYyIsImRlY3J5cHRBc3ltbWV0cmljIiwiU3ltbWV0cmljIiwiZGVjcnlwdFN5bW1ldHJpYyIsImNsZWFyRGVjb2RlIiwicGF5bG9hZEFzVXRmOCIsIm1zQ3J5cHRvIiwic3VidGxlIiwid2Via2l0U3VidGxlIiwiQWxnb3JpdGhtIiwiaXYiLCJjbGVhclRleHQiLCJpbXBvcnRLZXkiLCJjcnlwdG9LZXkiLCJlbmNyeXB0IiwiY2lwaGVyVGV4dCIsImRlY3J5cHQiLCJJdlNpemUiLCJTeW1tZXRyaWNLZXlTaXplIiwiVGFnU2l6ZSIsInN5bW1ldHJpYyIsIm1vZCIsImNhdGNoIiwiZUJyb3dzZXIiLCJlTm9kZSIsImNpcGhlciIsImNyZWF0ZUNpcGhlcml2IiwidXBkYXRlIiwiZmluYWwiLCJnZXRBdXRoVGFnIiwidGFnU3RhcnQiLCJkZWNpcGhlciIsImNyZWF0ZURlY2lwaGVyaXYiLCJzZXRBdXRoVGFnIiwiZ2V0U2l6ZU9mUGF5bG9hZFNpemVGaWVsZCIsInMiLCJQcml2YXRlS2V5U2l6ZSIsIm1lc3NhZ2VQYXlsb2FkIiwiZW52ZWxvcGUiLCJmaWVsZFNpemUiLCJmaWVsZCIsIndyaXRlVUludDMyTEUiLCJhZGRQYXlsb2FkU2l6ZUZpZWxkIiwicmF3U2l6ZSIsInBhZGRpbmdTaXplIiwicGFkIiwiZXhwZWN0ZWRTaXplIiwidmFsdWUiLCJlcXVhbHMiLCJzaXplT2ZQYXlsb2FkU2l6ZUZpZWxkIiwicmVhZFVJbnRMRSIsInBheWxvYWRTaXplIiwiaXNTaWduZWQiLCJnZXRTaWduYXR1cmUiLCJnZXRIYXNoIiwibWVzc2FnZUhhc2giLCJyZWNvdmVyeSIsInJlYWRJbnRCRSIsImVjZHNhUmVjb3ZlciIsImVjUmVjb3ZlclB1YktleSIsImVjaWVzIiwiZ2VuZXJhdGVJdiIsIml2U3RhcnQiLCJzZWNvbmQiLCJtaW51dGUiLCJSZWxheUdvc3NpcEZhY3RvciIsIlJlbGF5SGVhcnRiZWF0SW5pdGlhbERlbGF5IiwiUmVsYXlIZWFydGJlYXRJbnRlcnZhbCIsIlJlbGF5UHJ1bmVQZWVycyIsIlJlbGF5UHJ1bmVCYWNrb2ZmIiwiUmVsYXlGYW5vdXRUVEwiLCJSZWxheU9wcG9ydHVuaXN0aWNHcmFmdFRpY2tzIiwiUmVsYXlPcHBvcnR1bmlzdGljR3JhZnRQZWVycyIsIlJlbGF5TWF4SUhhdmVMZW5ndGgiLCJyb3V0ZXIiLCJ0b3BpYyIsImNvdW50IiwicGVlcnNJblRvcGljIiwidG9waWNzIiwiU2V0IiwicGVlclN0cmVhbXMiLCJnbG9iYWxTaWduYXR1cmVQb2xpY3kiLCJTaWduYXR1cmVQb2xpY3kiLCJTdHJpY3ROb1NpZ24iLCJoZWFydGJlYXQiLCJSZWxheUhlYXJ0YmVhdCIsIm9ic2VydmVycyIsIm11bHRpY29kZWNzIiwiY29uc3RhbnRzIiwic3Vic2NyaWJlIiwicHVibGlzaCIsImFkZE9ic2VydmVyIiwiY2FsbGJhY2siLCJhZGQiLCJkZWxldGVPYnNlcnZlciIsImdldFJlbGF5UGVlcnMiLCJfb3B0aW9ucyIsIkQiLCJzY29yZSIsInNjb3JlVGhyZXNob2xkcyIsInB1Ymxpc2hUaHJlc2hvbGQiLCJldmVudCIsImNhbGxiYWNrRm4iLCJzdGFydGVkIiwiZmFub3V0UGVlcnMiLCJmYW5vdXQiLCJoYXMiLCJkaXJlY3QiLCJtZXNoIiwibGFzdHB1YiIsIl9zZW5kR3JhZnQiLCJyZWNlaXZlZEZyb20iLCJkZWxpdmVyTWVzc2FnZSIsImdvc3NpcFRyYWNlciIsIm1zZ0lEIiwiZ2V0TXNnSWQiLCJtc2dJZFN0ciIsIm1lc3NhZ2VJZFRvU3RyaW5nIiwic2VlbkNhY2hlIiwicHV0IiwibWVzc2FnZUNhY2hlIiwidG9TZW5kIiwidG9waWNJRHMiLCJtZXNoUGVlcnMiLCJfbm93IiwicnBjIiwiY3JlYXRlR29zc2lwUnBjIiwidXRpbHMiLCJub3JtYWxpemVPdXRScGNNZXNzYWdlIiwiX3NlbmRScGMiLCJfZW1pdEdvc3NpcCIsImV4Y2x1ZGUiLCJtZXNzYWdlSURzIiwiZ2V0R29zc2lwSURzIiwicGVlcnNUb0dvc3NpcCIsInRvcGljUGVlcnMiLCJnb3NzaXBUaHJlc2hvbGQiLCJ0YXJnZXQiLCJEbGF6eSIsImZhY3RvciIsInBlZXJNZXNzYWdlSURzIiwiX3B1c2hHb3NzaXAiLCJ0b3BpY0lEIiwiX21ha2VQcnVuZSIsImRvUFgiLCJiYWNrb2ZmIiwicHgiLCJ4aWQiLCJwIiwicGVlcklEIiwic2lnbmVkUGVlclJlY29yZCIsIl9saWJwMnAiLCJnZXRSYXdFbnZlbG9wZSIsIkhlYXJ0YmVhdCIsImdvc3NpcHN1YiIsIl9oZWFydGJlYXRUaW1lciIsIl9oZWFydGJlYXQiLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsInJ1blBlcmlvZGljYWxseSIsIl9pbnRlcnZhbElkIiwiZm4iLCJwZXJpb2QiLCJjYW5jZWwiLCJjbGVhclRpbWVvdXQiLCJEbG8iLCJEaGkiLCJEc2NvcmUiLCJEb3V0IiwiaGVhcnRiZWF0VGlja3MiLCJzY29yZXMiLCJnZXRTY29yZSIsInRvR3JhZnQiLCJ0b1BydW5lIiwibm9QWCIsIl9jbGVhckJhY2tvZmYiLCJwZWVyaGF2ZSIsImNsZWFyIiwiaWFza2VkIiwiX2FwcGx5SXdhbnRQZW5hbHRpZXMiLCJfZGlyZWN0Q29ubmVjdCIsInBydW5lUGVlciIsInBydW5lIiwiX2FkZEJhY2tvZmYiLCJncmFmdFBlZXIiLCJncmFmdCIsImluZWVkIiwicGVlcnNBcnJheSIsIm91dGJvdW5kIiwicm90YXRlIiwiaiIsImloYXZlIiwicGVlcnNMaXN0IiwibWVkaWFuSW5kZXgiLCJtZWRpYW5TY29yZSIsIm9wcG9ydHVuaXN0aWNHcmFmdFRocmVzaG9sZCIsIm5vdyIsIl9zZW5kR3JhZnRQcnVuZSIsIl9mbHVzaCIsImVtaXQiLCJIaXN0b3J5UlBDIiwicGFyYW1zIiwiZGlyZWN0aW9uIiwicGFnZURpcmVjdGlvbiIsIkJBQ0tXQVJEIiwiUGFnaW5nSW5mb19EaXJlY3Rpb24iLCJESVJFQ1RJT05fQkFDS1dBUkRfVU5TUEVDSUZJRUQiLCJGT1JXQVJEIiwiRElSRUNUSU9OX0ZPUldBUkQiLCJkaXJlY3Rpb25Ub1Byb3RvIiwicGFnaW5nSW5mbyIsInBhZ2VTaXplIiwiY3Vyc29yIiwiY29udGVudEZpbHRlcnMiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiRGVmYXVsdFBhZ2VTaXplIiwidGltZUZpbHRlciIsImdldFRpbWUiLCJtZXNzYWdlcyIsInF1ZXJ5T3B0cyIsImhpc3RvcnlScGNRdWVyeSIsImNyZWF0ZVF1ZXJ5IiwicmVtb3RlQWRkciIsIkhpc3RvcnlSZXNwb25zZV9FcnJvciIsIkVSUk9SX0lOVkFMSURfQ1VSU09SIiwicGFnZU1lc3NhZ2VzIiwicHJvdG9Nc2ciLCJhYm9ydCIsInJlc3BvbnNlUGFnZVNpemUiLCJxdWVyeVBhZ2VTaXplIiwiSW5kZXgiLCJQYWdpbmdJbmZvIiwiQ29udGVudEZpbHRlciIsIkhpc3RvcnlRdWVyeSIsIkhpc3RvcnlSZXNwb25zZSIsImlzU2V0IiwicHJvdG9idWZQYWNrYWdlIiwiUHVzaFJlcXVlc3QiLCJ3cml0ZXIiLCJXcml0ZXIiLCJ1aW50MzIiLCJzdHJpbmciLCJmb3JrIiwibGRlbGltIiwicmVhZGVyIiwiZW5kIiwibGVuIiwicG9zIiwic2tpcFR5cGUiLCJmcm9tSlNPTiIsIm9iamVjdCIsIlN0cmluZyIsInRvSlNPTiIsImZyb21QYXJ0aWFsIiwiaXNTdWNjZXNzIiwiYm9vbCIsImluZm8iLCJ1dGlsIiwiTG9uZyIsImNvbmZpZ3VyZSIsImRvdWJsZSIsImJ5dGVzRnJvbUJhc2U2NCIsImFyciIsImJpbiIsImJ5dGUiLCJmcm9tQ2hhckNvZGUiLCJidG9hIiwiYmFzZTY0RnJvbUJ5dGVzIiwiZ2xvYmFsVGhpcyIsInNlbGYiLCJnIiwiYXRvYiIsImI2NCIsImNoYXJDb2RlQXQiLCJwYWdpbmdJbmZvX0RpcmVjdGlvbkZyb21KU09OIiwiVU5SRUNPR05JWkVEIiwicGFnaW5nSW5mb19EaXJlY3Rpb25Ub0pTT04iLCJoaXN0b3J5UmVzcG9uc2VfRXJyb3JGcm9tSlNPTiIsIkVSUk9SX05PTkVfVU5TUEVDSUZJRUQiLCJoaXN0b3J5UmVzcG9uc2VfRXJyb3JUb0pTT04iLCJjcmVhdGVCYXNlSW5kZXgiLCJkaWdlc3QiLCJyZWNlaXZlZFRpbWUiLCJzZW5kZXJUaW1lIiwidWludDY0IiwiaW50MzIiLCJsb25nVG9OdW1iZXIiLCJsb25nIiwiZ3QiLCJNQVhfU0FGRV9JTlRFR0VSIiwidG9OdW1iZXIiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJsb2FkZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsIm0iLCJhbWRPIiwiTyIsImNodW5rSWRzIiwicHJpb3JpdHkiLCJub3RGdWxmaWxsZWQiLCJJbmZpbml0eSIsImZ1bGZpbGxlZCIsImV2ZXJ5Iiwic3BsaWNlIiwiciIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiRnVuY3Rpb24iLCJoYXNPd25Qcm9wZXJ0eSIsIm5tZCIsInBhdGhzIiwiY2hpbGRyZW4iLCJpbnN0YWxsZWRDaHVua3MiLCJjaHVua0lkIiwid2VicGFja0pzb25wQ2FsbGJhY2siLCJwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiIsIm1vcmVNb2R1bGVzIiwicnVudGltZSIsInNvbWUiLCJjaHVua0xvYWRpbmdHbG9iYWwiLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sInNvdXJjZVJvb3QiOiIifQ==